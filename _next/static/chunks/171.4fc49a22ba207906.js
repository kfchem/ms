"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{4171:(e,a,r)=>{r.r(a),r.d(a,{prepareSceneForExport:()=>l});var t=r(5339);let s=new t.kn4,n=new t.Q1f,l=e=>{let a=new t.Z58,r=e.clone(!0);(e=>{let a=[];e.traverse(e=>{e.isInstancedMesh&&e.parent&&a.push({parent:e.parent,original:e,replacement:(e=>{let a=new t.YJl;a.name=e.name||"instanced";let r=e.material;for(let c=0;c<e.count;c+=1){var l,o,i,p,u;e.getMatrixAt(c,s),e.instanceColor?e.getColorAt(c,n):!Array.isArray(r)&&"color"in r?n.copy(r.color):n.setHex(0xffffff);let f=e.geometry.clone(),m={color:n.getHex()},h=Array.isArray(r)?r[0]:r;h&&("number"==typeof h.metalness&&(m.metalness=h.metalness),"number"==typeof h.roughness&&(m.roughness=h.roughness),"number"==typeof h.opacity&&(m.opacity=h.opacity),"boolean"==typeof h.transparent&&(m.transparent=h.transparent),(h.isMeshLambertMaterial||h.isMeshToonMaterial)&&(m.metalness=null!=(o=m.metalness)?o:0,m.roughness=null!=(i=m.roughness)?i:.85),h.isMeshPhysicalMaterial&&(m.metalness=null!=(p=m.metalness)?p:0,m.roughness=null!=(u=m.roughness)?u:.35));let y=new t._4j({...m,vertexColors:!!(null==(l=f.attributes)?void 0:l.color)}),d=new t.eaF(f,y);d.applyMatrix4(s),a.add(d)}return a})(e)})}),a.forEach(e=>{let{parent:a,original:r,replacement:t}=e;a.remove(r),t.position.copy(r.position),t.rotation.copy(r.rotation),t.scale.copy(r.scale),a.add(t)})})(r),r.traverse(e=>{if(!e.isMesh)return;let a=e.material,r=e=>{var a,r,s,n,l,o,i;let p={};return e.color&&(p.color=null!=(s=null==(a=(r=e.color).getHex)?void 0:a.call(r))?s:e.color),"number"==typeof e.metalness&&(p.metalness=e.metalness),"number"==typeof e.roughness&&(p.roughness=e.roughness),"number"==typeof e.opacity&&(p.opacity=e.opacity),"boolean"==typeof e.transparent&&(p.transparent=e.transparent),(e.isMeshLambertMaterial||e.isMeshToonMaterial)&&(p.metalness=null!=(n=p.metalness)?n:0,p.roughness=null!=(l=p.roughness)?l:.85),e.isMeshPhysicalMaterial&&(p.metalness=null!=(o=p.metalness)?o:0,p.roughness=null!=(i=p.roughness)?i:.35),new t._4j(p)};Array.isArray(a)?e.material=a.map(e=>e.isMeshStandardMaterial?e:r(e)):a.isMeshStandardMaterial||(e.material=r(a))}),r.scale.setScalar(.01),r.updateMatrixWorld(!0),a.add(new t.$p8(0xffffff,.8));let l=new t.ZyN(0xffffff,.6);return l.position.set(5,10,7),a.add(l),a.add(r),a}}}]);