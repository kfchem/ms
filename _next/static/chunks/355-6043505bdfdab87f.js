"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{125:(t,e,i)=>{var s=i(2115),n="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},r=s.useState,o=s.useEffect,a=s.useLayoutEffect,l=s.useDebugValue;function h(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!n(t,i)}catch(t){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var i=e(),s=r({inst:{value:i,getSnapshot:e}}),n=s[0].inst,u=s[1];return a(function(){n.value=i,n.getSnapshot=e,h(n)&&u({inst:n})},[t,i,e]),o(function(){return h(n)&&u({inst:n}),t(function(){h(n)&&u({inst:n})})},[t]),l(i),i};e.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},258:(t,e,i)=>{i.d(e,{Hl:()=>c});var s=i(4877),n=i(2115),r=i(7548);function o(t,e){let i;return(...s)=>{window.clearTimeout(i),i=window.setTimeout(()=>t(...s),e)}}let a=["x","y","top","bottom","left","right","width","height"];var l=i(4735),h=i(5155);function u({ref:t,children:e,fallback:i,resize:l,style:u,gl:c,events:d=s.f,eventSource:p,eventPrefix:m,shadows:f,linear:v,flat:g,legacy:y,orthographic:_,frameloop:E,dpr:T,performance:x,raycaster:b,camera:w,scene:O,onPointerMissed:C,onCreated:P,...S}){n.useMemo(()=>(0,s.e)(r),[]);let A=(0,s.u)(),[M,L]=function({debounce:t,scroll:e,polyfill:i,offsetSize:s}={debounce:0,scroll:!1,offsetSize:!1}){var r,l,h;let u=i||("undefined"==typeof window?class{}:window.ResizeObserver);if(!u)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,d]=(0,n.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,n.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),m=t?"number"==typeof t?t:t.scroll:null,f=t?"number"==typeof t?t:t.resize:null,v=(0,n.useRef)(!1);(0,n.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[g,y,_]=(0,n.useMemo)(()=>{let t=()=>{let t,e;if(!p.current.element)return;let{left:i,top:n,width:r,height:o,bottom:l,right:h,x:u,y:c}=p.current.element.getBoundingClientRect(),m={left:i,top:n,width:r,height:o,bottom:l,right:h,x:u,y:c};p.current.element instanceof HTMLElement&&s&&(m.height=p.current.element.offsetHeight,m.width=p.current.element.offsetWidth),Object.freeze(m),v.current&&(t=p.current.lastBounds,e=m,!a.every(i=>t[i]===e[i]))&&d(p.current.lastBounds=m)};return[t,f?o(t,f):t,m?o(t,m):t]},[d,s,m,f]);function E(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(t=>t.removeEventListener("scroll",_,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function T(){p.current.element&&(p.current.resizeObserver=new u(_),p.current.resizeObserver.observe(p.current.element),e&&p.current.scrollContainers&&p.current.scrollContainers.forEach(t=>t.addEventListener("scroll",_,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}return r=_,l=!!e,(0,n.useEffect)(()=>{if(l)return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)},[r,l]),h=y,(0,n.useEffect)(()=>(window.addEventListener("resize",h),()=>void window.removeEventListener("resize",h)),[h]),(0,n.useEffect)(()=>{E(),T()},[e,_,y]),(0,n.useEffect)(()=>E,[]),[t=>{t&&t!==p.current.element&&(E(),p.current.element=t,p.current.scrollContainers=function t(e){let i=[];if(!e||e===document.body)return i;let{overflow:s,overflowX:n,overflowY:r}=window.getComputedStyle(e);return[s,n,r].some(t=>"auto"===t||"scroll"===t)&&i.push(e),[...i,...t(e.parentElement)]}(t),T())},c,g]}({scroll:!0,debounce:{scroll:50,resize:0},...l}),D=n.useRef(null),R=n.useRef(null);n.useImperativeHandle(t,()=>D.current);let U=(0,s.a)(C),[k,j]=n.useState(!1),[V,F]=n.useState(!1);if(k)throw k;if(V)throw V;let z=n.useRef(null);(0,s.b)(()=>{let t=D.current;L.width>0&&L.height>0&&t&&(z.current||(z.current=(0,s.c)(t)),async function(){await z.current.configure({gl:c,scene:O,events:d,shadows:f,linear:v,flat:g,legacy:y,orthographic:_,frameloop:E,dpr:T,performance:x,raycaster:b,camera:w,size:L,onPointerMissed:(...t)=>null==U.current?void 0:U.current(...t),onCreated:t=>{null==t.events.connect||t.events.connect(p?(0,s.i)(p)?p.current:p:R.current),m&&t.setEvents({compute:(t,e)=>{let i=t[m+"X"],s=t[m+"Y"];e.pointer.set(i/e.size.width*2-1,-(2*(s/e.size.height))+1),e.raycaster.setFromCamera(e.pointer,e.camera)}}),null==P||P(t)}}),z.current.render((0,h.jsx)(A,{children:(0,h.jsx)(s.E,{set:F,children:(0,h.jsx)(n.Suspense,{fallback:(0,h.jsx)(s.B,{set:j}),children:null!=e?e:null})})}))}())}),n.useEffect(()=>{let t=D.current;if(t)return()=>(0,s.d)(t)},[]);let I=p?"none":"auto";return(0,h.jsx)("div",{ref:R,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:I,...u},...S,children:(0,h.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,h.jsx)("canvas",{ref:D,style:{display:"block"},children:i})})})}function c(t){return(0,h.jsx)(l.Af,{children:(0,h.jsx)(u,{...t})})}i(8870),i(8807),i(9914)},296:(t,e,i)=>{i.d(e,{L:()=>s});let s=(0,i(2115).createContext)({})},874:(t,e,i)=>{i.d(e,{A:()=>n});var s=i(2115);let n=s.forwardRef(function(t,e){let{title:i,titleId:n,...r}=t;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":n},r),i?s.createElement("title",{id:n},i):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},1408:(t,e,i)=>{i.d(e,{N:()=>g});var s=i(5155),n=i(2115),r=i(296),o=i(4416),a=i(9686),l=i(3127);class h extends n.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(t){let{children:e,isPresent:i}=t,r=(0,n.useId)(),o=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,n.useContext)(l.Q);return(0,n.useInsertionEffect)(()=>{let{width:t,height:e,top:s,left:n}=a.current;if(i||!o.current||!t||!e)return;o.current.dataset.motionPopId=r;let l=document.createElement("style");return u&&(l.nonce=u),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[i]),(0,s.jsx)(h,{isPresent:i,childRef:o,sizeRef:a,children:n.cloneElement(e,{ref:o})})}let c=t=>{let{children:e,initial:i,isPresent:r,onExitComplete:l,custom:h,presenceAffectsLayout:c,mode:p}=t,m=(0,o.M)(d),f=(0,n.useId)(),v=(0,n.useCallback)(t=>{for(let e of(m.set(t,!0),m.values()))if(!e)return;l&&l()},[m,l]),g=(0,n.useMemo)(()=>({id:f,initial:i,isPresent:r,custom:h,onExitComplete:v,register:t=>(m.set(t,!1),()=>m.delete(t))}),c?[Math.random(),v]:[r,v]);return(0,n.useMemo)(()=>{m.forEach((t,e)=>m.set(e,!1))},[r]),n.useEffect(()=>{r||m.size||!l||l()},[r]),"popLayout"===p&&(e=(0,s.jsx)(u,{isPresent:r,children:e})),(0,s.jsx)(a.t.Provider,{value:g,children:e})};function d(){return new Map}var p=i(5601);let m=t=>t.key||"";function f(t){let e=[];return n.Children.forEach(t,t=>{(0,n.isValidElement)(t)&&e.push(t)}),e}var v=i(6553);let g=t=>{let{children:e,custom:i,initial:a=!0,onExitComplete:l,presenceAffectsLayout:h=!0,mode:u="sync",propagate:d=!1}=t,[g,y]=(0,p.xQ)(d),_=(0,n.useMemo)(()=>f(e),[e]),E=d&&!g?[]:_.map(m),T=(0,n.useRef)(!0),x=(0,n.useRef)(_),b=(0,o.M)(()=>new Map),[w,O]=(0,n.useState)(_),[C,P]=(0,n.useState)(_);(0,v.E)(()=>{T.current=!1,x.current=_;for(let t=0;t<C.length;t++){let e=m(C[t]);E.includes(e)?b.delete(e):!0!==b.get(e)&&b.set(e,!1)}},[C,E.length,E.join("-")]);let S=[];if(_!==w){let t=[..._];for(let e=0;e<C.length;e++){let i=C[e],s=m(i);E.includes(s)||(t.splice(e,0,i),S.push(i))}"wait"===u&&S.length&&(t=S),P(f(t)),O(_);return}let{forceRender:A}=(0,n.useContext)(r.L);return(0,s.jsx)(s.Fragment,{children:C.map(t=>{let e=m(t),n=(!d||!!g)&&(_===C||E.includes(e));return(0,s.jsx)(c,{isPresent:n,initial:(!T.current||!!a)&&void 0,custom:n?void 0:i,presenceAffectsLayout:h,mode:u,onExitComplete:n?void 0:()=>{if(!b.has(e))return;b.set(e,!0);let t=!0;b.forEach(e=>{e||(t=!1)}),t&&(null==A||A(),P(x.current),d&&(null==y||y()),l&&l())},children:t},e)})})}},1975:(t,e)=>{e.ConcurrentRoot=1,e.ContinuousEventPriority=8,e.DefaultEventPriority=32,e.DiscreteEventPriority=2},3127:(t,e,i)=>{i.d(e,{Q:()=>s});let s=(0,i(2115).createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"})},3577:(t,e,i)=>{i.d(e,{B:()=>s});let s="undefined"!=typeof window},3654:(t,e,i)=>{var s=i(2115),n=i(4806),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=n.useSyncExternalStore,a=s.useRef,l=s.useEffect,h=s.useMemo,u=s.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,i,s,n){var c=a(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var p=o(t,(c=h(function(){function t(t){if(!l){if(l=!0,o=t,t=s(t),void 0!==n&&d.hasValue){var e=d.value;if(n(e,t))return a=e}return a=t}if(e=a,r(o,t))return e;var i=s(t);return void 0!==n&&n(e,i)?(o=t,e):(o=t,a=i)}var o,a,l=!1,h=void 0===i?null:i;return[function(){return t(e())},null===h?void 0:function(){return t(h())}]},[e,i,s,n]))[0],c[1]);return l(function(){d.hasValue=!0,d.value=p},[p]),u(p),p}},3909:(t,e,i)=>{i.d(e,{A:()=>n});var s=i(2115);let n=s.forwardRef(function(t,e){let{title:i,titleId:n,...r}=t;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":n},r),i?s.createElement("title",{id:n},i):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))})},4416:(t,e,i)=>{i.d(e,{M:()=>n});var s=i(2115);function n(t){let e=(0,s.useRef)(null);return null===e.current&&(e.current=t()),e.current}},4486:(t,e,i)=>{let s;function n(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}i.d(e,{P:()=>rn});let r=t=>Array.isArray(t);function o(t,e){if(!Array.isArray(e))return!1;let i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}function a(t){return"string"==typeof t||Array.isArray(t)}function l(t){let e=[{},{}];return null==t||t.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function h(t,e,i,s){if("function"==typeof e){let[n,r]=l(s);e=e(void 0!==i?i:t.custom,n,r)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){let[n,r]=l(s);e=e(void 0!==i?i:t.custom,n,r)}return e}function u(t,e,i){let s=t.getProps();return h(s,e,void 0!==i?i:s.custom,t)}let c=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d=["initial",...c];function p(t){let e;return()=>(void 0===e&&(e=t()),e)}let m=p(()=>void 0!==window.ScrollTimeline);class f{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){let i=this.animations.map(i=>m()&&i.attachTimeline?i.attachTimeline(t):"function"==typeof e?e(i):void 0);return()=>{i.forEach((t,e)=>{t&&t(),this.animations[e].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class v extends f{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function g(t,e){return t?t[e]||t.default||t:void 0}function y(t){let e=0,i=t.next(e);for(;!i.done&&e<2e4;)e+=50,i=t.next(e);return e>=2e4?1/0:e}function _(t){return"function"==typeof t}function E(t,e){t.timeline=e,t.onfinish=null}let T=t=>Array.isArray(t)&&"number"==typeof t[0],x={linearEasing:void 0},b=function(t,e){let i=p(t);return()=>{var t;return null!=(t=x[e])?t:i()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),w=(t,e,i)=>{let s=e-t;return 0===s?1:(i-t)/s},O=(t,e,i=10)=>{let s="",n=Math.max(Math.round(e/i),2);for(let e=0;e<n;e++)s+=t(w(0,n-1,e))+", ";return`linear(${s.substring(0,s.length-2)})`},C=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,P={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:C([0,.65,.55,1]),circOut:C([.55,0,1,.45]),backIn:C([.31,.01,.66,-.59]),backOut:C([.33,1.53,.69,.99])},S={x:!1,y:!1};function A(t,e){let i=function(t,e,i){if(t instanceof Element)return[t];if("string"==typeof t){let e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}(t),s=new AbortController;return[i,{passive:!0,...e,signal:s.signal},()=>s.abort()]}function M(t){return e=>{"touch"===e.pointerType||S.x||S.y||t(e)}}let L=(t,e)=>!!e&&(t===e||L(t,e.parentElement)),D=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,R=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),U=new WeakSet;function k(t){return e=>{"Enter"===e.key&&t(e)}}function j(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}function V(t){return D(t)&&!(S.x||S.y)}let F=t=>1e3*t,z=t=>t,I=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],N=new Set(I),H=new Set(["width","height","top","left","right","bottom",...I]),B=t=>r(t)?t[t.length-1]||0:t,Y={skipAnimations:!1,useManualTiming:!1},Z=["read","resolveKeyframes","update","preRender","render","postRender"];function $(t,e){let i=!1,s=!0,n={delta:0,timestamp:0,isProcessing:!1},r=()=>i=!0,o=Z.reduce((t,e)=>(t[e]=function(t){let e=new Set,i=new Set,s=!1,n=!1,r=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1};function a(e){r.has(e)&&(l.schedule(e),t()),e(o)}let l={schedule:(t,n=!1,o=!1)=>{let a=o&&s?e:i;return n&&r.add(t),a.has(t)||a.add(t),t},cancel:t=>{i.delete(t),r.delete(t)},process:t=>{if(o=t,s){n=!0;return}s=!0,[e,i]=[i,e],e.forEach(a),e.clear(),s=!1,n&&(n=!1,l.process(t))}};return l}(r),t),{}),{read:a,resolveKeyframes:l,update:h,preRender:u,render:c,postRender:d}=o,p=()=>{let r=Y.useManualTiming?n.timestamp:performance.now();i=!1,n.delta=s?1e3/60:Math.max(Math.min(r-n.timestamp,40),1),n.timestamp=r,n.isProcessing=!0,a.process(n),l.process(n),h.process(n),u.process(n),c.process(n),d.process(n),n.isProcessing=!1,i&&e&&(s=!1,t(p))};return{schedule:Z.reduce((e,r)=>{let a=o[r];return e[r]=(e,r=!1,o=!1)=>(!i&&(i=!0,s=!0,n.isProcessing||t(p)),a.schedule(e,r,o)),e},{}),cancel:t=>{for(let e=0;e<Z.length;e++)o[Z[e]].cancel(t)},state:n,steps:o}}let{schedule:W,cancel:K,state:X,steps:q}=$("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:z,!0);function Q(){s=void 0}let G={now:()=>(void 0===s&&G.set(X.isProcessing||Y.useManualTiming?X.timestamp:performance.now()),s),set:t=>{s=t,queueMicrotask(Q)}};function J(t,e){-1===t.indexOf(e)&&t.push(e)}function tt(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}class te{constructor(){this.subscriptions=[]}add(t){return J(this.subscriptions,t),()=>tt(this.subscriptions,t)}notify(t,e,i){let s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](t,e,i);else for(let n=0;n<s;n++){let s=this.subscriptions[n];s&&s(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let ti={current:void 0};class ts{constructor(t,e={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{let i=G.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=G.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new te);let i=this.events[t].add(e);return"change"===t?()=>{i(),W.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ti.current&&ti.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t;let e=G.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return t=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*t:0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tn(t,e){return new ts(t,e)}let tr=t=>!!(t&&t.getVelocity);function to(t,e){let i=t.getValue("willChange");if(tr(i)&&i.add)return i.add(e)}let ta=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tl="data-"+ta("framerAppearId"),th={current:!1},tu=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t;function tc(t,e,i,s){return t===e&&i===s?z:n=>0===n||1===n?n:tu(function(t,e,i,s,n){let r,o,a=0;do(r=tu(o=e+(i-e)/2,s,n)-t)>0?i=o:e=o;while(Math.abs(r)>1e-7&&++a<12);return o}(n,0,1,t,i),e,s)}let td=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tp=t=>e=>1-t(1-e),tm=tc(.33,1.53,.69,.99),tf=tp(tm),tv=td(tf),tg=t=>(t*=2)<1?.5*tf(t):.5*(2-Math.pow(2,-10*(t-1))),ty=t=>1-Math.sin(Math.acos(t)),t_=tp(ty),tE=td(ty),tT=t=>/^0[^.\s]+$/u.test(t),tx=(t,e,i)=>i>e?e:i<t?t:i,tb={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},tw={...tb,transform:t=>tx(0,1,t)},tO={...tb,default:1},tC=t=>Math.round(1e5*t)/1e5,tP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,tS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tA=(t,e)=>i=>!!("string"==typeof i&&tS.test(i)&&i.startsWith(t)||e&&null!=i&&Object.prototype.hasOwnProperty.call(i,e)),tM=(t,e,i)=>s=>{if("string"!=typeof s)return s;let[n,r,o,a]=s.match(tP);return{[t]:parseFloat(n),[e]:parseFloat(r),[i]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},tL={...tb,transform:t=>Math.round(tx(0,255,t))},tD={test:tA("rgb","red"),parse:tM("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+tL.transform(t)+", "+tL.transform(e)+", "+tL.transform(i)+", "+tC(tw.transform(s))+")"},tR={test:tA("#"),parse:function(t){let e="",i="",s="",n="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),n=t.substring(4,5),e+=e,i+=i,s+=s,n+=n),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}},transform:tD.transform},tU=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),tk=tU("deg"),tj=tU("%"),tV=tU("px"),tF=tU("vh"),tz=tU("vw"),tI={...tj,parse:t=>tj.parse(t)/100,transform:t=>tj.transform(100*t)},tN={test:tA("hsl","hue"),parse:tM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+tj.transform(tC(e))+", "+tj.transform(tC(i))+", "+tC(tw.transform(s))+")"},tH={test:t=>tD.test(t)||tR.test(t)||tN.test(t),parse:t=>tD.test(t)?tD.parse(t):tN.test(t)?tN.parse(t):tR.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?tD.transform(t):tN.transform(t)},tB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tY="number",tZ="color",t$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tW(t){let e=t.toString(),i=[],s={color:[],number:[],var:[]},n=[],r=0,o=e.replace(t$,t=>(tH.test(t)?(s.color.push(r),n.push(tZ),i.push(tH.parse(t))):t.startsWith("var(")?(s.var.push(r),n.push("var"),i.push(t)):(s.number.push(r),n.push(tY),i.push(parseFloat(t))),++r,"${}")).split("${}");return{values:i,split:o,indexes:s,types:n}}function tK(t){return tW(t).values}function tX(t){let{split:e,types:i}=tW(t),s=e.length;return t=>{let n="";for(let r=0;r<s;r++)if(n+=e[r],void 0!==t[r]){let e=i[r];e===tY?n+=tC(t[r]):e===tZ?n+=tH.transform(t[r]):n+=t[r]}return n}}let tq=t=>"number"==typeof t?0:t,tQ={test:function(t){var e,i;return isNaN(t)&&"string"==typeof t&&((null==(e=t.match(tP))?void 0:e.length)||0)+((null==(i=t.match(tB))?void 0:i.length)||0)>0},parse:tK,createTransformer:tX,getAnimatableNone:function(t){let e=tK(t);return tX(t)(e.map(tq))}},tG=new Set(["brightness","contrast","saturate","opacity"]);function tJ(t){let[e,i]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[s]=i.match(tP)||[];if(!s)return t;let n=i.replace(s,""),r=+!!tG.has(e);return s!==i&&(r*=100),e+"("+r+n+")"}let t0=/\b([a-z-]*)\(.*?\)/gu,t1={...tQ,getAnimatableNone:t=>{let e=t.match(t0);return e?e.map(tJ).join(" "):t}},t2={...tb,transform:Math.round},t5={borderWidth:tV,borderTopWidth:tV,borderRightWidth:tV,borderBottomWidth:tV,borderLeftWidth:tV,borderRadius:tV,radius:tV,borderTopLeftRadius:tV,borderTopRightRadius:tV,borderBottomRightRadius:tV,borderBottomLeftRadius:tV,width:tV,maxWidth:tV,height:tV,maxHeight:tV,top:tV,right:tV,bottom:tV,left:tV,padding:tV,paddingTop:tV,paddingRight:tV,paddingBottom:tV,paddingLeft:tV,margin:tV,marginTop:tV,marginRight:tV,marginBottom:tV,marginLeft:tV,backgroundPositionX:tV,backgroundPositionY:tV,rotate:tk,rotateX:tk,rotateY:tk,rotateZ:tk,scale:tO,scaleX:tO,scaleY:tO,scaleZ:tO,skew:tk,skewX:tk,skewY:tk,distance:tV,translateX:tV,translateY:tV,translateZ:tV,x:tV,y:tV,z:tV,perspective:tV,transformPerspective:tV,opacity:tw,originX:tI,originY:tI,originZ:tV,zIndex:t2,size:tV,fillOpacity:tw,strokeOpacity:tw,numOctaves:t2},t3={...t5,color:tH,backgroundColor:tH,outlineColor:tH,fill:tH,stroke:tH,borderColor:tH,borderTopColor:tH,borderRightColor:tH,borderBottomColor:tH,borderLeftColor:tH,filter:t1,WebkitFilter:t1},t4=t=>t3[t];function t9(t,e){let i=t4(t);return i!==t1&&(i=tQ),i.getAnimatableNone?i.getAnimatableNone(e):void 0}let t8=new Set(["auto","none","0"]),t6=t=>t===tb||t===tV,t7=(t,e)=>parseFloat(t.split(", ")[e]),et=(t,e)=>(i,{transform:s})=>{if("none"===s||!s)return 0;let n=s.match(/^matrix3d\((.+)\)$/u);if(n)return t7(n[1],e);{let e=s.match(/^matrix\((.+)\)$/u);return e?t7(e[1],t):0}},ee=new Set(["x","y","z"]),ei=I.filter(t=>!ee.has(t)),es={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:et(4,13),y:et(5,14)};es.translateX=es.x,es.translateY=es.y;let en=new Set,er=!1,eo=!1;function ea(){if(eo){let t=Array.from(en).filter(t=>t.needsMeasurement),e=new Set(t.map(t=>t.element)),i=new Map;e.forEach(t=>{let e=function(t){let e=[];return ei.forEach(i=>{let s=t.getValue(i);void 0!==s&&(e.push([i,s.get()]),s.set(+!!i.startsWith("scale")))}),e}(t);e.length&&(i.set(t,e),t.render())}),t.forEach(t=>t.measureInitialState()),e.forEach(t=>{t.render();let e=i.get(t);e&&e.forEach(([e,i])=>{var s;null==(s=t.getValue(e))||s.set(i)})}),t.forEach(t=>t.measureEndState()),t.forEach(t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)})}eo=!1,er=!1,en.forEach(t=>t.complete()),en.clear()}function el(){en.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(eo=!0)})}class eh{constructor(t,e,i,s,n,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=n,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(en.add(this),er||(er=!0,W.read(el),W.resolveKeyframes(ea))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let n=0;n<t.length;n++)if(null===t[n])if(0===n){let n=null==s?void 0:s.get(),r=t[t.length-1];if(void 0!==n)t[0]=n;else if(i&&e){let s=i.readValue(e,r);null!=s&&(t[0]=s)}void 0===t[0]&&(t[0]=r),s&&void 0===n&&s.set(t[0])}else t[n]=t[n-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),en.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,en.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let eu=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ec=t=>e=>"string"==typeof e&&e.startsWith(t),ed=ec("--"),ep=ec("var(--"),em=t=>!!ep(t)&&ef.test(t.split("/*")[0].trim()),ef=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ev=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eg=t=>e=>e.test(t),ey=[tb,tV,tj,tk,tz,tF,{test:t=>"auto"===t,parse:t=>t}],e_=t=>ey.find(eg(t));class eE extends eh{constructor(t,e,i,s,n){super(t,e,i,s,n,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let i=0;i<t.length;i++){let s=t[i];if("string"==typeof s&&em(s=s.trim())){let n=function t(e,i,s=1){z(s<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[n,r]=function(t){let e=ev.exec(t);if(!e)return[,];let[,i,s,n]=e;return[`--${null!=i?i:s}`,n]}(e);if(!n)return;let o=window.getComputedStyle(i).getPropertyValue(n);if(o){let t=o.trim();return eu(t)?parseFloat(t):t}return em(r)?t(r,i,s+1):r}(s,e.current);void 0!==n&&(t[i]=n),i===t.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!H.has(i)||2!==t.length)return;let[s,n]=t,r=e_(s),o=e_(n);if(r!==o)if(t6(r)&&t6(o))for(let e=0;e<t.length;e++){let i=t[e];"string"==typeof i&&(t[e]=parseFloat(i))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:e}=this,i=[];for(let e=0;e<t.length;e++){var s;("number"==typeof(s=t[e])?0===s:null===s||"none"===s||"0"===s||tT(s))&&i.push(e)}i.length&&function(t,e,i){let s,n=0;for(;n<t.length&&!s;){let e=t[n];"string"==typeof e&&!t8.has(e)&&tW(e).values.length&&(s=t[n]),n++}if(s&&i)for(let n of e)t[n]=t9(i,s)}(t,i,e)}measureInitialState(){let{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=es[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;let s=e[e.length-1];void 0!==s&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;let{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;let n=e.getValue(i);n&&n.jump(this.measuredOrigin,!1);let r=s.length-1,o=s[r];s[r]=es[i](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null==(t=this.removedTransforms)?void 0:t.length)&&this.removedTransforms.forEach(([t,i])=>{e.getValue(t).set(i)}),this.resolveNoneKeyframes()}}let eT=(t,e)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(tQ.test(t)||"0"===t)&&!t.startsWith("url(")),ex=t=>null!==t;function eb(t,{repeat:e,repeatType:i="loop"},s){let n=t.filter(ex),r=e&&"loop"!==i&&e%2==1?0:n.length-1;return r&&void 0!==s?s:n[r]}class ew{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:r="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=G.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:n,repeatType:r,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(el(),ea()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=G.now(),this.hasAttemptedResolve=!0;let{name:i,type:s,velocity:n,delay:r,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(t,e,i,s){let n=t[0];if(null===n)return!1;if("display"===e||"visibility"===e)return!0;let r=t[t.length-1],o=eT(n,e),a=eT(r,e);return z(o===a,`You are trying to animate ${e} from "${n}" to "${r}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${r} via the \`style\` property.`),!!o&&!!a&&(function(t){let e=t[0];if(1===t.length)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}(t)||("spring"===i||_(i))&&s)}(t,i,s,n))if(th.current||!r){a&&a(eb(t,this.options,e)),o&&o(),this.resolveFinishedPromise();return}else this.options.duration=0;let h=this.initPlayback(t,e);!1!==h&&(this._resolved={keyframes:t,finalKeyframe:e,...h},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}let eO=(t,e,i)=>t+(e-t)*i;function eC(t,e,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?t+(e-t)*6*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function eP(t,e){return i=>i>0?e:t}let eS=(t,e,i)=>{let s=t*t,n=i*(e*e-s)+s;return n<0?0:Math.sqrt(n)},eA=[tR,tD,tN];function eM(t){let e=eA.find(e=>e.test(t));if(z(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let i=e.parse(t);return e===tN&&(i=function({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,i/=100;let n=0,r=0,o=0;if(e/=100){let s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;n=eC(a,s,t+1/3),r=eC(a,s,t),o=eC(a,s,t-1/3)}else n=r=o=i;return{red:Math.round(255*n),green:Math.round(255*r),blue:Math.round(255*o),alpha:s}}(i)),i}let eL=(t,e)=>{let i=eM(t),s=eM(e);if(!i||!s)return eP(t,e);let n={...i};return t=>(n.red=eS(i.red,s.red,t),n.green=eS(i.green,s.green,t),n.blue=eS(i.blue,s.blue,t),n.alpha=eO(i.alpha,s.alpha,t),tD.transform(n))},eD=(t,e)=>i=>e(t(i)),eR=(...t)=>t.reduce(eD),eU=new Set(["none","hidden"]);function ek(t,e){return i=>eO(t,e,i)}function ej(t){return"number"==typeof t?ek:"string"==typeof t?em(t)?eP:tH.test(t)?eL:ez:Array.isArray(t)?eV:"object"==typeof t?tH.test(t)?eL:eF:eP}function eV(t,e){let i=[...t],s=i.length,n=t.map((t,i)=>ej(t)(t,e[i]));return t=>{for(let e=0;e<s;e++)i[e]=n[e](t);return i}}function eF(t,e){let i={...t,...e},s={};for(let n in i)void 0!==t[n]&&void 0!==e[n]&&(s[n]=ej(t[n])(t[n],e[n]));return t=>{for(let e in s)i[e]=s[e](t);return i}}let ez=(t,e)=>{let i=tQ.createTransformer(e),s=tW(t),n=tW(e);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?eU.has(t)&&!n.values.length||eU.has(e)&&!s.values.length?function(t,e){return eU.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}(t,e):eR(eV(function(t,e){var i;let s=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){let o=e.types[r],a=t.indexes[o][n[o]],l=null!=(i=t.values[a])?i:0;s[r]=l,n[o]++}return s}(s,n),n.values),i):(z(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eP(t,e))};function eI(t,e,i){return"number"==typeof t&&"number"==typeof e&&"number"==typeof i?eO(t,e,i):ej(t)(t,e)}function eN(t,e,i){var s,n;let r=Math.max(e-5,0);return s=i-t(r),(n=e-r)?1e3/n*s:0}let eH={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function eB(t,e){return t*Math.sqrt(1-e*e)}let eY=["duration","bounce"],eZ=["stiffness","damping","mass"];function e$(t,e){return e.some(e=>void 0!==t[e])}function eW(t=eH.visualDuration,e=eH.bounce){let i,s="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:e}:t,{restSpeed:n,restDelta:r}=s,o=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:h,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:m}=function(t){let e={velocity:eH.velocity,stiffness:eH.stiffness,damping:eH.damping,mass:eH.mass,isResolvedFromDuration:!1,...t};if(!e$(t,eZ)&&e$(t,eY))if(t.visualDuration){let i=2*Math.PI/(1.2*t.visualDuration),s=i*i,n=2*tx(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:eH.mass,stiffness:s,damping:n}}else{let i=function({duration:t=eH.duration,bounce:e=eH.bounce,velocity:i=eH.velocity,mass:s=eH.mass}){let n,r;z(t<=F(eH.maxDuration),"Spring duration must be 10 seconds or less");let o=1-e;o=tx(eH.minDamping,eH.maxDamping,o),t=tx(eH.minDuration,eH.maxDuration,t/1e3),o<1?(n=e=>{let s=e*o,n=s*t;return .001-(s-i)/eB(e,o)*Math.exp(-n)},r=e=>{let s=e*o*t,r=Math.pow(o,2)*Math.pow(e,2)*t,a=Math.exp(-s),l=eB(Math.pow(e,2),o);return(s*i+i-r)*a*(-n(e)+.001>0?-1:1)/l}):(n=e=>-.001+Math.exp(-e*t)*((e-i)*t+1),r=e=>t*t*(i-e)*Math.exp(-e*t));let a=function(t,e,i){let s=i;for(let i=1;i<12;i++)s-=t(s)/e(s);return s}(n,r,5/t);if(t=F(t),isNaN(a))return{stiffness:eH.stiffness,damping:eH.damping,duration:t};{let e=Math.pow(a,2)*s;return{stiffness:e,damping:2*o*Math.sqrt(s*e),duration:t}}}(t);(e={...e,...i,mass:eH.mass}).isResolvedFromDuration=!0}return e}({...s,velocity:-((s.velocity||0)/1e3)}),f=p||0,v=u/(2*Math.sqrt(h*c)),g=a-o,_=Math.sqrt(h/c)/1e3,E=5>Math.abs(g);if(n||(n=E?eH.restSpeed.granular:eH.restSpeed.default),r||(r=E?eH.restDelta.granular:eH.restDelta.default),v<1){let t=eB(_,v);i=e=>a-Math.exp(-v*_*e)*((f+v*_*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}else if(1===v)i=t=>a-Math.exp(-_*t)*(g+(f+_*g)*t);else{let t=_*Math.sqrt(v*v-1);i=e=>{let i=Math.exp(-v*_*e),s=Math.min(t*e,300);return a-i*((f+v*_*g)*Math.sinh(s)+t*g*Math.cosh(s))/t}}let T={calculatedDuration:m&&d||null,next:t=>{let e=i(t);if(m)l.done=t>=d;else{let s=0;v<1&&(s=0===t?F(f):eN(i,t,e));let o=Math.abs(a-e)<=r;l.done=Math.abs(s)<=n&&o}return l.value=l.done?a:e,l},toString:()=>{let t=Math.min(y(T),2e4),e=O(e=>T.next(t*e).value,t,30);return t+"ms "+e}};return T}function eK({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:h=.5,restSpeed:u}){let c,d,p=t[0],m={done:!1,value:p},f=i*e,v=p+f,g=void 0===o?v:o(v);g!==v&&(f=g-p);let y=t=>-f*Math.exp(-t/s),_=t=>g+y(t),E=t=>{let e=y(t),i=_(t);m.done=Math.abs(e)<=h,m.value=m.done?g:i},T=t=>{let e;if(e=m.value,void 0!==a&&e<a||void 0!==l&&e>l){var i;c=t,d=eW({keyframes:[m.value,(i=m.value,void 0===a?l:void 0===l||Math.abs(a-i)<Math.abs(l-i)?a:l)],velocity:eN(_,t,m.value),damping:n,stiffness:r,restDelta:h,restSpeed:u})}};return T(0),{calculatedDuration:null,next:t=>{let e=!1;return(d||void 0!==c||(e=!0,E(t),T(t)),void 0!==c&&t>=c)?d.next(t-c):(e||E(t),m)}}}let eX=tc(.42,0,1,1),eq=tc(0,0,.58,1),eQ=tc(.42,0,.58,1),eG={linear:z,easeIn:eX,easeInOut:eQ,easeOut:eq,circIn:ty,circInOut:tE,circOut:t_,backIn:tf,backInOut:tv,backOut:tm,anticipate:tg},eJ=t=>{if(T(t)){z(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,i,s,n]=t;return tc(e,i,s,n)}return"string"==typeof t?(z(void 0!==eG[t],`Invalid easing type '${t}'`),eG[t]):t};function e0({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){var n;let r=Array.isArray(s)&&"number"!=typeof s[0]?s.map(eJ):eJ(s),o={done:!1,value:e[0]},a=function(t,e,{clamp:i=!0,ease:s,mixer:n}={}){let r=t.length;if(z(r===e.length,"Both input and output ranges must be the same length"),1===r)return()=>e[0];if(2===r&&e[0]===e[1])return()=>e[1];let o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,i){let s=[],n=i||eI,r=t.length-1;for(let i=0;i<r;i++){let r=n(t[i],t[i+1]);e&&(r=eR(Array.isArray(e)?e[i]||z:e,r)),s.push(r)}return s}(e,s,n),l=a.length,h=i=>{if(o&&i<t[0])return e[0];let s=0;if(l>1)for(;s<t.length-2&&!(i<t[s+1]);s++);let n=w(t[s],t[s+1],i);return a[s](n)};return i?e=>h(tx(t[0],t[r-1],e)):h}((n=i&&i.length===e.length?i:function(t){let e=[0];return!function(t,e){let i=t[t.length-1];for(let s=1;s<=e;s++){let n=w(0,e,s);t.push(eO(i,1,n))}}(e,t.length-1),e}(e),n.map(e=>e*t)),e,{ease:Array.isArray(r)?r:e.map(()=>r||eQ).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(o.value=a(e),o.done=e>=t,o)}}let e1=t=>{let e=({timestamp:e})=>t(e);return{start:()=>W.update(e,!0),stop:()=>K(e),now:()=>X.isProcessing?X.timestamp:G.now()}},e2={decay:eK,inertia:eK,tween:e0,keyframes:e0,spring:eW},e5=t=>t/100;class e3 extends ew{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:t}=this.options;t&&t()};let{name:e,motionValue:i,element:s,keyframes:n}=this.options,r=(null==s?void 0:s.KeyframeResolver)||eh,o=(t,e)=>this.onKeyframesResolved(t,e);this.resolver=new r(n,o,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){let e,i,{type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=this.options,l=_(s)?s:e2[s]||e0;l!==e0&&"number"!=typeof t[0]&&(e=eR(e5,eI(t[0],t[1])),t=[0,100]);let h=l({...this.options,keyframes:t});"mirror"===o&&(i=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),null===h.calculatedDuration&&(h.calculatedDuration=y(h));let{calculatedDuration:u}=h,c=u+r;return{generator:h,mirroredGenerator:i,mapPercentToKeyframes:e,calculatedDuration:u,resolvedDuration:c,totalDuration:c*(n+1)-r}}onPostResolved(){let{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){let{resolved:i}=this;if(!i){let{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}let{finalKeyframe:s,generator:n,mirroredGenerator:r,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:h,resolvedDuration:u}=i;if(null===this.startTime)return n.next(0);let{delay:c,repeat:d,repeatType:p,repeatDelay:m,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;let v=this.currentTime-c*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>h;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=h);let y=this.currentTime,_=n;if(d){let t=Math.min(this.currentTime,h)/u,e=Math.floor(t),i=t%1;!i&&t>=1&&(i=1),1===i&&e--,(e=Math.min(e,d+1))%2&&("reverse"===p?(i=1-i,m&&(i-=m/u)):"mirror"===p&&(_=r)),y=tx(0,1,i)*u}let E=g?{done:!1,value:a[0]}:_.next(y);o&&(E.value=o(E.value));let{done:T}=E;g||null===l||(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);let x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&T);return x&&void 0!==s&&(E.value=eb(a,this.options,s)),f&&f(E.value),x&&this.finish(),E}get duration(){let{resolved:t}=this;return t?t.calculatedDuration/1e3:0}get time(){return this.currentTime/1e3}set time(t){t=F(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){let e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=this.currentTime/1e3)}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:t=e1,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(t=>this.tick(t))),e&&e();let s=this.driver.now();null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=s):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(t=this.currentTime)?t:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}let e4=new Set(["opacity","clipPath","filter","transform"]),e9=p(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),e8={anticipate:tg,backInOut:tv,circInOut:tE};class e6 extends ew{constructor(t){super(t);let{name:e,motionValue:i,element:s,keyframes:n}=this.options;this.resolver=new eE(n,(t,e)=>this.onKeyframesResolved(t,e),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){var i;let{duration:s=300,times:n,ease:r,type:o,motionValue:a,name:l,startTime:h}=this.options;if(!a.owner||!a.owner.current)return!1;if("string"==typeof r&&b()&&r in e8&&(r=e8[r]),_((i=this.options).type)||"spring"===i.type||!function t(e){return!!("function"==typeof e&&b()||!e||"string"==typeof e&&(e in P||b())||T(e)||Array.isArray(e)&&e.every(t))}(i.ease)){let{onComplete:e,onUpdate:i,motionValue:a,element:l,...h}=this.options,u=function(t,e){let i=new e3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0}),s={done:!1,value:t[0]},n=[],r=0;for(;!s.done&&r<2e4;)n.push((s=i.sample(r)).value),r+=10;return{times:void 0,keyframes:n,duration:r-10,ease:"linear"}}(t,h);1===(t=u.keyframes).length&&(t[1]=t[0]),s=u.duration,n=u.times,r=u.ease,o="keyframes"}let u=function(t,e,i,{delay:s=0,duration:n=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){let h={[e]:i};l&&(h.offset=l);let u=function t(e,i){if(e)return"function"==typeof e&&b()?O(e,i):T(e)?C(e):Array.isArray(e)?e.map(e=>t(e,i)||P.easeOut):P[e]}(a,n);return Array.isArray(u)&&(h.easing=u),t.animate(h,{delay:s,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:"reverse"===o?"alternate":"normal"})}(a.owner.current,l,t,{...this.options,duration:s,times:n,ease:r});return u.startTime=null!=h?h:this.calcStartTime(),this.pendingTimeline?(E(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:i}=this.options;a.set(eb(t,this.options,e)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:n,type:o,ease:r,keyframes:t}}get duration(){let{resolved:t}=this;if(!t)return 0;let{duration:e}=t;return e/1e3}get time(){let{resolved:t}=this;if(!t)return 0;let{animation:e}=t;return(e.currentTime||0)/1e3}set time(t){let{resolved:e}=this;if(!e)return;let{animation:i}=e;i.currentTime=F(t)}get speed(){let{resolved:t}=this;if(!t)return 1;let{animation:e}=t;return e.playbackRate}set speed(t){let{resolved:e}=this;if(!e)return;let{animation:i}=e;i.playbackRate=t}get state(){let{resolved:t}=this;if(!t)return"idle";let{animation:e}=t;return e.playState}get startTime(){let{resolved:t}=this;if(!t)return null;let{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){let{resolved:e}=this;if(!e)return z;let{animation:i}=e;E(i,t)}else this.pendingTimeline=t;return z}play(){if(this.isStopped)return;let{resolved:t}=this;if(!t)return;let{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){let{resolved:t}=this;if(!t)return;let{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:t}=this;if(!t)return;let{animation:e,keyframes:i,duration:s,type:n,ease:r,times:o}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){let{motionValue:t,onUpdate:e,onComplete:a,element:l,...h}=this.options,u=new e3({...h,keyframes:i,duration:s,type:n,ease:r,times:o,isGenerator:!0}),c=F(this.time);t.setWithVelocity(u.sample(c-10).value,u.sample(c).value,10)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:t}=this;t&&t.animation.finish()}cancel(){let{resolved:t}=this;t&&t.animation.cancel()}static supports(t){let{motionValue:e,name:i,repeatDelay:s,repeatType:n,damping:r,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=e.owner.getProps();return e9()&&i&&e4.has(i)&&!a&&!l&&!s&&"mirror"!==n&&0!==r&&"inertia"!==o}}let e7={type:"spring",stiffness:500,damping:25,restSpeed:10},it={type:"keyframes",duration:.8},ie={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ii=(t,e,i,s={},n,r)=>o=>{let a=g(s,t)||{},l=a.delay||s.delay||0,{elapsed:h=0}=s;h-=F(l);let u={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-h,onUpdate:t=>{e.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:n};!function({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:n,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:h,...u}){return!!Object.keys(u).length}(a)&&(u={...u,...((t,{keyframes:e})=>e.length>2?it:N.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:e7:ie)(t,u)}),u.duration&&(u.duration=F(u.duration)),u.repeatDelay&&(u.repeatDelay=F(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let c=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(u.duration=0,0===u.delay&&(c=!0)),(th.current||Y.skipAnimations)&&(c=!0,u.duration=0,u.delay=0),c&&!r&&void 0!==e.get()){let t=eb(u.keyframes,a);if(void 0!==t)return W.update(()=>{u.onUpdate(t),u.onComplete()}),new v([])}return!r&&e6.supports(u)?new e6(u):new e3(u)};function is(t,e,{delay:i=0,transitionOverride:s,type:n}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;s&&(o=s);let h=[],c=n&&t.animationState&&t.animationState.getState()[n];for(let e in l){let s=t.getValue(e,null!=(r=t.latestValues[e])?r:null),n=l[e];if(void 0===n||c&&function({protectedKeys:t,needsAnimating:e},i){let s=t.hasOwnProperty(i)&&!0!==e[i];return e[i]=!1,s}(c,e))continue;let a={delay:i,...g(o||{},e)},u=!1;if(window.MotionHandoffAnimation){let i=t.props[tl];if(i){let t=window.MotionHandoffAnimation(i,e,W);null!==t&&(a.startTime=t,u=!0)}}to(t,e),s.start(ii(e,s,n,t.shouldReduceMotion&&H.has(e)?{type:!1}:a,t,u));let d=s.animation;d&&h.push(d)}return a&&Promise.all(h).then(()=>{W.update(()=>{a&&function(t,e){let{transitionEnd:i={},transition:s={},...n}=u(t,e)||{};for(let e in n={...n,...i}){let i=B(n[e]);t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,tn(i))}}(t,a)})}),h}function ir(t,e,i={}){var s;let n=u(t,e,"exit"===i.type?null==(s=t.presenceContext)?void 0:s.custom:void 0),{transition:r=t.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(r=i.transitionOverride);let o=n?()=>Promise.all(is(t,n,i)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(s=0)=>{let{delayChildren:n=0,staggerChildren:o,staggerDirection:a}=r;return function(t,e,i=0,s=0,n=1,r){let o=[],a=(t.variantChildren.size-1)*s,l=1===n?(t=0)=>t*s:(t=0)=>a-t*s;return Array.from(t.variantChildren).sort(io).forEach((t,s)=>{t.notify("AnimationStart",e),o.push(ir(t,e,{...r,delay:i+l(s)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(o)}(t,e,n+s,o,a,i)}:()=>Promise.resolve(),{when:l}=r;if(!l)return Promise.all([o(),a(i.delay)]);{let[t,e]="beforeChildren"===l?[o,a]:[a,o];return t().then(()=>e())}}function io(t,e){return t.sortNodePosition(e)}let ia=d.length,il=[...c].reverse(),ih=c.length;function iu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ic(){return{animate:iu(!0),whileInView:iu(),whileHover:iu(),whileTap:iu(),whileDrag:iu(),whileFocus:iu(),exit:iu()}}class id{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ip extends id{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:i})=>(function(t,e,i={}){let s;if(t.notify("AnimationStart",e),Array.isArray(e))s=Promise.all(e.map(e=>ir(t,e,i)));else if("string"==typeof e)s=ir(t,e,i);else{let n="function"==typeof e?u(t,e,i.custom):e;s=Promise.all(is(t,n,i))}return s.then(()=>{t.notify("AnimationComplete",e)})})(t,e,i))),i=ic(),s=!0,l=e=>(i,s)=>{var n;let r=u(t,s,"exit"===e?null==(n=t.presenceContext)?void 0:n.custom:void 0);if(r){let{transition:t,transitionEnd:e,...s}=r;i={...i,...s,...e}}return i};function h(h){let{props:u}=t,c=function t(e){if(!e)return;if(!e.isControllingVariants){let i=e.parent&&t(e.parent)||{};return void 0!==e.props.initial&&(i.initial=e.props.initial),i}let i={};for(let t=0;t<ia;t++){let s=d[t],n=e.props[s];(a(n)||!1===n)&&(i[s]=n)}return i}(t.parent)||{},p=[],m=new Set,f={},v=1/0;for(let e=0;e<ih;e++){var g,y;let d=il[e],_=i[d],E=void 0!==u[d]?u[d]:c[d],T=a(E),x=d===h?_.isActive:null;!1===x&&(v=e);let b=E===c[d]&&E!==u[d]&&T;if(b&&s&&t.manuallyAnimateOnMount&&(b=!1),_.protectedKeys={...f},!_.isActive&&null===x||!E&&!_.prevProp||n(E)||"boolean"==typeof E)continue;let w=(g=_.prevProp,"string"==typeof(y=E)?y!==g:!!Array.isArray(y)&&!o(y,g)),O=w||d===h&&_.isActive&&!b&&T||e>v&&T,C=!1,P=Array.isArray(E)?E:[E],S=P.reduce(l(d),{});!1===x&&(S={});let{prevResolvedValues:A={}}=_,M={...A,...S},L=e=>{O=!0,m.has(e)&&(C=!0,m.delete(e)),_.needsAnimating[e]=!0;let i=t.getValue(e);i&&(i.liveStyle=!1)};for(let t in M){let e=S[t],i=A[t];if(!f.hasOwnProperty(t))(r(e)&&r(i)?o(e,i):e===i)?void 0!==e&&m.has(t)?L(t):_.protectedKeys[t]=!0:null!=e?L(t):m.add(t)}_.prevProp=E,_.prevResolvedValues=S,_.isActive&&(f={...f,...S}),s&&t.blockInitialAnimation&&(O=!1);let D=!(b&&w)||C;O&&D&&p.push(...P.map(t=>({animation:t,options:{type:d}})))}if(m.size){let e={};m.forEach(i=>{let s=t.getBaseTarget(i),n=t.getValue(i);n&&(n.liveStyle=!0),e[i]=null!=s?s:null}),p.push({animation:e})}let _=!!p.length;return s&&(!1===u.initial||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(p):Promise.resolve()}return{animateChanges:h,setActive:function(e,s){var n;if(i[e].isActive===s)return Promise.resolve();null==(n=t.variantChildren)||n.forEach(t=>{var i;return null==(i=t.animationState)?void 0:i.setActive(e,s)}),i[e].isActive=s;let r=h(e);for(let t in i)i[t].protectedKeys={};return r},setAnimateFunction:function(i){e=i(t)},getState:()=>i,reset:()=>{i=ic(),s=!0}}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();n(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null==(t=this.unmountControls)||t.call(this)}}let im=0;class iv extends id{constructor(){super(...arguments),this.id=im++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;let s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}function ig(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function iy(t){return{point:{x:t.pageX,y:t.pageY}}}function i_(t,e,i,s){return ig(t,e,t=>D(t)&&i(t,iy(t)),s)}let iE=(t,e)=>Math.abs(t-e);class iT{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=iw(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,i=function(t,e){return Math.sqrt(iE(t.x,e.x)**2+iE(t.y,e.y)**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!i)return;let{point:s}=t,{timestamp:n}=X;this.history.push({...s,timestamp:n});let{onStart:r,onMove:o}=this.handlers;e||(r&&r(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=ix(e,this.transformPagePoint),W.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();let{onEnd:i,onSessionEnd:s,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=iw("pointercancel"===t.type?this.lastMoveEventInfo:ix(e,this.transformPagePoint),this.history);this.startEvent&&i&&i(t,r),s&&s(t,r)},!D(t))return;this.dragSnapToOrigin=n,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;let r=ix(iy(t),this.transformPagePoint),{point:o}=r,{timestamp:a}=X;this.history=[{...o,timestamp:a}];let{onSessionStart:l}=e;l&&l(t,iw(r,this.history)),this.removeListeners=eR(i_(this.contextWindow,"pointermove",this.handlePointerMove),i_(this.contextWindow,"pointerup",this.handlePointerUp),i_(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),K(this.updatePoint)}}function ix(t,e){return e?{point:e(t.point)}:t}function ib(t,e){return{x:t.x-e.x,y:t.y-e.y}}function iw({point:t},e){return{point:t,delta:ib(t,iO(e)),offset:ib(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null,n=iO(t);for(;i>=0&&(s=t[i],!(n.timestamp-s.timestamp>F(.1)));)i--;if(!s)return{x:0,y:0};let r=(n.timestamp-s.timestamp)/1e3;if(0===r)return{x:0,y:0};let o={x:(n.x-s.x)/r,y:(n.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(e,.1)}}function iO(t){return t[t.length-1]}function iC(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function iP(t){return t.max-t.min}function iS(t,e,i,s=.5){t.origin=s,t.originPoint=eO(e.min,e.max,t.origin),t.scale=iP(i)/iP(e),t.translate=eO(i.min,i.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function iA(t,e,i,s){iS(t.x,e.x,i.x,s?s.originX:void 0),iS(t.y,e.y,i.y,s?s.originY:void 0)}function iM(t,e,i){t.min=i.min+e.min,t.max=t.min+iP(e)}function iL(t,e,i){t.min=e.min-i.min,t.max=t.min+iP(e)}function iD(t,e,i){iL(t.x,e.x,i.x),iL(t.y,e.y,i.y)}function iR(t,e,i){return{min:void 0!==e?t.min+e:void 0,max:void 0!==i?t.max+i-(t.max-t.min):void 0}}function iU(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function ik(t,e,i){return{min:ij(t,e),max:ij(t,i)}}function ij(t,e){return"number"==typeof t?t:t[e]||0}let iV=()=>({translate:0,scale:1,origin:0,originPoint:0}),iF=()=>({x:iV(),y:iV()}),iz=()=>({min:0,max:0}),iI=()=>({x:iz(),y:iz()});function iN(t){return[t("x"),t("y")]}function iH({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function iB(t){return void 0===t||1===t}function iY({scale:t,scaleX:e,scaleY:i}){return!iB(t)||!iB(e)||!iB(i)}function iZ(t){return iY(t)||i$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function i$(t){var e,i;return(e=t.x)&&"0%"!==e||(i=t.y)&&"0%"!==i}function iW(t,e,i,s,n){return void 0!==n&&(t=s+n*(t-s)),s+i*(t-s)+e}function iK(t,e=0,i=1,s,n){t.min=iW(t.min,e,i,s,n),t.max=iW(t.max,e,i,s,n)}function iX(t,{x:e,y:i}){iK(t.x,e.translate,e.scale,e.originPoint),iK(t.y,i.translate,i.scale,i.originPoint)}function iq(t,e){t.min=t.min+e,t.max=t.max+e}function iQ(t,e,i,s,n=.5){let r=eO(t.min,t.max,n);iK(t,e,i,r,s)}function iG(t,e){iQ(t.x,e.x,e.scaleX,e.scale,e.originX),iQ(t.y,e.y,e.scaleY,e.scale,e.originY)}function iJ(t,e){return iH(function(t,e){if(!e)return t;let i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}(t.getBoundingClientRect(),e))}let i0=({current:t})=>t?t.ownerDocument.defaultView:null,i1=new WeakMap;class i2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iI(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let s=t=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(iy(t).point)},n=(t,e)=>{let{drag:i,dragPropagation:s,onDragStart:n}=this.getProps();if(i&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(t){if("x"===t||"y"===t)if(S[t])return null;else return S[t]=!0,()=>{S[t]=!1};return S.x||S.y?null:(S.x=S.y=!0,()=>{S.x=S.y=!1})}(i),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iN(t=>{let e=this.getAxisMotionValue(t).get()||0;if(tj.test(e)){let{projection:i}=this.visualElement;if(i&&i.layout){let s=i.layout.layoutBox[t];s&&(e=iP(s)*(parseFloat(e)/100))}}this.originPoint[t]=e}),n&&W.postRender(()=>n(t,e)),to(this.visualElement,"transform");let{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},r=(t,e)=>{let{dragPropagation:i,dragDirectionLock:s,onDirectionLock:n,onDrag:r}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:o}=e;if(s&&null===this.currentDirection){this.currentDirection=function(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}(o),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",e.point,o),this.updateAxis("y",e.point,o),this.visualElement.render(),r&&r(t,e)},o=(t,e)=>this.stop(t,e),a=()=>iN(t=>{var e;return"paused"===this.getAnimationState(t)&&(null==(e=this.getAxisMotionValue(t).animation)?void 0:e.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new iT(t,{onSessionStart:s,onStart:n,onMove:r,onSessionEnd:o,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:i0(this.visualElement)})}stop(t,e){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:s}=e;this.startAnimation(s);let{onDragEnd:n}=this.getProps();n&&W.postRender(()=>n(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){let{drag:s}=this.getProps();if(!i||!i5(t,s,this.currentDirection))return;let n=this.getAxisMotionValue(t),r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=function(t,{min:e,max:i},s){return void 0!==e&&t<e?t=s?eO(e,t,s.min):Math.max(t,e):void 0!==i&&t>i&&(t=s?eO(i,t,s.max):Math.min(t,i)),t}(r,this.constraints[t],this.elastic[t])),n.set(r)}resolveConstraints(){var t;let{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(t=this.visualElement.projection)?void 0:t.layout,n=this.constraints;e&&iC(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=function(t,{top:e,left:i,bottom:s,right:n}){return{x:iR(t.x,i,n),y:iR(t.y,e,s)}}(s.layoutBox,e):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:ik(t,"left","right"),y:ik(t,"top","bottom")}}(i),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&iN(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let i={};return void 0!==e.min&&(i.min=e.min-t.min),void 0!==e.max&&(i.max=e.max-t.min),i}(s.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!iC(e))return!1;let s=e.current;z(null!==s,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let r=function(t,e,i){let s=iJ(t,i),{scroll:n}=e;return n&&(iq(s.x,n.offset.x),iq(s.y,n.offset.y)),s}(s,n.root,this.visualElement.getTransformPagePoint()),o=(t=n.layout.layoutBox,{x:iU(t.x,r.x),y:iU(t.y,r.y)});if(i){let t=i(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=iH(t))}return o}startAnimation(t){let{drag:e,dragMomentum:i,dragElastic:s,dragTransition:n,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(iN(o=>{if(!i5(o,e,this.currentDirection))return;let l=a&&a[o]||{};r&&(l={min:0,max:0});let h={type:"inertia",velocity:i?t[o]:0,bounceStiffness:s?200:1e6,bounceDamping:s?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(o,h)})).then(o)}startAxisValueAnimation(t,e){let i=this.getAxisMotionValue(t);return to(this.visualElement,t),i.start(ii(t,i,0,e,this.visualElement,!1))}stopAnimation(){iN(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){iN(t=>{var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.pause()})}getAnimationState(t){var e;return null==(e=this.getAxisMotionValue(t).animation)?void 0:e.state}getAxisMotionValue(t){let e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps();return i[e]||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){iN(e=>{let{drag:i}=this.getProps();if(!i5(e,i,this.currentDirection))return;let{projection:s}=this.visualElement,n=this.getAxisMotionValue(e);if(s&&s.layout){let{min:i,max:r}=s.layout.layoutBox[e];n.set(t[e]-eO(i,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!iC(e)||!i||!this.constraints)return;this.stopAnimation();let s={x:0,y:0};iN(t=>{let e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){let i=e.get();s[t]=function(t,e){let i=.5,s=iP(t),n=iP(e);return n>s?i=w(e.min,e.max-s,t.min):s>n&&(i=w(t.min,t.max-n,e.min)),tx(0,1,i)}({min:i,max:i},this.constraints[t])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),iN(e=>{if(!i5(e,t,null))return;let i=this.getAxisMotionValue(e),{min:n,max:r}=this.constraints[e];i.set(eO(n,r,s[e]))})}addListeners(){if(!this.visualElement.current)return;i1.set(this.visualElement,this);let t=i_(this.visualElement.current,"pointerdown",t=>{let{drag:e,dragListener:i=!0}=this.getProps();e&&i&&this.start(t)}),e=()=>{let{dragConstraints:t}=this.getProps();iC(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",e);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),W.read(e);let n=ig(window,"resize",()=>this.scalePositionWithinConstraints()),r=i.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(iN(e=>{let i=this.getAxisMotionValue(e);i&&(this.originPoint[e]+=t[e].translate,i.set(i.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),t(),s(),r&&r()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:n=!1,dragElastic:r=.35,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:n,dragElastic:r,dragMomentum:o}}}function i5(t,e,i){return(!0===e||e===t)&&(null===i||i===t)}class i3 extends id{constructor(t){super(t),this.removeGroupControls=z,this.removeListeners=z,this.controls=new i2(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||z}unmount(){this.removeGroupControls(),this.removeListeners()}}let i4=t=>(e,i)=>{t&&W.postRender(()=>t(e,i))};class i9 extends id{constructor(){super(...arguments),this.removePointerDownListener=z}onPointerDown(t){this.session=new iT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i0(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:i4(t),onStart:i4(e),onMove:i,onEnd:(t,e)=>{delete this.session,s&&W.postRender(()=>s(t,e))}}}mount(){this.removePointerDownListener=i_(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var i8,i6,i7=i(5155),st=i(2115),se=i(5601),si=i(296);let ss=(0,st.createContext)({}),sn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sr(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let so={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t)if(!tV.test(t))return t;else t=parseFloat(t);let i=sr(t,e.target.x),s=sr(t,e.target.y);return`${i}% ${s}%`}},sa={},{schedule:sl,cancel:sh}=$(queueMicrotask,!1);class su extends st.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:n}=t;Object.assign(sa,sd),n&&(e.group&&e.group.add(n),i&&i.register&&s&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),sn.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:i,drag:s,isPresent:n}=this.props,r=i.projection;return r&&(r.isPresent=n,s||t.layoutDependency!==e||void 0===e?r.willUpdate():this.safeToRemove(),t.isPresent!==n&&(n?r.promote():r.relegate()||W.postRender(()=>{let t=r.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),sl.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sc(t){let[e,i]=(0,se.xQ)(),s=(0,st.useContext)(si.L);return(0,i7.jsx)(su,{...t,layoutGroup:s,switchLayoutGroup:(0,st.useContext)(ss),isPresent:e,safeToRemove:i})}let sd={borderRadius:{...so,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:so,borderTopRightRadius:so,borderBottomLeftRadius:so,borderBottomRightRadius:so,boxShadow:{correct:(t,{treeScale:e,projectionDelta:i})=>{let s=tQ.parse(t);if(s.length>5)return t;let n=tQ.createTransformer(t),r=+("number"!=typeof s[0]),o=i.x.scale*e.x,a=i.y.scale*e.y;s[0+r]/=o,s[1+r]/=a;let l=eO(o,a,.5);return"number"==typeof s[2+r]&&(s[2+r]/=l),"number"==typeof s[3+r]&&(s[3+r]/=l),n(s)}}},sp=(t,e)=>t.depth-e.depth;class sm{constructor(){this.children=[],this.isDirty=!1}add(t){J(this.children,t),this.isDirty=!0}remove(t){tt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sp),this.isDirty=!1,this.children.forEach(t)}}function sf(t){let e=tr(t)?t.get():t;return e&&"object"==typeof e&&e.mix&&e.toValue?e.toValue():e}let sv=["TopLeft","TopRight","BottomLeft","BottomRight"],sg=sv.length,sy=t=>"string"==typeof t?parseFloat(t):t,s_=t=>"number"==typeof t||tV.test(t);function sE(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let sT=sb(0,.5,t_),sx=sb(.5,.95,z);function sb(t,e,i){return s=>s<t?0:s>e?1:i(w(t,e,s))}function sw(t,e){t.min=e.min,t.max=e.max}function sO(t,e){sw(t.x,e.x),sw(t.y,e.y)}function sC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function sP(t,e,i,s,n){return t-=e,t=s+1/i*(t-s),void 0!==n&&(t=s+1/n*(t-s)),t}function sS(t,e,[i,s,n],r,o){!function(t,e=0,i=1,s=.5,n,r=t,o=t){if(tj.test(e)&&(e=parseFloat(e),e=eO(o.min,o.max,e/100)-o.min),"number"!=typeof e)return;let a=eO(r.min,r.max,s);t===r&&(a-=e),t.min=sP(t.min,e,i,a,n),t.max=sP(t.max,e,i,a,n)}(t,e[i],e[s],e[n],e.scale,r,o)}let sA=["x","scaleX","originX"],sM=["y","scaleY","originY"];function sL(t,e,i,s){sS(t.x,e,sA,i?i.x:void 0,s?s.x:void 0),sS(t.y,e,sM,i?i.y:void 0,s?s.y:void 0)}function sD(t){return 0===t.translate&&1===t.scale}function sR(t){return sD(t.x)&&sD(t.y)}function sU(t,e){return t.min===e.min&&t.max===e.max}function sk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function sj(t,e){return sk(t.x,e.x)&&sk(t.y,e.y)}function sV(t){return iP(t.x)/iP(t.y)}function sF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sz{constructor(){this.members=[]}add(t){J(this.members,t),t.scheduleRender()}remove(t){if(tt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e,i=this.members.findIndex(e=>t===e);if(0===i)return!1;for(let t=i;t>=0;t--){let i=this.members[t];if(!1!==i.isPresent){e=i;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:s}=t.options;!1===s&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let sI={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sN="undefined"!=typeof window&&void 0!==window.MotionDebug,sH=["","X","Y","Z"],sB={visibility:"hidden"},sY=0;function sZ(t,e,i,s){let{latestValues:n}=e;n[t]&&(i[t]=n[t],e.setStaticValue(t,0),s&&(s[t]=0))}function s$({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(t={},i=null==e?void 0:e()){this.id=sY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sN&&(sI.totalNodes=sI.resolvedTargetDeltas=sI.recalculatedProjection=0),this.nodes.forEach(sX),this.nodes.forEach(s2),this.nodes.forEach(s5),this.nodes.forEach(sq),sN&&window.MotionDebug.record(sI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new sm)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new te),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let i=this.eventHandlers.get(t);i&&i.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:s,layout:n,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(n||s)&&(this.isLayoutDirty=!0),t){let i,s=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(t,e){let i=G.now(),s=({timestamp:e})=>{let n=e-i;n>=250&&(K(s),t(n-250))};return W.read(s,!0),()=>K(s)}(s,250),sn.hasAnimatedSinceResize&&(sn.hasAnimatedSinceResize=!1,this.nodes.forEach(s1))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&r&&(s||n)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:i,layout:s})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||r.getDefaultTransition()||s7,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=r.getProps(),l=!this.targetLayout||!sj(this.targetLayout,s)||i,h=!e&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||h||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,h);let e={...g(n,"layout"),onPlay:o,onComplete:a};(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,K(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s3),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function t(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:i}=e.options;if(!i)return;let s=i.props[tl];if(window.MotionHasOptimisedAnimation(s,"transform")){let{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",W,!(t||i))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&t(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:i}=this.options;if(void 0===e&&!i)return;let s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sG);return}this.isUpdating||this.nodes.forEach(sJ),this.isUpdating=!1,this.nodes.forEach(s0),this.nodes.forEach(sW),this.nodes.forEach(sK),this.clearAllSnapshots();let t=G.now();X.delta=tx(0,1e3/60,t-X.timestamp),X.timestamp=t,X.isProcessing=!0,q.update.process(X),q.preRender.process(X),q.render.process(X),X.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sQ),this.sharedNodes.forEach(s4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,W.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){W.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++)this.path[t].updateScroll();let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iI(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){let e=s(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!n)return;let t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!sR(this.projectionDelta),i=this.getTransformTemplate(),s=i?i(this.latestValues,""):void 0,r=s!==this.prevTransformTemplateValue;t&&(e||iZ(this.latestValues)||r)&&(n(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let i=this.measurePageBox(),s=this.removeElementScroll(i);return t&&(s=this.removeTransform(s)),ni((e=s).x),ni(e.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var t;let{visualElement:e}=this.options;if(!e)return iI();let i=e.measureViewportBox();if(!((null==(t=this.scroll)?void 0:t.wasRoot)||this.path.some(nn))){let{scroll:t}=this.root;t&&(iq(i.x,t.offset.x),iq(i.y,t.offset.y))}return i}removeElementScroll(t){var e;let i=iI();if(sO(i,t),null==(e=this.scroll)?void 0:e.wasRoot)return i;for(let e=0;e<this.path.length;e++){let s=this.path[e],{scroll:n,options:r}=s;s!==this.root&&n&&r.layoutScroll&&(n.wasRoot&&sO(i,t),iq(i.x,n.offset.x),iq(i.y,n.offset.y))}return i}applyTransform(t,e=!1){let i=iI();sO(i,t);for(let t=0;t<this.path.length;t++){let s=this.path[t];!e&&s.options.layoutScroll&&s.scroll&&s!==s.root&&iG(i,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),iZ(s.latestValues)&&iG(i,s.latestValues)}return iZ(this.latestValues)&&iG(i,this.latestValues),i}removeTransform(t){let e=iI();sO(e,t);for(let t=0;t<this.path.length;t++){let i=this.path[t];if(!i.instance||!iZ(i.latestValues))continue;iY(i.latestValues)&&i.updateSnapshot();let s=iI();sO(s,i.measurePageBox()),sL(e,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,s)}return iZ(this.latestValues)&&sL(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==X.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,i,s,n;let r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);let o=!!this.resumingFrom||this!==r;if(!(t||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:a,layoutId:l}=this.options;if(this.layout&&(a||l)){if(this.resolvedRelativeTargetAt=X.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iI(),this.relativeTargetOrigin=iI(),iD(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),sO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=iI(),this.targetWithTransforms=iI()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,n=this.relativeParent.target,iM(i.x,s.x,n.x),iM(i.y,s.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sO(this.target,this.layout.layoutBox),iX(this.target,this.targetDelta)):sO(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iI(),this.relativeTargetOrigin=iI(),iD(this.relativeTargetOrigin,this.target,t.target),sO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sN&&sI.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||iY(this.parent.latestValues)||i$(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),i=!!this.resumingFrom||this!==e,s=!0;if((this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty))&&(s=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===X.timestamp&&(s=!1),s)return;let{layout:n,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||r))return;sO(this.layoutCorrected,this.layout.layoutBox);let o=this.treeScale.x,a=this.treeScale.y;!function(t,e,i,s=!1){let n,r,o=i.length;if(o){e.x=e.y=1;for(let a=0;a<o;a++){r=(n=i[a]).projectionDelta;let{visualElement:o}=n.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(s&&n.options.layoutScroll&&n.scroll&&n!==n.root&&iG(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,iX(t,r)),s&&iZ(n.latestValues)&&iG(t,n.latestValues))}e.x<1.0000000000001&&e.x>.999999999999&&(e.x=1),e.y<1.0000000000001&&e.y>.999999999999&&(e.y=1)}}(this.layoutCorrected,this.treeScale,this.path,i),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=iI());let{target:l}=e;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(sC(this.prevProjectionDelta.x,this.projectionDelta.x),sC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iA(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&sF(this.projectionDelta.x,this.prevProjectionDelta.x)&&sF(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),sN&&sI.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null==(e=this.options.visualElement)||e.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=iF(),this.projectionDelta=iF(),this.projectionDeltaWithTransform=iF()}setAnimationOrigin(t,e=!1){let i,s=this.snapshot,n=s?s.latestValues:{},r={...this.latestValues},o=iF();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let a=iI(),l=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),h=this.getStack(),u=!h||h.members.length<=1,c=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(s6));this.animationProgress=0,this.mixTargetDelta=e=>{let s=e/1e3;if(s9(o.x,t.x,s),s9(o.y,t.y,s),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var h,d,p,m,f,v;iD(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,v=s,s8(p.x,m.x,f.x,v),s8(p.y,m.y,f.y,v),i&&(h=this.relativeTarget,d=i,sU(h.x,d.x)&&sU(h.y,d.y))&&(this.isProjectionDirty=!1),i||(i=iI()),sO(i,this.relativeTarget)}l&&(this.animationValues=r,function(t,e,i,s,n,r){n?(t.opacity=eO(0,void 0!==i.opacity?i.opacity:1,sT(s)),t.opacityExit=eO(void 0!==e.opacity?e.opacity:1,0,sx(s))):r&&(t.opacity=eO(void 0!==e.opacity?e.opacity:1,void 0!==i.opacity?i.opacity:1,s));for(let n=0;n<sg;n++){let r=`border${sv[n]}Radius`,o=sE(e,r),a=sE(i,r);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||s_(o)===s_(a)?(t[r]=Math.max(eO(sy(o),sy(a),s),0),(tj.test(a)||tj.test(o))&&(t[r]+="%")):t[r]=a)}(e.rotate||i.rotate)&&(t.rotate=eO(e.rotate||0,i.rotate||0,s))}(r,n,this.latestValues,s,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(K(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=W.update(()=>{sn.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,i){let s=tr(0)?0:tn(t);return s.start(ii("",s,1e3,i)),s.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:i,layout:s,latestValues:n}=t;if(e&&i&&s){if(this!==t&&this.layout&&s&&ns(this.options.animationType,this.layout.layoutBox,s.layoutBox)){i=this.target||iI();let e=iP(this.layout.layoutBox.x);i.x.min=t.target.x.min,i.x.max=i.x.min+e;let s=iP(this.layout.layoutBox.y);i.y.min=t.target.y.min,i.y.max=i.y.min+s}sO(e,i),iG(e,n),iA(this.projectionDeltaWithTransform,this.layoutCorrected,e,n)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new sz),this.sharedNodes.get(t).add(e);let i=e.options.initialPromotionConfig;e.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null==(t=this.getStack())?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null==(t=this.getStack())?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:i}={}){let s=this.getStack();s&&s.promote(this,i),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:i}=t;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(e=!0),!e)return;let s={};i.z&&sZ("z",t,s,this.animationValues);for(let e=0;e<sH.length;e++)sZ(`rotate${sH[e]}`,t,s,this.animationValues),sZ(`skew${sH[e]}`,t,s,this.animationValues);for(let e in t.render(),s)t.setStaticValue(e,s[e]),this.animationValues&&(this.animationValues[e]=s[e]);t.scheduleRender()}getProjectionStyles(t){var e,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sB;let s={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=sf(null==t?void 0:t.pointerEvents)||"",s.transform=n?n(this.latestValues,""):"none",s;let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=sf(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!iZ(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1),e}let o=r.animationValues||r.latestValues;this.applyTransformsToTarget(),s.transform=function(t,e,i){let s="",n=t.x.translate/e.x,r=t.y.translate/e.y,o=(null==i?void 0:i.z)||0;if((n||r||o)&&(s=`translate3d(${n}px, ${r}px, ${o}px) `),(1!==e.x||1!==e.y)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){let{transformPerspective:t,rotate:e,rotateX:n,rotateY:r,skewX:o,skewY:a}=i;t&&(s=`perspective(${t}px) ${s}`),e&&(s+=`rotate(${e}deg) `),n&&(s+=`rotateX(${n}deg) `),r&&(s+=`rotateY(${r}deg) `),o&&(s+=`skewX(${o}deg) `),a&&(s+=`skewY(${a}deg) `)}let a=t.x.scale*e.x,l=t.y.scale*e.y;return(1!==a||1!==l)&&(s+=`scale(${a}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),n&&(s.transform=n(o,s.transform));let{x:a,y:l}=this.projectionDelta;for(let t in s.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,r.animationValues?s.opacity=r===this?null!=(i=null!=(e=o.opacity)?e:this.latestValues.opacity)?i:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:s.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0,sa){if(void 0===o[t])continue;let{correct:e,applyTo:i}=sa[t],n="none"===s.transform?o[t]:e(o[t],r);if(i){let t=i.length;for(let e=0;e<t;e++)s[i[e]]=n}else s[t]=n}return this.options.layoutId&&(s.pointerEvents=r===this?sf(null==t?void 0:t.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null==(e=t.currentAnimation)?void 0:e.stop()}),this.root.nodes.forEach(sG),this.root.sharedNodes.clear()}}}function sW(t){t.updateLayout()}function sK(t){var e;let i=(null==(e=t.resumeFrom)?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:s}=t.layout,{animationType:n}=t.options,r=i.source!==t.layout.source;"size"===n?iN(t=>{let s=r?i.measuredBox[t]:i.layoutBox[t],n=iP(s);s.min=e[t].min,s.max=s.min+n}):ns(n,i.layoutBox,e)&&iN(s=>{let n=r?i.measuredBox[s]:i.layoutBox[s],o=iP(e[s]);n.max=n.min+o,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[s].max=t.relativeTarget[s].min+o)});let o=iF();iA(o,e,i.layoutBox);let a=iF();r?iA(a,t.applyTransform(s,!0),i.measuredBox):iA(a,e,i.layoutBox);let l=!sR(o),h=!1;if(!t.resumeFrom){let s=t.getClosestProjectingParent();if(s&&!s.resumeFrom){let{snapshot:n,layout:r}=s;if(n&&r){let o=iI();iD(o,i.layoutBox,n.layoutBox);let a=iI();iD(a,e,r.layoutBox),sj(o,a)||(h=!0),s.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=o,t.relativeParent=s)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:i,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:h})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function sX(t){sN&&sI.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sQ(t){t.clearSnapshot()}function sG(t){t.clearMeasurements()}function sJ(t){t.isLayoutDirty=!1}function s0(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function s1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s2(t){t.resolveTargetDelta()}function s5(t){t.calcProjection()}function s3(t){t.resetSkewAndRotation()}function s4(t){t.removeLeadSnapshot()}function s9(t,e,i){t.translate=eO(e.translate,0,i),t.scale=eO(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function s8(t,e,i,s){t.min=eO(e.min,i.min,s),t.max=eO(e.max,i.max,s)}function s6(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let s7={duration:.45,ease:[.4,0,.1,1]},nt=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ne=nt("applewebkit/")&&!nt("chrome/")?Math.round:z;function ni(t){t.min=ne(t.min),t.max=ne(t.max)}function ns(t,e,i){return"position"===t||"preserve-aspect"===t&&!(.2>=Math.abs(sV(e)-sV(i)))}function nn(t){var e;return t!==t.root&&(null==(e=t.scroll)?void 0:e.wasRoot)}let nr=s$({attachResizeListener:(t,e)=>ig(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),no={current:void 0},na=s$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!no.current){let t=new nr({});t.mount(window),t.setOptions({layoutScroll:!0}),no.current=t}return no.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position});function nl(t,e,i){let{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover","Start"===i);let n=s["onHover"+i];n&&W.postRender(()=>n(e,iy(e)))}class nh extends id{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,i={}){let[s,n,r]=A(t,i),o=M(t=>{let{target:i}=t,s=e(t);if("function"!=typeof s||!i)return;let r=M(t=>{s(t),i.removeEventListener("pointerleave",r)});i.addEventListener("pointerleave",r,n)});return s.forEach(t=>{t.addEventListener("pointerenter",o,n)}),r}(t,t=>(nl(this.node,t,"Start"),t=>nl(this.node,t,"End"))))}unmount(){}}class nu extends id{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eR(ig(this.node.current,"focus",()=>this.onFocus()),ig(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nc(t,e,i){let{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap","Start"===i);let n=s["onTap"+("End"===i?"":i)];n&&W.postRender(()=>n(e,iy(e)))}class nd extends id{mount(){let{current:t}=this.node;t&&(this.unmount=function(t,e,i={}){let[s,n,r]=A(t,i),o=t=>{let s=t.currentTarget;if(!V(t)||U.has(s))return;U.add(s);let r=e(t),o=(t,e)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),V(t)&&U.has(s)&&(U.delete(s),"function"==typeof r&&r(t,{success:e}))},a=t=>{o(t,i.useGlobalTarget||L(s,t.target))},l=t=>{o(t,!1)};window.addEventListener("pointerup",a,n),window.addEventListener("pointercancel",l,n)};return s.forEach(t=>{R.has(t.tagName)||-1!==t.tabIndex||null!==t.getAttribute("tabindex")||(t.tabIndex=0),(i.useGlobalTarget?window:t).addEventListener("pointerdown",o,n),t.addEventListener("focus",t=>((t,e)=>{let i=t.currentTarget;if(!i)return;let s=k(()=>{if(U.has(i))return;j(i,"down");let t=k(()=>{j(i,"up")});i.addEventListener("keyup",t,e),i.addEventListener("blur",()=>j(i,"cancel"),e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)})(t,n),n)}),r}(t,t=>(nc(this.node,t,"Start"),(t,{success:e})=>nc(this.node,t,e?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let np=new WeakMap,nm=new WeakMap,nf=t=>{let e=np.get(t.target);e&&e(t)},nv=t=>{t.forEach(nf)},ng={some:0,all:1};class ny extends id{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:n}=t,r={root:e?e.current:void 0,rootMargin:i,threshold:"number"==typeof s?s:ng[s]},o=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,n&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:i,onViewportLeave:s}=this.node.getProps(),r=e?i:s;r&&r(t)};var a=this.node.current;let l=function({root:t,...e}){let i=t||document;nm.has(i)||nm.set(i,{});let s=nm.get(i),n=JSON.stringify(e);return s[n]||(s[n]=new IntersectionObserver(nv,{root:t,...e})),s[n]}(r);return np.set(a,o),l.observe(a),()=>{np.delete(a),l.unobserve(a)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}(t,e))&&this.startObserver()}unmount(){}}let n_=(0,st.createContext)({strict:!1});var nE=i(3127);let nT=(0,st.createContext)({});function nx(t){return n(t.animate)||d.some(e=>a(t[e]))}function nb(t){return!!(nx(t)||t.variants)}function nw(t){return Array.isArray(t)?t.join(" "):t}var nO=i(3577);let nC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nP={};for(let t in nC)nP[t]={isEnabled:e=>nC[t].some(t=>!!e[t])};let nS=Symbol.for("motionComponentSymbol");var nA=i(9686),nM=i(6553);let nL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nD(t){if("string"!=typeof t||t.includes("-"));else if(nL.indexOf(t)>-1||/[A-Z]/u.test(t))return!0;return!1}var nR=i(4416);let nU=t=>(e,i)=>{let s=(0,st.useContext)(nT),r=(0,st.useContext)(nA.t),o=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:i},s,r,o){let a={latestValues:function(t,e,i,s){let r={},o=s(t,{});for(let t in o)r[t]=sf(o[t]);let{initial:a,animate:l}=t,u=nx(t),c=nb(t);e&&c&&!u&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===l&&(l=e.animate));let d=!!i&&!1===i.initial,p=(d=d||!1===a)?l:a;if(p&&"boolean"!=typeof p&&!n(p)){let e=Array.isArray(p)?p:[p];for(let i=0;i<e.length;i++){let s=h(t,e[i]);if(s){let{transitionEnd:t,transition:e,...i}=s;for(let t in i){let e=i[t];if(Array.isArray(e)){let t=d?e.length-1:0;e=e[t]}null!==e&&(r[t]=e)}for(let e in t)r[e]=t[e]}}}return r}(s,r,o,t),renderState:e()};return i&&(a.onMount=t=>i({props:s,current:t,...a}),a.onUpdate=t=>i(t)),a})(t,e,s,r);return i?o():(0,nR.M)(o)},nk=(t,e)=>e&&"number"==typeof t?e.transform(t):t,nj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nV=I.length;function nF(t,e,i){let{style:s,vars:n,transformOrigin:r}=t,o=!1,a=!1;for(let t in e){let i=e[t];if(N.has(t)){o=!0;continue}if(ed(t)){n[t]=i;continue}{let e=nk(i,t5[t]);t.startsWith("origin")?(a=!0,r[t]=e):s[t]=e}}if(!e.transform&&(o||i?s.transform=function(t,e,i){let s="",n=!0;for(let r=0;r<nV;r++){let o=I[r],a=t[o];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===+!!o.startsWith("scale"):0===parseFloat(a))||i){let t=nk(a,t5[o]);if(!l){n=!1;let e=nj[o]||o;s+=`${e}(${t}) `}i&&(e[o]=t)}}return s=s.trim(),i?s=i(e,n?"":s):n&&(s="none"),s}(e,t.transform,i):s.transform&&(s.transform="none")),a){let{originX:t="50%",originY:e="50%",originZ:i=0}=r;s.transformOrigin=`${t} ${e} ${i}`}}let nz={offset:"stroke-dashoffset",array:"stroke-dasharray"},nI={offset:"strokeDashoffset",array:"strokeDasharray"};function nN(t,e,i){return"string"==typeof t?t:tV.transform(e+i*t)}function nH(t,{attrX:e,attrY:i,attrScale:s,originX:n,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...h},u,c){if(nF(t,h,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:d,style:p,dimensions:m}=t;d.transform&&(m&&(p.transform=d.transform),delete d.transform),m&&(void 0!==n||void 0!==r||p.transform)&&(p.transformOrigin=function(t,e,i){let s=nN(e,t.x,t.width),n=nN(i,t.y,t.height);return`${s} ${n}`}(m,void 0!==n?n:.5,void 0!==r?r:.5)),void 0!==e&&(d.x=e),void 0!==i&&(d.y=i),void 0!==s&&(d.scale=s),void 0!==o&&function(t,e,i=1,s=0,n=!0){t.pathLength=1;let r=n?nz:nI;t[r.offset]=tV.transform(-s);let o=tV.transform(e),a=tV.transform(i);t[r.array]=`${o} ${a}`}(d,o,a,l,!1)}let nB=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),nY=()=>({...nB(),attrs:{}}),nZ=t=>"string"==typeof t&&"svg"===t.toLowerCase();function n$(t,{style:e,vars:i},s,n){for(let r in Object.assign(t.style,e,n&&n.getProjectionStyles(s)),i)t.style.setProperty(r,i[r])}let nW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nK(t,e,i,s){for(let i in n$(t,e,void 0,s),e.attrs)t.setAttribute(nW.has(i)?i:ta(i),e.attrs[i])}function nX(t,{layout:e,layoutId:i}){return N.has(t)||t.startsWith("origin")||(e||void 0!==i)&&(!!sa[t]||"opacity"===t)}function nq(t,e,i){var s;let{style:n}=t,r={};for(let o in n)(tr(n[o])||e.style&&tr(e.style[o])||nX(o,t)||(null==(s=null==i?void 0:i.getValue(o))?void 0:s.liveStyle)!==void 0)&&(r[o]=n[o]);return r}function nQ(t,e,i){let s=nq(t,e,i);for(let i in t)(tr(t[i])||tr(e[i]))&&(s[-1!==I.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]);return s}let nG=["x","y","width","height","cx","cy","r"],nJ={useVisualState:nU({scrapeMotionValuesFromProps:nQ,createRenderState:nY,onUpdate:({props:t,prevProps:e,current:i,renderState:s,latestValues:n})=>{if(!i)return;let r=!!t.drag;if(!r){for(let t in n)if(N.has(t)){r=!0;break}}if(!r)return;let o=!e;if(e)for(let i=0;i<nG.length;i++){let s=nG[i];t[s]!==e[s]&&(o=!0)}o&&W.read(()=>{!function(t,e){try{e.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}}(i,s),W.render(()=>{nH(s,n,nZ(i.tagName),t.transformTemplate),nK(i,s)})})}})},n0={useVisualState:nU({scrapeMotionValuesFromProps:nq,createRenderState:nB})};function n1(t,e,i){for(let s in e)tr(e[s])||nX(s,i)||(t[s]=e[s])}let n2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function n5(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n2.has(t)}let n3=t=>!n5(t);try{!function(t){t&&(n3=e=>e.startsWith("on")?!n5(e):t(e))}(require("@emotion/is-prop-valid").default)}catch(t){}let n4={current:null},n9={current:!1},n8=[...ey,tH,tQ],n6=new WeakMap,n7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rt{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:n,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let t=G.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,W.render(this.render,!1,!0))};let{latestValues:a,renderState:l,onUpdate:h}=r;this.onUpdate=h,this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!n,this.isControllingVariants=nx(e),this.isVariantNode=nb(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(e,{},this);for(let t in c){let e=c[t];void 0!==a[t]&&tr(e)&&e.set(a[t],!1)}}mount(t){this.current=t,n6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),n9.current||function(){if(n9.current=!0,nO.B)if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>n4.current=t.matches;t.addListener(e),e()}else n4.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||n4.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in n6.delete(this.current),this.projection&&this.projection.unmount(),K(this.notifyUpdate),K(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features){let e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){let i;this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let s=N.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&W.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=e.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{n(),r(),i&&i(),e.owner&&e.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in nP){let e=nP[t];if(!e)continue;let{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iI()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<n7.length;e++){let i=n7[e];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=function(t,e,i){for(let s in e){let n=e[s],r=i[s];if(tr(n))t.addValue(s,n);else if(tr(r))t.addValue(s,tn(n,{owner:t}));else if(r!==n)if(t.hasValue(s)){let e=t.getValue(s);!0===e.liveStyle?e.jump(n):e.hasAnimated||e.set(n)}else{let e=t.getStaticValue(s);t.addValue(s,tn(void 0!==e?e:n,{owner:t}))}}for(let s in i)void 0===e[s]&&t.removeValue(s);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){let i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return void 0===i&&void 0!==e&&(i=tn(null===e?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=void 0===this.latestValues[t]&&this.current?null!=(i=this.getBaseTargetFromProps(this.props,t))?i:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];if(null!=s){if("string"==typeof s&&(eu(s)||tT(s)))s=parseFloat(s);else{let i;i=s,!n8.find(eg(i))&&tQ.test(e)&&(s=t9(t,e))}this.setBaseTarget(t,tr(s)?s.get():s)}return tr(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let i,{initial:s}=this.props;if("string"==typeof s||"object"==typeof s){let n=h(this.props,s,null==(e=this.presenceContext)?void 0:e.custom);n&&(i=n[t])}if(s&&void 0!==i)return i;let n=this.getBaseTargetFromProps(this.props,t);return void 0===n||tr(n)?void 0!==this.initialValues[t]&&void 0===i?void 0:this.baseTarget[t]:n}on(t,e){return this.events[t]||(this.events[t]=new te),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class re extends rt{constructor(){super(...arguments),this.KeyframeResolver=eE}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;tr(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class ri extends re{constructor(){super(...arguments),this.type="html",this.renderInstance=n$}readValueFromInstance(t,e){if(N.has(e)){let t=t4(e);return t&&t.default||0}{let i=window.getComputedStyle(t),s=(ed(e)?i.getPropertyValue(e):i[e])||0;return"string"==typeof s?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return iJ(t,e)}build(t,e,i){nF(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return nq(t,e,i)}}class rs extends re{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=iI}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(N.has(e)){let t=t4(e);return t&&t.default||0}return e=nW.has(e)?e:ta(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return nQ(t,e,i)}build(t,e,i){nH(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){nK(t,e,i,s)}mount(t){this.isSVGTag=nZ(t.tagName),super.mount(t)}}let rn=function(t){if("undefined"==typeof Proxy)return t;let e=new Map;return new Proxy((...e)=>t(...e),{get:(i,s)=>"create"===s?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}((i8={animation:{Feature:ip},exit:{Feature:iv},inView:{Feature:ny},tap:{Feature:nd},focus:{Feature:nu},hover:{Feature:nh},pan:{Feature:i9},drag:{Feature:i3,ProjectionNode:na,MeasureLayout:sc},layout:{ProjectionNode:na,MeasureLayout:sc}},i6=(t,e)=>nD(t)?new rs(e):new ri(e,{allowProjection:t!==st.Fragment}),function(t,{forwardMotionProps:e}={forwardMotionProps:!1}){return function(t){var e,i;let{preloadedFeatures:s,createVisualElement:n,useRender:r,useVisualState:o,Component:l}=t;function h(t,e){var i;let s,h={...(0,st.useContext)(nE.Q),...t,layoutId:function(t){let{layoutId:e}=t,i=(0,st.useContext)(si.L).id;return i&&void 0!==e?i+"-"+e:e}(t)},{isStatic:u}=h,c=function(t){let{initial:e,animate:i}=function(t,e){if(nx(t)){let{initial:e,animate:i}=t;return{initial:!1===e||a(e)?e:void 0,animate:a(i)?i:void 0}}return!1!==t.inherit?e:{}}(t,(0,st.useContext)(nT));return(0,st.useMemo)(()=>({initial:e,animate:i}),[nw(e),nw(i)])}(t),d=o(t,u);if(!u&&nO.B){(0,st.useContext)(n_).strict;let t=function(t){let{drag:e,layout:i}=nP;if(!e&&!i)return{};let s={...e,...i};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==i?void 0:i.isEnabled(t))?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(h);s=t.MeasureLayout,c.visualElement=function(t,e,i,s,n){var r,o;let{visualElement:a}=(0,st.useContext)(nT),l=(0,st.useContext)(n_),h=(0,st.useContext)(nA.t),u=(0,st.useContext)(nE.Q).reducedMotion,c=(0,st.useRef)(null);s=s||l.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:a,props:i,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:u}));let d=c.current,p=(0,st.useContext)(ss);d&&!d.projection&&n&&("html"===d.type||"svg"===d.type)&&function(t,e,i,s){let{layoutId:n,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:h}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:function t(e){if(e)return!1!==e.options.allowProjection?e.projection:t(e.parent)}(t.parent)),t.projection.setOptions({layoutId:n,layout:r,alwaysMeasureLayout:!!o||a&&iC(a),visualElement:t,animationType:"string"==typeof r?r:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:h})}(c.current,i,n,p);let m=(0,st.useRef)(!1);(0,st.useInsertionEffect)(()=>{d&&m.current&&d.update(i,h)});let f=i[tl],v=(0,st.useRef)(!!f&&!(null==(r=window.MotionHandoffIsComplete)?void 0:r.call(window,f))&&(null==(o=window.MotionHasOptimisedAnimation)?void 0:o.call(window,f)));return(0,nM.E)(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),sl.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),(0,st.useEffect)(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var t;null==(t=window.MotionHandoffMarkAsComplete)||t.call(window,f)}),v.current=!1))}),d}(l,d,h,n,t.ProjectionNode)}return(0,i7.jsxs)(nT.Provider,{value:c,children:[s&&c.visualElement?(0,i7.jsx)(s,{visualElement:c.visualElement,...h}):null,r(l,t,(i=c.visualElement,(0,st.useCallback)(t=>{t&&d.onMount&&d.onMount(t),i&&(t?i.mount(t):i.unmount()),e&&("function"==typeof e?e(t):iC(e)&&(e.current=t))},[i])),d,u,c.visualElement)]})}s&&function(t){for(let e in t)nP[e]={...nP[e],...t[e]}}(s),h.displayName="motion.".concat("string"==typeof l?l:"create(".concat(null!=(i=null!=(e=l.displayName)?e:l.name)?i:"",")"));let u=(0,st.forwardRef)(h);return u[nS]=l,u}({...nD(t)?nJ:n0,preloadedFeatures:i8,useRender:function(t=!1){return(e,i,s,{latestValues:n},r)=>{let o=(nD(e)?function(t,e,i,s){let n=(0,st.useMemo)(()=>{let i=nY();return nH(i,e,nZ(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){let e={};n1(e,t.style,t),n.style={...e,...n.style}}return n}:function(t,e){let i={},s=function(t,e){let i=t.style||{},s={};return n1(s,i,t),Object.assign(s,function({transformTemplate:t},e){return(0,st.useMemo)(()=>{let i=nB();return nF(i,e,t),Object.assign({},i.vars,i.style)},[e])}(t,e)),s}(t,e);return t.drag&&!1!==t.dragListener&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i})(i,n,r,e),a=function(t,e,i){let s={};for(let n in t)("values"!==n||"object"!=typeof t.values)&&(n3(n)||!0===i&&n5(n)||!e&&!n5(n)||t.draggable&&n.startsWith("onDrag"))&&(s[n]=t[n]);return s}(i,"string"==typeof e,t),l=e!==st.Fragment?{...a,...o,ref:s}:{},{children:h}=i,u=(0,st.useMemo)(()=>tr(h)?h.get():h,[h]);return(0,st.createElement)(e,{...l,children:u})}}(e),createVisualElement:i6,Component:t})}))},4735:(t,e,i)=>{i.d(e,{Af:()=>a,Nz:()=>n,u5:()=>l,y3:()=>c});var s=i(2115);function n(t,e,i){if(!t)return;if(!0===i(t))return t;let s=e?t.return:t.child;for(;s;){let t=n(s,e,i);if(t)return t;s=e?null:s.sibling}}function r(t){try{return Object.defineProperties(t,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(e){return t}}(()=>{var t,e;return"undefined"!=typeof window&&((null==(t=window.document)?void 0:t.createElement)||(null==(e=window.navigator)?void 0:e.product)==="ReactNative")})()?s.useLayoutEffect:s.useEffect;let o=r(s.createContext(null));class a extends s.Component{render(){return s.createElement(o.Provider,{value:this._reactInternals},this.props.children)}}function l(){let t=s.useContext(o);if(null===t)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let e=s.useId();return s.useMemo(()=>{for(let i of[t,null==t?void 0:t.alternate]){if(!i)continue;let t=n(i,!1,t=>{let i=t.memoizedState;for(;i;){if(i.memoizedState===e)return!0;i=i.next}});if(t)return t}},[t,e])}let h=Symbol.for("react.context"),u=t=>null!==t&&"object"==typeof t&&"$$typeof"in t&&t.$$typeof===h;function c(){let t=function(){let t=l(),[e]=s.useState(()=>new Map);e.clear();let i=t;for(;i;){let t=i.type;u(t)&&t!==o&&!e.has(t)&&e.set(t,s.use(r(t))),i=i.return}return e}();return s.useMemo(()=>Array.from(t.keys()).reduce((e,i)=>n=>s.createElement(e,null,s.createElement(i.Provider,{...n,value:t.get(i)})),t=>s.createElement(a,{...t})),[t])}},4806:(t,e,i)=>{t.exports=i(125)},4877:(t,e,i)=>{let s,n,r,o,a;i.d(e,{B:()=>L,C:()=>tt,D:()=>te,E:()=>D,a:()=>A,b:()=>S,c:()=>tw,d:()=>tC,e:()=>th,f:()=>tz,i:()=>C,u:()=>M});var l=i(2115),h=i.t(l,2),u=i(8870),c=i(5339),d=i(7548),p=i(8828);let m=t=>{let e,i=new Set,s=(t,s)=>{let n="function"==typeof t?t(e):t;if(!Object.is(n,e)){let t=e;e=(null!=s?s:"object"!=typeof n||null===n)?n:Object.assign({},e,n),i.forEach(i=>i(e,t))}},n=()=>e,r={setState:s,getState:n,getInitialState:()=>o,subscribe:t=>(i.add(t),()=>i.delete(t))},o=e=t(s,n,r);return r},{useSyncExternalStoreWithSelector:f}=p,v=(t,e)=>{let i=(t=>t?m(t):m)(t),s=(t,s=e)=>(function(t,e=t=>t,i){let s=f(t.subscribe,t.getState,t.getInitialState,e,i);return l.useDebugValue(s),s})(i,t,s);return Object.assign(s,i),s},g=[];function y(t,e,i=(t,e)=>t===e){if(t===e)return!0;if(!t||!e)return!1;let s=t.length;if(e.length!==s)return!1;for(let n=0;n<s;n++)if(!i(t[n],e[n]))return!1;return!0}function _(t,e=null,i=!1,s={}){for(let n of(null===e&&(e=[t]),g))if(y(e,n.keys,n.equal)){if(i)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return s.lifespan&&s.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,s.lifespan)),n.response;if(!i)throw n.promise}let n={keys:e,equal:s.equal,remove:()=>{let t=g.indexOf(n);-1!==t&&g.splice(t,1)},promise:("object"==typeof t&&"function"==typeof t.then?t:t(...e)).then(t=>{n.response=t,s.lifespan&&s.lifespan>0&&(n.timeout=setTimeout(n.remove,s.lifespan))}).catch(t=>n.error=t)};if(g.push(n),!i)throw n.promise}var E=i(8807),T=i.n(E),x=i(9914),b=i(5155),w=i(4735);function O(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}i(5704),h.act;let C=t=>t&&t.hasOwnProperty("current"),P=t=>null!=t&&("string"==typeof t||"number"==typeof t||t.isColor),S=((t,e)=>"undefined"!=typeof window&&((null==(t=window.document)?void 0:t.createElement)||(null==(e=window.navigator)?void 0:e.product)==="ReactNative"))()?l.useLayoutEffect:l.useEffect;function A(t){let e=l.useRef(t);return S(()=>void(e.current=t),[t]),e}function M(){let t=(0,w.u5)(),e=(0,w.y3)();return l.useMemo(()=>({children:i})=>{let s=(0,w.Nz)(t,!0,t=>t.type===l.StrictMode)?l.StrictMode:l.Fragment;return(0,b.jsx)(s,{children:(0,b.jsx)(e,{children:i})})},[t,e])}function L({set:t}){return S(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let D=(t=>((t=class extends l.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),t))();function R(t){var e;let i="undefined"!=typeof window?null!=(e=window.devicePixelRatio)?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],i),t[1]):t}function U(t){var e;return null==(e=t.__r3f)?void 0:e.root.getState()}let k={obj:t=>t===Object(t)&&!k.arr(t)&&"function"!=typeof t,fun:t=>"function"==typeof t,str:t=>"string"==typeof t,num:t=>"number"==typeof t,boo:t=>"boolean"==typeof t,und:t=>void 0===t,nul:t=>null===t,arr:t=>Array.isArray(t),equ(t,e,{arrays:i="shallow",objects:s="reference",strict:n=!0}={}){let r;if(typeof t!=typeof e||!!t!=!!e)return!1;if(k.str(t)||k.num(t)||k.boo(t))return t===e;let o=k.obj(t);if(o&&"reference"===s)return t===e;let a=k.arr(t);if(a&&"reference"===i)return t===e;if((a||o)&&t===e)return!0;for(r in t)if(!(r in e))return!1;if(o&&"shallow"===i&&"shallow"===s){for(r in n?e:t)if(!k.equ(t[r],e[r],{strict:n,objects:"reference"}))return!1}else for(r in n?e:t)if(t[r]!==e[r])return!1;if(k.und(r)){if(a&&0===t.length&&0===e.length||o&&0===Object.keys(t).length&&0===Object.keys(e).length)return!0;if(t!==e)return!1}return!0}},j=["children","key","ref"];function V(t,e,i,s){let n=null==t?void 0:t.__r3f;return!n&&(n={root:e,type:i,parent:null,children:[],props:function(t){let e={};for(let i in t)j.includes(i)||(e[i]=t[i]);return e}(s),object:t,eventCount:0,handlers:{},isHidden:!1},t&&(t.__r3f=n)),n}function F(t,e){let i=t[e];if(!e.includes("-"))return{root:t,key:e,target:i};for(let n of(i=t,e.split("-"))){var s;e=n,t=i,i=null==(s=i)?void 0:s[e]}return{root:t,key:e,target:i}}let z=/-\d+$/;function I(t,e){if(k.str(e.props.attach)){if(z.test(e.props.attach)){let i=e.props.attach.replace(z,""),{root:s,key:n}=F(t.object,i);Array.isArray(s[n])||(s[n]=[])}let{root:i,key:s}=F(t.object,e.props.attach);e.previousAttach=i[s],i[s]=e.object}else k.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function N(t,e){if(k.str(e.props.attach)){let{root:i,key:s}=F(t.object,e.props.attach),n=e.previousAttach;void 0===n?delete i[s]:i[s]=n}else null==e.previousAttach||e.previousAttach(t.object,e.object);delete e.previousAttach}let H=[...j,"args","dispose","attach","object","onUpdate","dispose"],B=new Map,Y=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Z=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function $(t,e){var i,s;let n=t.__r3f,r=n&&O(n).getState(),o=null==n?void 0:n.eventCount;for(let i in e){let o=e[i];if(H.includes(i))continue;if(n&&Z.test(i)){"function"==typeof o?n.handlers[i]=o:delete n.handlers[i],n.eventCount=Object.keys(n.handlers).length;continue}if(void 0===o)continue;let{root:a,key:l,target:h}=F(t,i);h instanceof c.zgK&&o instanceof c.zgK?h.mask=o.mask:h instanceof c.Q1f&&P(o)?h.set(o):null!==h&&"object"==typeof h&&"function"==typeof h.set&&"function"==typeof h.copy&&null!=o&&o.constructor&&h.constructor===o.constructor?h.copy(o):null!==h&&"object"==typeof h&&"function"==typeof h.set&&Array.isArray(o)?"function"==typeof h.fromArray?h.fromArray(o):h.set(...o):null!==h&&"object"==typeof h&&"function"==typeof h.set&&"number"==typeof o?"function"==typeof h.setScalar?h.setScalar(o):h.set(o):(a[l]=o,r&&!r.linear&&Y.includes(l)&&null!=(s=a[l])&&s.isTexture&&a[l].format===c.GWd&&a[l].type===c.OUM&&(a[l].colorSpace=c.er$))}if(null!=n&&n.parent&&null!=r&&r.internal&&null!=(i=n.object)&&i.isObject3D&&o!==n.eventCount){let t=n.object,e=r.internal.interaction.indexOf(t);e>-1&&r.internal.interaction.splice(e,1),n.eventCount&&null!==t.raycast&&r.internal.interaction.push(t)}return n&&void 0===n.props.attach&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&W(n),t}function W(t){var e;if(!t.parent)return;null==t.props.onUpdate||t.props.onUpdate(t.object);let i=null==(e=t.root)||null==e.getState?void 0:e.getState();i&&0===i.internal.frames&&i.invalidate()}let K=t=>null==t?void 0:t.isObject3D;function X(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function q(t,e,i,s){let n=i.get(e);n&&(i.delete(e),0===i.size&&(t.delete(s),n.target.releasePointerCapture(s)))}let Q=t=>!!(null!=t&&t.render),G=l.createContext(null);function J(){let t=l.useContext(G);if(!t)throw Error("R3F: Hooks can only be used within the Canvas component!");return t}function tt(t=t=>t,e){return J()(t,e)}function te(t,e=0){let i=J(),s=i.getState().internal.subscribe,n=A(t);return S(()=>s(n,e,i),[e,s,i]),null}let ti=new WeakMap;function ts(t,e){return function(i,...s){var n;let r;return"function"==typeof i&&(null==i||null==(n=i.prototype)?void 0:n.constructor)===i?(r=ti.get(i))||(r=new i,ti.set(i,r)):r=i,t&&t(r),Promise.all(s.map(t=>new Promise((i,s)=>r.load(t,t=>{K(null==t?void 0:t.scene)&&Object.assign(t,function(t){let e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}(t.scene)),i(t)},e,e=>s(Error(`Could not load ${t}: ${null==e?void 0:e.message}`))))))}}function tn(t,e,i,s){let n=Array.isArray(e)?e:[e],r=_(ts(i,s),[t,...n],!1,{equal:k.equ});return Array.isArray(e)?r:r[0]}tn.preload=function(t,e,i){let s,n=Array.isArray(e)?e:[e];_(ts(i),[t,...n],!0,s)},tn.clear=function(t,e){var i=[t,...Array.isArray(e)?e:[e]];if(void 0===i||0===i.length)g.splice(0,g.length);else{let t=g.find(t=>y(i,t.keys,t.equal));t&&t.remove()}};let tr={},to=/^three(?=[A-Z])/,ta=t=>`${t[0].toUpperCase()}${t.slice(1)}`,tl=0;function th(t){if("function"==typeof t){let e=`${tl++}`;return tr[e]=t,e}Object.assign(tr,t)}function tu(t,e){let i=ta(t),s=tr[i];if("primitive"!==t&&!s)throw Error(`R3F: ${i} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===t&&!e.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==e.args&&!Array.isArray(e.args))throw Error("R3F: The args prop must be an array!")}function tc(t){if(t.isHidden){var e;t.props.attach&&null!=(e=t.parent)&&e.object?I(t.parent,t):K(t.object)&&!1!==t.props.visible&&(t.object.visible=!0),t.isHidden=!1,W(t)}}function td(t,e,i){let s=e.root.getState();if(t.parent||t.object===s.scene){if(!e.object){var n,r;let t=tr[ta(e.type)];e.object=null!=(n=e.props.object)?n:new t(...null!=(r=e.props.args)?r:[]),e.object.__r3f=e}if($(e.object,e.props),e.props.attach)I(t,e);else if(K(e.object)&&K(t.object)){let s=t.object.children.indexOf(null==i?void 0:i.object);if(i&&-1!==s){let i=t.object.children.indexOf(e.object);-1!==i?(t.object.children.splice(i,1),t.object.children.splice(i<s?s-1:s,0,e.object)):(e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object}))}else t.object.add(e.object)}for(let t of e.children)td(e,t);W(e)}}function tp(t,e){e&&(e.parent=t,t.children.push(e),td(t,e))}function tm(t,e,i){if(!e||!i)return;e.parent=t;let s=t.children.indexOf(i);-1!==s?t.children.splice(s,0,e):t.children.push(e),td(t,e,i)}function tf(t){if("function"==typeof t.dispose){let e=()=>{try{t.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?e():(0,x.unstable_scheduleCallback)(x.unstable_IdlePriority,e)}}function tv(t,e,i){if(!e)return;e.parent=null;let s=t.children.indexOf(e);-1!==s&&t.children.splice(s,1),e.props.attach?N(t,e):K(e.object)&&K(t.object)&&(t.object.remove(e.object),function(t,e){let{internal:i}=t.getState();i.interaction=i.interaction.filter(t=>t!==e),i.initialHits=i.initialHits.filter(t=>t!==e),i.hovered.forEach((t,s)=>{(t.eventObject===e||t.object===e)&&i.hovered.delete(s)}),i.capturedMap.forEach((t,s)=>{q(i.capturedMap,e,t,s)})}(O(e),e.object));let n=null!==e.props.dispose&&!1!==i;for(let t=e.children.length-1;t>=0;t--){let i=e.children[t];tv(e,i,n)}e.children.length=0,delete e.object.__r3f,n&&"primitive"!==e.type&&"Scene"!==e.object.type&&tf(e.object),void 0===i&&W(e)}let tg=[],ty=()=>{},t_={},tE=0,tT=function(t){let e=T()(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:l.version}),e}({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(t,e,i){var s;return tu(t=ta(t)in tr?t:t.replace(to,""),e),"primitive"===t&&null!=(s=e.object)&&s.__r3f&&delete e.object.__r3f,V(e.object,i,t,e)},removeChild:tv,appendChild:tp,appendInitialChild:tp,insertBefore:tm,appendChildToContainer(t,e){let i=t.getState().scene.__r3f;e&&i&&tp(i,e)},removeChildFromContainer(t,e){let i=t.getState().scene.__r3f;e&&i&&tv(i,e)},insertInContainerBefore(t,e,i){let s=t.getState().scene.__r3f;e&&i&&s&&tm(s,e,i)},getRootHostContext:()=>t_,getChildHostContext:()=>t_,commitUpdate(t,e,i,s,n){var r,o,a;tu(e,s);let l=!1;if("primitive"===t.type&&i.object!==s.object||(null==(r=s.args)?void 0:r.length)!==(null==(o=i.args)?void 0:o.length)?l=!0:null!=(a=s.args)&&a.some((t,e)=>{var s;return t!==(null==(s=i.args)?void 0:s[e])})&&(l=!0),l)tg.push([t,{...s},n]);else{let e=function(t,e){let i={};for(let s in e)if(!H.includes(s)&&!k.equ(e[s],t.props[s]))for(let t in i[s]=e[s],e)t.startsWith(`${s}-`)&&(i[t]=e[t]);for(let s in t.props){if(H.includes(s)||e.hasOwnProperty(s))continue;let{root:n,key:r}=F(t.object,s);if(n.constructor&&0===n.constructor.length){let t=function(t){let e=B.get(t.constructor);try{e||(e=new t.constructor,B.set(t.constructor,e))}catch(t){}return e}(n);k.und(t)||(i[r]=t[r])}else i[r]=0}return i}(t,s);Object.keys(e).length&&(Object.assign(t.props,e),$(t.object,e))}(null===n.sibling||(4&n.flags)==0)&&function(){for(let[t]of tg){let e=t.parent;if(e)for(let i of(t.props.attach?N(e,t):K(t.object)&&K(e.object)&&e.object.remove(t.object),t.children))i.props.attach?N(t,i):K(i.object)&&K(t.object)&&t.object.remove(i.object);t.isHidden&&tc(t),t.object.__r3f&&delete t.object.__r3f,"primitive"!==t.type&&tf(t.object)}for(let[s,n,r]of tg){s.props=n;let o=s.parent;if(o){let n=tr[ta(s.type)];s.object=null!=(t=s.props.object)?t:new n(...null!=(e=s.props.args)?e:[]),s.object.__r3f=s;var t,e,i=s.object;for(let t of[r,r.alternate])if(null!==t)if("function"==typeof t.ref){null==t.refCleanup||t.refCleanup();let e=t.ref(i);"function"==typeof e&&(t.refCleanup=e)}else t.ref&&(t.ref.current=i);for(let t of($(s.object,s.props),s.props.attach?I(o,s):K(s.object)&&K(o.object)&&o.object.add(s.object),s.children))t.props.attach?I(s,t):K(t.object)&&K(s.object)&&s.object.add(t.object);W(s)}}tg.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>null==t?void 0:t.object,prepareForCommit:()=>null,preparePortalMount:t=>V(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(t){if(!t.isHidden){var e;t.props.attach&&null!=(e=t.parent)&&e.object?N(t.parent,t):K(t.object)&&(t.object.visible=!1),t.isHidden=!0,W(t)}},unhideInstance:tc,createTextInstance:ty,hideTextInstance:ty,unhideTextInstance:ty,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:l.createContext(null),setCurrentUpdatePriority(t){tE=t},getCurrentUpdatePriority:()=>tE,resolveUpdatePriority(){var t;if(0!==tE)return tE;switch("undefined"!=typeof window&&(null==(t=window.event)?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return u.ContinuousEventPriority;default:return u.DefaultEventPriority}},resetFormInstance(){}}),tx=new Map,tb={objects:"shallow",strict:!1};function tw(t){let e,i,s=tx.get(t),n=null==s?void 0:s.fiber,r=null==s?void 0:s.store;s&&console.warn("R3F.createRoot should only be called once!");let o="function"==typeof reportError?reportError:console.error,a=r||((t,e)=>{let i,s,n=(i=(i,s)=>{let n,r=new c.Pq0,o=new c.Pq0,a=new c.Pq0;function h(t=s().camera,e=o,i=s().size){let{width:n,height:l,top:u,left:c}=i,d=n/l;e.isVector3?a.copy(e):a.set(...e);let p=t.getWorldPosition(r).distanceTo(a);if(t&&t.isOrthographicCamera)return{width:n/t.zoom,height:l/t.zoom,top:u,left:c,factor:1,distance:p,aspect:d};{let e=2*Math.tan(t.fov*Math.PI/180/2)*p,i=n/l*e;return{width:i,height:e,top:u,left:c,factor:n/i,distance:p,aspect:d}}}let u=t=>i(e=>({performance:{...e.performance,current:t}})),d=new c.I9Y;return{set:i,get:s,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(e=1)=>t(s(),e),advance:(t,i)=>e(t,i,s()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new c.zD7,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let t=s();n&&clearTimeout(n),t.performance.current!==t.performance.min&&u(t.performance.min),n=setTimeout(()=>u(s().performance.max),t.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:t=>i(e=>({...e,events:{...e.events,...t}})),setSize:(t,e,n=0,r=0)=>{let a=s().camera,l={width:t,height:e,top:n,left:r};i(t=>({size:l,viewport:{...t.viewport,...h(a,o,l)}}))},setDpr:t=>i(e=>{let i=R(t);return{viewport:{...e.viewport,dpr:i,initialDpr:e.viewport.initialDpr||i}}}),setFrameloop:(t="always")=>{let e=s().clock;e.stop(),e.elapsedTime=0,"never"!==t&&(e.start(),e.elapsedTime=0),i(()=>({frameloop:t}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:l.createRef(),active:!1,frames:0,priority:0,subscribe:(t,e,i)=>{let n=s().internal;return n.priority=n.priority+ +(e>0),n.subscribers.push({ref:t,priority:e,store:i}),n.subscribers=n.subscribers.sort((t,e)=>t.priority-e.priority),()=>{let i=s().internal;null!=i&&i.subscribers&&(i.priority=i.priority-(e>0),i.subscribers=i.subscribers.filter(e=>e.ref!==t))}}}}})?v(i,s):v,r=n.getState(),o=r.size,a=r.viewport.dpr,h=r.camera;return n.subscribe(()=>{let{camera:t,size:e,viewport:i,gl:s,set:r}=n.getState();if(e.width!==o.width||e.height!==o.height||i.dpr!==a){o=e,a=i.dpr,function(t,e){!t.manual&&(t&&t.isOrthographicCamera?(t.left=-(e.width/2),t.right=e.width/2,t.top=e.height/2,t.bottom=-(e.height/2)):t.aspect=e.width/e.height,t.updateProjectionMatrix())}(t,e),i.dpr>0&&s.setPixelRatio(i.dpr);let n="undefined"!=typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(e.width,e.height,n)}t!==h&&(h=t,r(e=>({viewport:{...e.viewport,...e.viewport.getCurrentViewport(t)}})))}),n.subscribe(e=>t(e)),n})(tj,tV),h=n||tT.createContainer(a,u.ConcurrentRoot,null,!1,null,"",o,o,o,null);s||tx.set(t,{fiber:h,store:a});let p=!1,m=null;return{async configure(s={}){var n,r;let o;m=new Promise(t=>o=t);let{gl:l,size:h,scene:u,events:f,onCreated:v,shadows:g=!1,linear:y=!1,flat:_=!1,legacy:E=!1,orthographic:T=!1,frameloop:x="always",dpr:b=[1,2],performance:w,raycaster:O,camera:C,onPointerMissed:P}=s,S=a.getState(),A=S.gl;if(!S.gl){let e={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},i="function"==typeof l?await l(e):l;A=Q(i)?i:new d.WebGLRenderer({...e,...l}),S.set({gl:A})}let M=S.raycaster;M||S.set({raycaster:M=new c.tBo});let{params:L,...D}=O||{};if(k.equ(D,M,tb)||$(M,{...D}),k.equ(L,M.params,tb)||$(M,{params:{...M.params,...L}}),!S.camera||S.camera===i&&!k.equ(i,C,tb)){i=C;let t=null==C?void 0:C.isCamera,e=t?C:T?new c.qUd(0,0,0,0,.1,1e3):new c.ubm(75,0,.1,1e3);!t&&(e.position.z=5,C&&($(e,C),!e.manual&&("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(e.manual=!0,e.updateProjectionMatrix())),S.camera||null!=C&&C.rotation||e.lookAt(0,0,0)),S.set({camera:e}),M.camera=e}if(!S.scene){let t;null!=u&&u.isScene?V(t=u,a,"",{}):(V(t=new c.Z58,a,"",{}),u&&$(t,u)),S.set({scene:t})}f&&!S.events.handlers&&S.set({events:f(a)});let U=function(t,e){if(!e&&"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&t.parentElement){let{width:e,height:i,top:s,left:n}=t.parentElement.getBoundingClientRect();return{width:e,height:i,top:s,left:n}}return!e&&"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?{width:t.width,height:t.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...e}}(t,h);if(k.equ(U,S.size,tb)||S.setSize(U.width,U.height,U.top,U.left),b&&S.viewport.dpr!==R(b)&&S.setDpr(b),S.frameloop!==x&&S.setFrameloop(x),S.onPointerMissed||S.set({onPointerMissed:P}),w&&!k.equ(w,S.performance,tb)&&S.set(t=>({performance:{...t.performance,...w}})),!S.xr){let t=(t,e)=>{let i=a.getState();"never"!==i.frameloop&&tV(t,!0,i,e)},e=()=>{let e=a.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?t:null),e.gl.xr.isPresenting||tj(e)},i={connect(){let t=a.getState().gl;t.xr.addEventListener("sessionstart",e),t.xr.addEventListener("sessionend",e)},disconnect(){let t=a.getState().gl;t.xr.removeEventListener("sessionstart",e),t.xr.removeEventListener("sessionend",e)}};"function"==typeof(null==(n=A.xr)?void 0:n.addEventListener)&&i.connect(),S.set({xr:i})}if(A.shadowMap){let t=A.shadowMap.enabled,e=A.shadowMap.type;if(A.shadowMap.enabled=!!g,k.boo(g))A.shadowMap.type=c.Wk7;else if(k.str(g)){let t={basic:c.bTm,percentage:c.QP0,soft:c.Wk7,variance:c.RyA};A.shadowMap.type=null!=(r=t[g])?r:c.Wk7}else k.obj(g)&&Object.assign(A.shadowMap,g);(t!==A.shadowMap.enabled||e!==A.shadowMap.type)&&(A.shadowMap.needsUpdate=!0)}return c.ppV.enabled=!E,p||(A.outputColorSpace=y?c.Zr2:c.er$,A.toneMapping=_?c.y_p:c.FV),S.legacy!==E&&S.set(()=>({legacy:E})),S.linear!==y&&S.set(()=>({linear:y})),S.flat!==_&&S.set(()=>({flat:_})),!l||k.fun(l)||Q(l)||k.equ(l,A,tb)||$(A,l),e=v,p=!0,o(),this},render(i){return p||m||this.configure(),m.then(()=>{tT.updateContainer((0,b.jsx)(tO,{store:a,children:i,onCreated:e,rootElement:t}),h,null,()=>void 0)}),a},unmount(){tC(t)}}}function tO({store:t,children:e,onCreated:i,rootElement:s}){return S(()=>{let e=t.getState();e.set(t=>({internal:{...t.internal,active:!0}})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(s)},[]),(0,b.jsx)(G.Provider,{value:t,children:e})}function tC(t,e){let i=tx.get(t),s=null==i?void 0:i.fiber;if(s){let n=null==i?void 0:i.store.getState();n&&(n.internal.active=!1),tT.updateContainer(null,s,null,()=>{n&&setTimeout(()=>{try{null==n.events.disconnect||n.events.disconnect(),null==(i=n.gl)||null==(s=i.renderLists)||null==s.dispose||s.dispose(),null==(r=n.gl)||null==r.forceContextLoss||r.forceContextLoss(),null!=(o=n.gl)&&o.xr&&n.xr.disconnect();var i,s,r,o,a=n.scene;for(let t in"Scene"!==a.type&&(null==a.dispose||a.dispose()),a){let e=a[t];(null==e?void 0:e.type)!=="Scene"&&(null==e||null==e.dispose||e.dispose())}tx.delete(t),e&&e(t)}catch(t){}},500)})}}let tP=new Set,tS=new Set,tA=new Set;function tM(t,e){if(t.size)for(let{callback:i}of t.values())i(e)}function tL(t,e){switch(t){case"before":return tM(tP,e);case"after":return tM(tS,e);case"tail":return tM(tA,e)}}function tD(t,e,i){let r=e.clock.getDelta();"never"===e.frameloop&&"number"==typeof t&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),s=e.internal.subscribers;for(let t=0;t<s.length;t++)(n=s[t]).ref.current(n.store.getState(),r,i);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),"always"===e.frameloop?1:e.internal.frames}let tR=!1,tU=!1;function tk(t){for(let i of(o=requestAnimationFrame(tk),tR=!0,r=0,tL("before",t),tU=!0,tx.values())){var e;(a=i.store.getState()).internal.active&&("always"===a.frameloop||a.internal.frames>0)&&!(null!=(e=a.gl.xr)&&e.isPresenting)&&(r+=tD(t,a))}if(tU=!1,tL("after",t),0===r)return tL("tail",t),tR=!1,cancelAnimationFrame(o)}function tj(t,e=1){var i;if(!t)return tx.forEach(t=>tj(t.store.getState(),e));(null==(i=t.gl.xr)||!i.isPresenting)&&t.internal.active&&"never"!==t.frameloop&&(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):tU?t.internal.frames=2:t.internal.frames=1,tR||(tR=!0,requestAnimationFrame(tk)))}function tV(t,e=!0,i,s){if(e&&tL("before",t),i)tD(t,i,s);else for(let e of tx.values())tD(t,e.store.getState());e&&tL("after",t)}let tF={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function tz(t){let{handlePointer:e}=function(t){function e(t){return t.filter(t=>["Move","Over","Enter","Out","Leave"].some(e=>{var i;return null==(i=t.__r3f)?void 0:i.handlers["onPointer"+e]}))}function i(e){let{internal:i}=t.getState();for(let t of i.hovered.values())if(!e.length||!e.find(e=>e.object===t.object&&e.index===t.index&&e.instanceId===t.instanceId)){let s=t.eventObject.__r3f;if(i.hovered.delete(X(t)),null!=s&&s.eventCount){let i=s.handlers,n={...t,intersections:e};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function s(t,e){for(let i=0;i<e.length;i++){let s=e[i].__r3f;null==s||null==s.handlers.onPointerMissed||s.handlers.onPointerMissed(t)}}return{handlePointer:function(n){switch(n){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return e=>{let{internal:s}=t.getState();"pointerId"in e&&s.capturedMap.has(e.pointerId)&&requestAnimationFrame(()=>{s.capturedMap.has(e.pointerId)&&(s.capturedMap.delete(e.pointerId),i([]))})}}return function(r){let{onPointerMissed:o,internal:a}=t.getState();a.lastEvent.current=r;let l="onPointerMove"===n,h="onClick"===n||"onContextMenu"===n||"onDoubleClick"===n,u=function(e,i){let s=t.getState(),n=new Set,r=[],o=i?i(s.internal.interaction):s.internal.interaction;for(let t=0;t<o.length;t++){let e=U(o[t]);e&&(e.raycaster.camera=void 0)}s.previousRoot||null==s.events.compute||s.events.compute(e,s);let a=o.flatMap(function(t){let i=U(t);if(!i||!i.events.enabled||null===i.raycaster.camera)return[];if(void 0===i.raycaster.camera){var s;null==i.events.compute||i.events.compute(e,i,null==(s=i.previousRoot)?void 0:s.getState()),void 0===i.raycaster.camera&&(i.raycaster.camera=null)}return i.raycaster.camera?i.raycaster.intersectObject(t,!0):[]}).sort((t,e)=>{let i=U(t.object),s=U(e.object);return i&&s&&s.events.priority-i.events.priority||t.distance-e.distance}).filter(t=>{let e=X(t);return!n.has(e)&&(n.add(e),!0)});for(let t of(s.events.filter&&(a=s.events.filter(a,s)),a)){let e=t.object;for(;e;){var l;null!=(l=e.__r3f)&&l.eventCount&&r.push({...t,eventObject:e}),e=e.parent}}if("pointerId"in e&&s.internal.capturedMap.has(e.pointerId))for(let t of s.internal.capturedMap.get(e.pointerId).values())n.has(X(t.intersection))||r.push(t.intersection);return r}(r,l?e:void 0),d=h?function(e){let{internal:i}=t.getState(),s=e.offsetX-i.initialClick[0],n=e.offsetY-i.initialClick[1];return Math.round(Math.sqrt(s*s+n*n))}(r):0;"onPointerDown"===n&&(a.initialClick=[r.offsetX,r.offsetY],a.initialHits=u.map(t=>t.eventObject)),h&&!u.length&&d<=2&&(s(r,a.interaction),o&&o(r)),l&&i(u),!function(t,e,s,n){if(t.length){let r={stopped:!1};for(let o of t){let a=U(o.object);if(a||o.object.traverseAncestors(t=>{let e=U(t);if(e)return a=e,!1}),a){let{raycaster:l,pointer:h,camera:u,internal:d}=a,p=new c.Pq0(h.x,h.y,0).unproject(u),m=t=>{var e,i;return null!=(e=null==(i=d.capturedMap.get(t))?void 0:i.has(o.eventObject))&&e},f=t=>{let i={intersection:o,target:e.target};d.capturedMap.has(t)?d.capturedMap.get(t).set(o.eventObject,i):d.capturedMap.set(t,new Map([[o.eventObject,i]])),e.target.setPointerCapture(t)},v=t=>{let e=d.capturedMap.get(t);e&&q(d.capturedMap,o.eventObject,e,t)},g={};for(let t in e){let i=e[t];"function"!=typeof i&&(g[t]=i)}let y={...o,...g,pointer:h,intersections:t,stopped:r.stopped,delta:s,unprojectedPoint:p,ray:l.ray,camera:u,stopPropagation(){let s="pointerId"in e&&d.capturedMap.get(e.pointerId);(!s||s.has(o.eventObject))&&(y.stopped=r.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(t=>t.eventObject===o.eventObject)&&i([...t.slice(0,t.indexOf(o)),o]))},target:{hasPointerCapture:m,setPointerCapture:f,releasePointerCapture:v},currentTarget:{hasPointerCapture:m,setPointerCapture:f,releasePointerCapture:v},nativeEvent:e};if(n(y),!0===r.stopped)break}}}}(u,r,d,function(t){let e=t.eventObject,i=e.__r3f;if(!(null!=i&&i.eventCount))return;let o=i.handlers;if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){let e=X(t),i=a.hovered.get(e);i?i.stopped&&t.stopPropagation():(a.hovered.set(e,t),null==o.onPointerOver||o.onPointerOver(t),null==o.onPointerEnter||o.onPointerEnter(t))}null==o.onPointerMove||o.onPointerMove(t)}else{let i=o[n];i?(!h||a.initialHits.includes(e))&&(s(r,a.interaction.filter(t=>!a.initialHits.includes(t))),i(t)):h&&a.initialHits.includes(e)&&s(r,a.interaction.filter(t=>!a.initialHits.includes(t)))}})}}}}(t);return{priority:1,enabled:!0,compute(t,e,i){e.pointer.set(t.offsetX/e.size.width*2-1,-(2*(t.offsetY/e.size.height))+1),e.raycaster.setFromCamera(e.pointer,e.camera)},connected:void 0,handlers:Object.keys(tF).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var e;let{events:i,internal:s}=t.getState();null!=(e=s.lastEvent)&&e.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:e=>{let{set:i,events:s}=t.getState();if(null==s.disconnect||s.disconnect(),i(t=>({events:{...t.events,connected:e}})),s.handlers)for(let t in s.handlers){let i=s.handlers[t],[n,r]=tF[t];e.addEventListener(n,i,{passive:r})}},disconnect:()=>{let{set:e,events:i}=t.getState();if(i.connected){if(i.handlers)for(let t in i.handlers){let e=i.handlers[t],[s]=tF[t];i.connected.removeEventListener(s,e)}e(t=>({events:{...t.events,connected:void 0}}))}}}}},5601:(t,e,i)=>{i.d(e,{xQ:()=>r});var s=i(2115),n=i(9686);function r(t=!0){let e=(0,s.useContext)(n.t);if(null===e)return[!0,null];let{isPresent:i,onExitComplete:o,register:a}=e,l=(0,s.useId)();(0,s.useEffect)(()=>{t&&a(l)},[t]);let h=(0,s.useCallback)(()=>t&&o&&o(l),[l,o,t]);return!i&&o?[!1,h]:[!0]}},6451:(t,e)=>{function i(t,e){var i=t.length;for(t.push(e);0<i;){var s=i-1>>>1,n=t[s];if(0<r(n,e))t[s]=e,t[i]=n,i=s;else break}}function s(t){return 0===t.length?null:t[0]}function n(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;for(var s=0,n=t.length,o=n>>>1;s<o;){var a=2*(s+1)-1,l=t[a],h=a+1,u=t[h];if(0>r(l,i))h<n&&0>r(u,l)?(t[s]=u,t[h]=i,s=h):(t[s]=l,t[a]=i,s=a);else if(h<n&&0>r(u,i))t[s]=u,t[h]=i,s=h;else break}}return e}function r(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();e.unstable_now=function(){return l.now()-h}}var u=[],c=[],d=1,p=null,m=3,f=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,E="undefined"!=typeof setImmediate?setImmediate:null;function T(t){for(var e=s(c);null!==e;){if(null===e.callback)n(c);else if(e.startTime<=t)n(c),e.sortIndex=e.expirationTime,i(u,e);else break;e=s(c)}}function x(t){if(g=!1,T(t),!v)if(null!==s(u))v=!0,L();else{var e=s(c);null!==e&&D(x,e.startTime-t)}}var b=!1,w=-1,O=5,C=-1;function P(){return!(e.unstable_now()-C<O)}function S(){if(b){var t=e.unstable_now();C=t;var i=!0;try{t:{v=!1,g&&(g=!1,_(w),w=-1),f=!0;var r=m;try{e:{for(T(t),p=s(u);null!==p&&!(p.expirationTime>t&&P());){var a=p.callback;if("function"==typeof a){p.callback=null,m=p.priorityLevel;var l=a(p.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){p.callback=l,T(t),i=!0;break e}p===s(u)&&n(u),T(t)}else n(u);p=s(u)}if(null!==p)i=!0;else{var h=s(c);null!==h&&D(x,h.startTime-t),i=!1}}break t}finally{p=null,m=r,f=!1}}}finally{i?o():b=!1}}}if("function"==typeof E)o=function(){E(S)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,M=A.port2;A.port1.onmessage=S,o=function(){M.postMessage(null)}}else o=function(){y(S,0)};function L(){b||(b=!0,o())}function D(t,i){w=y(function(){t(e.unstable_now())},i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,L())},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(u)},e.unstable_next=function(t){switch(m){case 1:case 2:case 3:var e=3;break;default:e=m}var i=m;m=e;try{return t()}finally{m=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=m;m=t;try{return e()}finally{m=i}},e.unstable_scheduleCallback=function(t,n,r){var o=e.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?o+r:o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=0x3fffffff;break;case 4:a=1e4;break;default:a=5e3}return a=r+a,t={id:d++,callback:n,priorityLevel:t,startTime:r,expirationTime:a,sortIndex:-1},r>o?(t.sortIndex=r,i(c,t),null===s(u)&&t===s(c)&&(g?(_(w),w=-1):g=!0,D(x,r-o))):(t.sortIndex=a,i(u,t),v||f||(v=!0,L())),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=m;return function(){var i=m;m=e;try{return t.apply(this,arguments)}finally{m=i}}}},6553:(t,e,i)=>{i.d(e,{E:()=>n});var s=i(2115);let n=i(3577).B?s.useLayoutEffect:s.useEffect},8807:(t,e,i)=>{t.exports=i(7719)},8828:(t,e,i)=>{t.exports=i(3654)},8870:(t,e,i)=>{t.exports=i(1975)},9287:(t,e,i)=>{let s,n,r,o,a,l,h,u,c,d,p,m,f,v,g,y,_,E,T,x,b,w,O;function C(){return(C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(null,arguments)}i.d(e,{a:()=>J});var P,S=i(5339),A=i(2115),M=i(4877);let L={LEFT:1,RIGHT:2,MIDDLE:4},D=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),R={NONE:0,IN:1,OUT:-1};function U(t){return t.isPerspectiveCamera}function k(t){return t.isOrthographicCamera}let j=2*Math.PI,V=Math.PI/2,F=Math.PI/180;function z(t,e,i){return Math.max(e,Math.min(i,t))}function I(t,e=1e-5){return Math.abs(t)<e}function N(t,e,i=1e-5){return I(t-e,i)}function H(t,e){return Math.round(t/e)*e}function B(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Y(t){return Math.abs(t)<Number.MAX_VALUE?t:1/0*t}function Z(t,e,i,s,n=1/0,r){let o=2/(s=Math.max(1e-4,s)),a=o*r,l=1/(1+a+.48*a*a+.235*a*a*a),h=t-e,u=e,c=n*s;e=t-(h=z(h,-c,c));let d=(i.value+o*h)*r;i.value=(i.value-o*d)*l;let p=e+(h+d)*l;return u-t>0==p>u&&(i.value=((p=u)-u)/r),p}function $(t,e,i,s,n=1/0,r,o){let a=2/(s=Math.max(1e-4,s)),l=a*r,h=1/(1+l+.48*l*l+.235*l*l*l),u=e.x,c=e.y,d=e.z,p=t.x-u,m=t.y-c,f=t.z-d,v=u,g=c,y=d,_=n*s,E=p*p+m*m+f*f;if(E>_*_){let t=Math.sqrt(E);p=p/t*_,m=m/t*_,f=f/t*_}u=t.x-p,c=t.y-m,d=t.z-f;let T=(i.x+a*p)*r,x=(i.y+a*m)*r,b=(i.z+a*f)*r;i.x=(i.x-a*T)*h,i.y=(i.y-a*x)*h,i.z=(i.z-a*b)*h,o.x=u+(p+T)*h,o.y=c+(m+x)*h,o.z=d+(f+b)*h;let w=v-t.x,O=g-t.y,C=y-t.z,P=o.x-v;return w*P+O*(o.y-g)+C*(o.z-y)>0&&(o.x=v,o.y=g,o.z=y,i.x=(o.x-v)/r,i.y=(o.y-g)/r,i.z=(o.z-y)/r),o}function W(t,e){e.set(0,0),t.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=t.length,e.y/=t.length}function K(t,e){return!!k(t)&&(console.warn(`${e} is not supported in OrthographicCamera`),!0)}class X{constructor(){this._listeners={}}addEventListener(t,e){let i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){let i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){let i=this._listeners[t];if(void 0!==i){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}}removeAllEventListeners(t){if(!t){this._listeners={};return}Array.isArray(this._listeners[t])&&(this._listeners[t].length=0)}dispatchEvent(t){let e=this._listeners[t.type];if(void 0!==e){t.target=this;let i=e.slice(0);for(let e=0,s=i.length;e<s;e++)i[e].call(this,t)}}}let q=1/8,Q=/Mac/.test(null==(P=null==globalThis?void 0:globalThis.navigator)?void 0:P.platform);class G extends X{static install(t){n=Object.freeze(new(s=t.THREE).Vector3(0,0,0)),r=Object.freeze(new s.Vector3(0,1,0)),o=Object.freeze(new s.Vector3(0,0,1)),a=new s.Vector2,l=new s.Vector3,h=new s.Vector3,u=new s.Vector3,c=new s.Vector3,d=new s.Vector3,p=new s.Vector3,m=new s.Vector3,f=new s.Vector3,v=new s.Vector3,g=new s.Spherical,y=new s.Spherical,_=new s.Box3,E=new s.Box3,T=new s.Sphere,x=new s.Quaternion,b=new s.Quaternion,w=new s.Matrix4,O=new s.Raycaster}static get ACTION(){return D}set verticalDragToForward(t){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(t,e){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=D.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=R.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new s.Vector3,this._focalOffsetVelocity=new s.Vector3,this._zoomVelocity={value:0},this._truckInternal=(t,e,i,s)=>{let n,r;if(U(this._camera)){let i=l.copy(this._camera.position).sub(this._target),s=this._camera.getEffectiveFOV()*F,o=i.length()*Math.tan(.5*s);n=this.truckSpeed*t*o/this._elementRect.height,r=this.truckSpeed*e*o/this._elementRect.height}else{if(!k(this._camera))return;let i=this._camera;n=this.truckSpeed*t*(i.right-i.left)/i.zoom/this._elementRect.width,r=this.truckSpeed*e*(i.top-i.bottom)/i.zoom/this._elementRect.height}s?(i?this.setFocalOffset(this._focalOffsetEnd.x+n,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(n,0,!0),this.forward(-r,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+n,this._focalOffsetEnd.y+r,this._focalOffsetEnd.z,!0):this.truck(n,r,!0)},this._rotateInternal=(t,e)=>{let i=j*this.azimuthRotateSpeed*t/this._elementRect.height,s=j*this.polarRotateSpeed*e/this._elementRect.height;this.rotate(i,s,!0)},this._dollyInternal=(t,e,i)=>{let s=Math.pow(.95,-t*this.dollySpeed),n=this._sphericalEnd.radius,r=this._sphericalEnd.radius*s,o=z(r,this.minDistance,this.maxDistance),a=o-r;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(r,!0):(this.infinityDolly&&!this.dollyToCursor&&this.dollyInFixed(a,!0),this._dollyToNoClamp(o,!0)),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?r:o)-n,this._dollyControlCoord.set(e,i)),this._lastDollyDirection=Math.sign(-t)},this._zoomInternal=(t,e,i)=>{let s=Math.pow(.95,t*this.dollySpeed),n=this._zoom,r=this._zoom*s;this.zoomTo(r,!0),this.dollyToCursor&&(this._changedZoom+=r-n,this._dollyControlCoord.set(e,i))},void 0===s&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new s.Quaternion().setFromUnitVectors(this._camera.up,r),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=D.NONE,this._target=new s.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new s.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new s.Spherical().setFromVector3(l.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3],this._updateNearPlaneCorners(),this._boundary=new s.Box3(new s.Vector3(-1/0,-1/0,-1/0),new s.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new s.Vector2,this.mouseButtons={left:D.ROTATE,middle:D.DOLLY,right:D.TRUCK,wheel:U(this._camera)?D.DOLLY:k(this._camera)?D.ZOOM:D.NONE},this.touches={one:D.TOUCH_ROTATE,two:U(this._camera)?D.TOUCH_DOLLY_TRUCK:k(this._camera)?D.TOUCH_ZOOM_TRUCK:D.NONE,three:D.TOUCH_TRUCK};let i=new s.Vector2,n=new s.Vector2,o=new s.Vector2,h=t=>{if(!this._enabled||!this._domElement)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let e=this._domElement.getBoundingClientRect(),i=t.clientX/e.width,s=t.clientY/e.height;if(i<this._interactiveArea.left||i>this._interactiveArea.right||s<this._interactiveArea.top||s>this._interactiveArea.bottom)return}let e="mouse"!==t.pointerType?null:(t.buttons&L.LEFT)===L.LEFT?L.LEFT:(t.buttons&L.MIDDLE)===L.MIDDLE?L.MIDDLE:(t.buttons&L.RIGHT)===L.RIGHT?L.RIGHT:null;if(null!==e){let t=this._findPointerByMouseButton(e);t&&this._disposePointer(t)}if((t.buttons&L.LEFT)===L.LEFT&&this._lockedPointer)return;let i={pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY,deltaX:0,deltaY:0,mouseButton:e};this._activePointers.push(i),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),this._isDragging=!0,f(t)},u=t=>{t.cancelable&&t.preventDefault();let e=t.pointerId,i=this._lockedPointer||this._findPointerById(e);if(i){if(i.clientX=t.clientX,i.clientY=t.clientY,i.deltaX=t.movementX,i.deltaY=t.movementY,this._state=0,"touch"===t.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(t.buttons&L.LEFT)===L.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(t.buttons&L.MIDDLE)===L.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(t.buttons&L.RIGHT)===L.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},c=t=>{let e=this._findPointerById(t.pointerId);if(!e||e!==this._lockedPointer){if(e&&this._disposePointer(e),"touch"===t.pointerType)switch(this._activePointers.length){case 0:this._state=D.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=D.NONE;g()}},d=-1,p=t=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===D.NONE)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let e=this._domElement.getBoundingClientRect(),i=t.clientX/e.width,s=t.clientY/e.height;if(i<this._interactiveArea.left||i>this._interactiveArea.right||s<this._interactiveArea.top||s>this._interactiveArea.bottom)return}if(t.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===D.ROTATE||this.mouseButtons.wheel===D.TRUCK){let t=performance.now();d-t<1e3&&this._getClientRect(this._elementRect),d=t}let e=Q?-1:-3,i=1===t.deltaMode||t.ctrlKey?t.deltaY/e:t.deltaY/(10*e),s=this.dollyToCursor?(t.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,n=this.dollyToCursor?-((t.clientY-this._elementRect.y)/this._elementRect.height*2)+1:0;switch(this.mouseButtons.wheel){case D.ROTATE:this._rotateInternal(t.deltaX,t.deltaY),this._isUserControllingRotate=!0;break;case D.TRUCK:this._truckInternal(t.deltaX,t.deltaY,!1,!1),this._isUserControllingTruck=!0;break;case D.SCREEN_PAN:this._truckInternal(t.deltaX,t.deltaY,!1,!0),this._isUserControllingTruck=!0;break;case D.OFFSET:this._truckInternal(t.deltaX,t.deltaY,!0,!1),this._isUserControllingOffset=!0;break;case D.DOLLY:this._dollyInternal(-i,s,n),this._isUserControllingDolly=!0;break;case D.ZOOM:this._zoomInternal(-i,s,n),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},m=t=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===G.ACTION.NONE){let e=t instanceof PointerEvent?t.pointerId:0,i=this._findPointerById(e);i&&this._disposePointer(i),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c);return}t.preventDefault()}},f=t=>{if(this._enabled){if(W(this._activePointers,a),this._getClientRect(this._elementRect),i.copy(a),n.copy(a),this._activePointers.length>=2){let t=a.x-this._activePointers[1].clientX,e=a.y-this._activePointers[1].clientY,i=Math.sqrt(t*t+e*e);o.set(0,i);let s=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,r=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;n.set(s,r)}if(this._state=0,t)if("pointerType"in t&&"touch"===t.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._lockedPointer||(t.buttons&L.LEFT)!==L.LEFT||(this._state=this._state|this.mouseButtons.left),(t.buttons&L.MIDDLE)===L.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(t.buttons&L.RIGHT)===L.RIGHT&&(this._state=this._state|this.mouseButtons.right);else this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&D.TRUCK)===D.TRUCK||(this._state&D.SCREEN_PAN)===D.SCREEN_PAN||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_SCREEN_PAN)===D.TOUCH_SCREEN_PAN||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_ZOOM_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&D.DOLLY)===D.DOLLY||(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&D.ZOOM)===D.ZOOM||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_ZOOM_SCREEN_PAN)===D.TOUCH_ZOOM_SCREEN_PAN||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},v=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,W(this._activePointers,a);let t=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,e=t?-t.deltaX:n.x-a.x,s=t?-t.deltaY:n.y-a.y;if(n.copy(a),((this._state&D.ROTATE)===D.ROTATE||(this._state&D.TOUCH_ROTATE)===D.TOUCH_ROTATE||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(e,s),this._isUserControllingRotate=!0),(this._state&D.DOLLY)===D.DOLLY||(this._state&D.ZOOM)===D.ZOOM){let t=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,e=this.dollyToCursor?-((i.y-this._elementRect.y)/this._elementRect.height*2)+1:0,n=this.dollyDragInverted?-1:1;(this._state&D.DOLLY)===D.DOLLY?(this._dollyInternal(n*s*q,t,e),this._isUserControllingDolly=!0):(this._zoomInternal(n*s*q,t,e),this._isUserControllingZoom=!0)}if((this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_ZOOM)===D.TOUCH_ZOOM||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK||(this._state&D.TOUCH_DOLLY_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN||(this._state&D.TOUCH_ZOOM_SCREEN_PAN)===D.TOUCH_ZOOM_SCREEN_PAN||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_ZOOM_ROTATE)===D.TOUCH_ZOOM_ROTATE){let t=a.x-this._activePointers[1].clientX,e=a.y-this._activePointers[1].clientY,i=Math.sqrt(t*t+e*e),s=o.y-i;o.set(0,i);let r=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,l=this.dollyToCursor?-((n.y-this._elementRect.y)/this._elementRect.height*2)+1:0;(this._state&D.TOUCH_DOLLY)===D.TOUCH_DOLLY||(this._state&D.TOUCH_DOLLY_ROTATE)===D.TOUCH_DOLLY_ROTATE||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_DOLLY_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET?(this._dollyInternal(s*q,r,l),this._isUserControllingDolly=!0):(this._zoomInternal(s*q,r,l),this._isUserControllingZoom=!0)}((this._state&D.TRUCK)===D.TRUCK||(this._state&D.TOUCH_TRUCK)===D.TOUCH_TRUCK||(this._state&D.TOUCH_DOLLY_TRUCK)===D.TOUCH_DOLLY_TRUCK||(this._state&D.TOUCH_ZOOM_TRUCK)===D.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(e,s,!1,!1),this._isUserControllingTruck=!0),((this._state&D.SCREEN_PAN)===D.SCREEN_PAN||(this._state&D.TOUCH_SCREEN_PAN)===D.TOUCH_SCREEN_PAN||(this._state&D.TOUCH_DOLLY_SCREEN_PAN)===D.TOUCH_DOLLY_SCREEN_PAN||(this._state&D.TOUCH_ZOOM_SCREEN_PAN)===D.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(e,s,!1,!0),this._isUserControllingTruck=!0),((this._state&D.OFFSET)===D.OFFSET||(this._state&D.TOUCH_OFFSET)===D.TOUCH_OFFSET||(this._state&D.TOUCH_DOLLY_OFFSET)===D.TOUCH_DOLLY_OFFSET||(this._state&D.TOUCH_ZOOM_OFFSET)===D.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(e,s,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},g=()=>{W(this._activePointers,a),n.copy(a),this._dragNeedsUpdate=!1,(0===this._activePointers.length||1===this._activePointers.length&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{this._enabled&&this._domElement&&(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",y),this._domElement.ownerDocument.addEventListener("pointerlockerror",_),this._domElement.ownerDocument.addEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",c),f())},this.unlockPointer=()=>{var t,e,i;null!==this._lockedPointer&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),null==(t=this._domElement)||t.ownerDocument.exitPointerLock(),null==(e=this._domElement)||e.ownerDocument.removeEventListener("pointerlockchange",y),null==(i=this._domElement)||i.ownerDocument.removeEventListener("pointerlockerror",_),this.cancel()};let y=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},_=()=>{this.unlockPointer()};this._addAllEventListeners=t=>{this._domElement=t,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",h),this._domElement.addEventListener("pointercancel",c),this._domElement.addEventListener("wheel",p,{passive:!1}),this._domElement.addEventListener("contextmenu",m)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",h),this._domElement.removeEventListener("pointercancel",c),this._domElement.removeEventListener("wheel",p,{passive:!1}),this._domElement.removeEventListener("contextmenu",m),this._domElement.ownerDocument.removeEventListener("pointermove",u,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",c),this._domElement.ownerDocument.removeEventListener("pointerlockchange",y),this._domElement.ownerDocument.removeEventListener("pointerlockerror",_))},this.cancel=()=>{this._state!==D.NONE&&(this._state=D.NONE,this._activePointers.length=0,g())},e&&this.connect(e),this.update(0)}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._domElement&&(t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){(this._spherical.radius!==t||this._sphericalEnd.radius!==t)&&(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){(this._spherical.theta!==t||this._sphericalEnd.theta!==t)&&(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){(this._spherical.phi!==t||this._sphericalEnd.phi!==t)&&(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}set interactiveArea(t){this._interactiveArea.width=z(t.width,0,1),this._interactiveArea.height=z(t.height,0,1),this._interactiveArea.x=z(t.x,0,1-this._interactiveArea.width),this._interactiveArea.y=z(t.y,0,1-this._interactiveArea.height)}addEventListener(t,e){super.addEventListener(t,e)}removeEventListener(t,e){super.removeEventListener(t,e)}rotate(t,e,i=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+e,i)}rotateAzimuthTo(t,e=!1){return this.rotateTo(t,this._sphericalEnd.phi,e)}rotatePolarTo(t,e=!1){return this.rotateTo(this._sphericalEnd.theta,t,e)}rotateTo(t,e,i=!1){this._isUserControllingRotate=!1;let s=z(t,this.minAzimuthAngle,this.maxAzimuthAngle),n=z(e,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=n,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let r=!i||N(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&N(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(r)}dolly(t,e=!1){return this.dollyTo(this._sphericalEnd.radius-t,e)}dollyTo(t,e=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=R.NONE,this._changedDolly=0,this._dollyToNoClamp(z(t,this.minDistance,this.maxDistance),e)}_dollyToNoClamp(t,e=!1){let i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){let e=this._collisionTest(),s=N(e,this._spherical.radius);if(!(i>t)&&s)return Promise.resolve();this._sphericalEnd.radius=Math.min(t,e)}else this._sphericalEnd.radius=t;this._needsUpdate=!0,e||(this._spherical.radius=this._sphericalEnd.radius);let s=!e||N(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(t,e=!1){this._targetEnd.add(this._getCameraDirection(c).multiplyScalar(t)),e||this._target.copy(this._targetEnd);let i=!e||N(this._target.x,this._targetEnd.x,this.restThreshold)&&N(this._target.y,this._targetEnd.y,this.restThreshold)&&N(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(t,e=!1){return this.zoomTo(this._zoomEnd+t,e)}zoomTo(t,e=!1){this._isUserControllingZoom=!1,this._zoomEnd=z(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,e||(this._zoom=this._zoomEnd);let i=!e||N(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(t,e,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,e,i)}truck(t,e,i=!1){this._camera.updateMatrix(),d.setFromMatrixColumn(this._camera.matrix,0),p.setFromMatrixColumn(this._camera.matrix,1),d.multiplyScalar(t),p.multiplyScalar(-e);let s=l.copy(d).add(p),n=h.copy(this._targetEnd).add(s);return this.moveTo(n.x,n.y,n.z,i)}forward(t,e=!1){l.setFromMatrixColumn(this._camera.matrix,0),l.crossVectors(this._camera.up,l),l.multiplyScalar(t);let i=h.copy(this._targetEnd).add(l);return this.moveTo(i.x,i.y,i.z,e)}elevate(t,e=!1){return l.copy(this._camera.up).multiplyScalar(t),this.moveTo(this._targetEnd.x+l.x,this._targetEnd.y+l.y,this._targetEnd.z+l.z,e)}moveTo(t,e,i,s=!1){this._isUserControllingTruck=!1;let n=l.set(t,e,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,n,this.boundaryFriction),this._needsUpdate=!0,s||this._target.copy(this._targetEnd);let r=!s||N(this._target.x,this._targetEnd.x,this.restThreshold)&&N(this._target.y,this._targetEnd.y,this.restThreshold)&&N(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}lookInDirectionOf(t,e,i,s=!1){let n=l.set(t,e,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(n.x,n.y,n.z,s)}fitToBox(t,e,{cover:i=!1,paddingLeft:s=0,paddingRight:n=0,paddingBottom:a=0,paddingTop:u=0}={}){let c=[],d=t.isBox3?_.copy(t):_.setFromObject(t);d.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let p=H(this._sphericalEnd.theta,V),m=H(this._sphericalEnd.phi,V);c.push(this.rotateTo(p,m,e));let f=l.setFromSpherical(this._sphericalEnd).normalize(),v=x.setFromUnitVectors(f,o),g=N(Math.abs(f.y),1);g&&v.multiply(b.setFromAxisAngle(r,p)),v.multiply(this._yAxisUpSpaceInverse);let y=E.makeEmpty();h.copy(d.min).applyQuaternion(v),y.expandByPoint(h),h.copy(d.min).setX(d.max.x).applyQuaternion(v),y.expandByPoint(h),h.copy(d.min).setY(d.max.y).applyQuaternion(v),y.expandByPoint(h),h.copy(d.max).setZ(d.min.z).applyQuaternion(v),y.expandByPoint(h),h.copy(d.min).setZ(d.max.z).applyQuaternion(v),y.expandByPoint(h),h.copy(d.max).setY(d.min.y).applyQuaternion(v),y.expandByPoint(h),h.copy(d.max).setX(d.min.x).applyQuaternion(v),y.expandByPoint(h),h.copy(d.max).applyQuaternion(v),y.expandByPoint(h),y.min.x-=s,y.min.y-=a,y.max.x+=n,y.max.y+=u,v.setFromUnitVectors(o,f),g&&v.premultiply(b.invert()),v.premultiply(this._yAxisUpSpace);let T=y.getSize(l),w=y.getCenter(h).applyQuaternion(v);if(U(this._camera)){let t=this.getDistanceToFitBox(T.x,T.y,T.z,i);c.push(this.moveTo(w.x,w.y,w.z,e)),c.push(this.dollyTo(t,e)),c.push(this.setFocalOffset(0,0,0,e))}else if(k(this._camera)){let t=this._camera,s=t.right-t.left,n=t.top-t.bottom,r=i?Math.max(s/T.x,n/T.y):Math.min(s/T.x,n/T.y);c.push(this.moveTo(w.x,w.y,w.z,e)),c.push(this.zoomTo(r,e)),c.push(this.setFocalOffset(0,0,0,e))}return Promise.all(c)}fitToSphere(t,e){let i=[],s="isObject3D"in t?G.createBoundingSphere(t,T):T.copy(t);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,e)),U(this._camera)){let t=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(t,e))}else if(k(this._camera)){let t=this._camera.right-this._camera.left,n=this._camera.top-this._camera.bottom,r=2*s.radius,o=Math.min(t/r,n/r);i.push(this.zoomTo(o,e))}return i.push(this.setFocalOffset(0,0,0,e)),Promise.all(i)}setLookAt(t,e,i,s,n,r,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=R.NONE,this._changedDolly=0;let a=h.set(s,n,r),u=l.set(t,e,i);this._targetEnd.copy(a),this._sphericalEnd.setFromVector3(u.sub(a).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let c=!o||N(this._target.x,this._targetEnd.x,this.restThreshold)&&N(this._target.y,this._targetEnd.y,this.restThreshold)&&N(this._target.z,this._targetEnd.z,this.restThreshold)&&N(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&N(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&N(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(c)}lerp(t,e,i,s=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=R.NONE,this._changedDolly=0;let n=l.set(...t.target);if("spherical"in t)g.set(...t.spherical);else{let e=h.set(...t.position);g.setFromVector3(e.sub(n).applyQuaternion(this._yAxisUpSpace))}let r=u.set(...e.target);if("spherical"in e)y.set(...e.spherical);else{let t=h.set(...e.position);y.setFromVector3(t.sub(r).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(n.lerp(r,i));let o=y.theta-g.theta,a=y.phi-g.phi,c=y.radius-g.radius;this._sphericalEnd.set(g.radius+c*i,g.phi+a*i,g.theta+o*i),this._needsUpdate=!0,s||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let d=!s||N(this._target.x,this._targetEnd.x,this.restThreshold)&&N(this._target.y,this._targetEnd.y,this.restThreshold)&&N(this._target.z,this._targetEnd.z,this.restThreshold)&&N(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&N(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&N(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(t,e,i,s,n,r,o,a,l,h,u,c,d,p=!1){return this.lerp({position:[t,e,i],target:[s,n,r]},{position:[o,a,l],target:[h,u,c]},d,p)}setPosition(t,e,i,s=!1){return this.setLookAt(t,e,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(t,e,i,s=!1){let n=this.getPosition(l),r=this.setLookAt(n.x,n.y,n.z,t,e,i,s);return this._sphericalEnd.phi=z(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),r}setFocalOffset(t,e,i,s=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(t,e,i),this._needsUpdate=!0,s||this._focalOffset.copy(this._focalOffsetEnd);let n=!s||N(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&N(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&N(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}setOrbitPoint(t,e,i){this._camera.updateMatrixWorld(),d.setFromMatrixColumn(this._camera.matrixWorldInverse,0),p.setFromMatrixColumn(this._camera.matrixWorldInverse,1),m.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let s=l.set(t,e,i),n=s.distanceTo(this._camera.position),r=s.sub(this._camera.position);d.multiplyScalar(r.x),p.multiplyScalar(r.y),m.multiplyScalar(r.z),l.copy(d).add(p).add(m),l.z=l.z+n,this.dollyTo(n,!1),this.setFocalOffset(-l.x,l.y,-l.z,!1),this.moveTo(t,e,i,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,e,i,n){if(null===t){this._viewport=null;return}this._viewport=this._viewport||new s.Vector4,"number"==typeof t?this._viewport.set(t,e,i,n):this._viewport.copy(t)}getDistanceToFitBox(t,e,i,s=!1){if(K(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let n=t/e,r=this._camera.getEffectiveFOV()*F,o=this._camera.aspect;return .5*((s?n>o:n<o)?e:t/o)/Math.tan(.5*r)+.5*i}getDistanceToFitSphere(t){if(K(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let e=this._camera.getEffectiveFOV()*F,i=2*Math.atan(Math.tan(.5*e)*this._camera.aspect);return t/Math.sin(.5*(1<this._camera.aspect?e:i))}getTarget(t,e=!0){return(t&&t.isVector3?t:new s.Vector3).copy(e?this._targetEnd:this._target)}getPosition(t,e=!0){return(t&&t.isVector3?t:new s.Vector3).setFromSpherical(e?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(e?this._targetEnd:this._target)}getSpherical(t,e=!0){return(t||new s.Spherical).copy(e?this._sphericalEnd:this._spherical)}getFocalOffset(t,e=!0){return(t&&t.isVector3?t:new s.Vector3).copy(e?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%j+j)%j,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=j),this._spherical.theta+=j*Math.round((this._sphericalEnd.theta-this._spherical.theta)/j),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(t=!1){if(!N(this._camera.up.x,this._cameraUp0.x)||!N(this._camera.up.y,this._cameraUp0.y)||!N(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let t=this.getPosition(l);this.updateCameraUp(),this.setPosition(t.x,t.y,t.z)}return Promise.all([this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)])}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,r),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let t=l.subVectors(this._target,this._camera.position).normalize(),e=h.crossVectors(t,this._camera.up);this._camera.up.crossVectors(e,t).normalize(),this._camera.updateMatrixWorld();let i=this.getPosition(l);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(t){let e=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,n=f.subVectors(this._targetEnd,this._target),r=v.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(I(e))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let e=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Z(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,e,1/0,t),this._needsUpdate=!0}if(I(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let e=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Z(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,e,1/0,t),this._needsUpdate=!0}if(I(s))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let e=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Z(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,e,this.maxSpeed,t),this._needsUpdate=!0}if(I(n.x)&&I(n.y)&&I(n.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let e=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;$(this._target,this._targetEnd,this._targetVelocity,e,this.maxSpeed,t,this._target),this._needsUpdate=!0}if(I(r.x)&&I(r.y)&&I(r.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let e=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;$(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,e,this.maxSpeed,t,this._focalOffset),this._needsUpdate=!0}if(I(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let e=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Z(this._zoom,this._zoomEnd,this._zoomVelocity,e,1/0,t)}if(this.dollyToCursor){if(U(this._camera)&&0!==this._changedDolly){let t=this._spherical.radius-this._lastDistance,e=this._camera,i=this._getCameraDirection(c),s=l.copy(i).cross(e.up).normalize();0===s.lengthSq()&&(s.x=1);let n=h.crossVectors(s,i),r=this._sphericalEnd.radius*Math.tan(e.getEffectiveFOV()*F*.5),o=(this._sphericalEnd.radius-t-this._sphericalEnd.radius)/this._sphericalEnd.radius,a=u.copy(this._targetEnd).add(s.multiplyScalar(this._dollyControlCoord.x*r*e.aspect)).add(n.multiplyScalar(this._dollyControlCoord.y*r)),d=l.copy(this._targetEnd).lerp(a,o),p=this._lastDollyDirection===R.IN&&this._spherical.radius<=this.minDistance,m=this._lastDollyDirection===R.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(p||m)){this._sphericalEnd.radius-=t,this._spherical.radius-=t;let e=h.copy(i).multiplyScalar(-t);d.add(e)}this._boundary.clampPoint(d,d);let f=h.subVectors(d,this._targetEnd);this._targetEnd.copy(d),this._target.add(f),this._changedDolly-=t,I(this._changedDolly)&&(this._changedDolly=0)}else if(k(this._camera)&&0!==this._changedZoom){let t=this._zoom-this._lastZoom,e=this._camera,i=l.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(e.near+e.far)/(e.near-e.far)).unproject(e),s=h.set(0,0,-1).applyQuaternion(e.quaternion),n=u.copy(i).add(s.multiplyScalar(-i.dot(e.up))),r=-(this._zoom-t-this._zoom)/this._zoom,o=this._getCameraDirection(c),a=this._targetEnd.dot(o),d=l.copy(this._targetEnd).lerp(n,r),p=d.dot(o),m=o.multiplyScalar(p-a);d.sub(m),this._boundary.clampPoint(d,d);let f=h.subVectors(d,this._targetEnd);this._targetEnd.copy(d),this._target.add(f),this._changedZoom-=t,I(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;let a=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,a),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),I(this._focalOffset.x)&&I(this._focalOffset.y)&&I(this._focalOffset.z)||(d.setFromMatrixColumn(this._camera.matrix,0),p.setFromMatrixColumn(this._camera.matrix,1),m.setFromMatrixColumn(this._camera.matrix,2),d.multiplyScalar(this._focalOffset.x),p.multiplyScalar(-this._focalOffset.y),m.multiplyScalar(this._focalOffset.z),l.copy(d).add(p).add(m),this._camera.position.add(l),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),l.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let g=this._needsUpdate;return g&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):g?(this.dispatchEvent({type:"update"}),I(e,this.restThreshold)&&I(i,this.restThreshold)&&I(s,this.restThreshold)&&I(n.x,this.restThreshold)&&I(n.y,this.restThreshold)&&I(n.z,this.restThreshold)&&I(r.x,this.restThreshold)&&I(r.y,this.restThreshold)&&I(r.z,this.restThreshold)&&I(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!g&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=g,this._needsUpdate=!1,g}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:B(this.maxDistance),minZoom:this.minZoom,maxZoom:B(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:B(this.maxPolarAngle),minAzimuthAngle:B(this.minAzimuthAngle),maxAzimuthAngle:B(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:l.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,e=!1){let i=JSON.parse(t);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=Y(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=Y(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=Y(i.maxPolarAngle),this.minAzimuthAngle=Y(i.minAzimuthAngle),this.maxAzimuthAngle=Y(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],e),g.setFromVector3(l.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(g.theta,g.phi,e),this.dollyTo(g.radius,e),this.zoomTo(i.zoom,e),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],e),this._needsUpdate=!0}connect(t){if(this._domElement)return void console.warn("camera-controls is already connected.");t.setAttribute("data-camera-controls-version","3.1.0"),this._addAllEventListeners(t),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(t){return t.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(t){return this._getTargetDirection(t).negate()}_findPointerById(t){return this._activePointers.find(e=>e.pointerId===t)}_findPointerByMouseButton(t){return this._activePointers.find(e=>e.mouseButton===t)}_disposePointer(t){this._activePointers.splice(this._activePointers.indexOf(t),1)}_encloseToBoundary(t,e,i){let s=e.lengthSq();if(0===s)return t;let n=h.copy(e).add(t),r=this._boundary.clampPoint(n,u).sub(n),o=r.lengthSq();if(0===o)return t.add(e);{if(o===s)return t;if(0===i)return t.add(e).add(r);let n=1+i*o/e.dot(r);return t.add(h.copy(e).multiplyScalar(n)).add(r.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(U(this._camera)){let t=this._camera,e=t.near,i=Math.tan(.5*(t.getEffectiveFOV()*F))*e,s=i*t.aspect;this._nearPlaneCorners[0].set(-s,-i,0),this._nearPlaneCorners[1].set(s,-i,0),this._nearPlaneCorners[2].set(s,i,0),this._nearPlaneCorners[3].set(-s,i,0)}else if(k(this._camera)){let t=this._camera,e=1/t.zoom,i=t.left*e,s=t.right*e,n=t.top*e,r=t.bottom*e;this._nearPlaneCorners[0].set(i,n,0),this._nearPlaneCorners[1].set(s,n,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(i,r,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||K(this._camera,"_collisionTest"))return t;let e=this._getTargetDirection(c);w.lookAt(n,e,this._camera.up);for(let i=0;i<4;i++){let s=h.copy(this._nearPlaneCorners[i]);s.applyMatrix4(w);let n=u.addVectors(this._target,s);O.set(n,e),O.far=this._spherical.radius+1;let r=O.intersectObjects(this.colliderMeshes);0!==r.length&&r[0].distance<t&&(t=r[0].distance)}return t}_getClientRect(t){if(!this._domElement)return;let e=this._domElement.getBoundingClientRect();return t.x=e.left,t.y=e.top,this._viewport?(t.x+=this._viewport.x,t.y+=e.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=e.width,t.height=e.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{let e=()=>{this.removeEventListener("rest",e),t()};this.addEventListener("rest",e)}))}_addAllEventListeners(t){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(t){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(t){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(t,e=new s.Sphere){let i=e.center;_.makeEmpty(),t.traverseVisible(t=>{t.isMesh&&_.expandByObject(t)}),_.getCenter(i);let n=0;return t.traverseVisible(t=>{if(!t.isMesh||!t.geometry)return;let e=t.geometry.clone();e.applyMatrix4(t.matrixWorld);let s=e.attributes.position;for(let t=0,e=s.count;t<e;t++)l.fromBufferAttribute(s,t),n=Math.max(n,i.distanceToSquared(l))}),e.radius=Math.sqrt(n),e}}let J=(0,A.forwardRef)((t,e)=>{let{impl:i,camera:s,domElement:n,makeDefault:r,onControlStart:o,onControl:a,onControlEnd:l,onTransitionStart:h,onUpdate:u,onWake:c,onRest:d,onSleep:p,onStart:m,onEnd:f,onChange:v,regress:g,...y}=t,_=null!=i?i:G;(0,A.useMemo)(()=>{let t={Box3:S.NRn,MathUtils:{clamp:S.cj9.clamp},Matrix4:S.kn4,Quaternion:S.PTz,Raycaster:S.tBo,Sphere:S.iyt,Spherical:S.YHV,Vector2:S.I9Y,Vector3:S.Pq0,Vector4:S.IUQ};_.install({THREE:t}),(0,M.e)({CameraControlsImpl:_})},[_]);let E=(0,M.C)(t=>t.camera),T=(0,M.C)(t=>t.gl),x=(0,M.C)(t=>t.invalidate),b=(0,M.C)(t=>t.events),w=(0,M.C)(t=>t.setEvents),O=(0,M.C)(t=>t.set),P=(0,M.C)(t=>t.get),L=(0,M.C)(t=>t.performance),D=s||E,R=n||b.connected||T.domElement,U=(0,A.useMemo)(()=>new _(D),[_,D]);return(0,M.D)((t,e)=>{U.update(e)},-1),(0,A.useEffect)(()=>(U.connect(R),()=>void U.disconnect()),[R,U]),(0,A.useEffect)(()=>{function t(){x(),g&&L.regress()}let e=e=>{t(),null==o||o(e),null==m||m(e)},i=e=>{t(),null==a||a(e),null==v||v(e)},s=t=>{null==l||l(t),null==f||f(t)},n=e=>{t(),null==h||h(e),null==v||v(e)},r=e=>{t(),null==u||u(e),null==v||v(e)},y=e=>{t(),null==c||c(e),null==v||v(e)},_=t=>{null==d||d(t)},E=t=>{null==p||p(t)};return U.addEventListener("controlstart",e),U.addEventListener("control",i),U.addEventListener("controlend",s),U.addEventListener("transitionstart",n),U.addEventListener("update",r),U.addEventListener("wake",y),U.addEventListener("rest",_),U.addEventListener("sleep",E),()=>{U.removeEventListener("controlstart",e),U.removeEventListener("control",i),U.removeEventListener("controlend",s),U.removeEventListener("transitionstart",n),U.removeEventListener("update",r),U.removeEventListener("wake",y),U.removeEventListener("rest",_),U.removeEventListener("sleep",E)}},[U,x,w,g,L,o,a,l,h,u,c,d,p,v,m,f]),(0,A.useEffect)(()=>{if(r){let t=P().controls;return O({controls:U}),()=>O({controls:t})}},[r,U]),A.createElement("primitive",C({ref:e,object:U},y))})},9686:(t,e,i)=>{i.d(e,{t:()=>s});let s=(0,i(2115).createContext)(null)},9914:(t,e,i)=>{t.exports=i(6451)}}]);