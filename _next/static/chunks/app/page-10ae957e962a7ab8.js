(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171,847,866,974],{1086:(e,t,l)=>{Promise.resolve().then(l.bind(l,3350))},2866:(e,t,l)=>{"use strict";l.r(t),l.d(t,{exportUsdz:()=>a});let a=async e=>{let{USDZExporter:t}=await l.e(375).then(l.bind(l,1375)),a=new t;return e.updateMatrixWorld(!0),new File([await new Promise((t,l)=>{a.parse(e,e=>e instanceof ArrayBuffer?void t(e):ArrayBuffer.isView(e)?void t(e.buffer):void l(Error("USDZ export failed")),e=>{l(e)},{quickLookCompatible:!0})})],"molstamp.usdz",{type:"model/vnd.usdz+zip"})}},3350:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>$});var a=l(5155),r=l(2115),n=l(5339);let s={sdf:"sdf",mol:"sdf",xyz:"xyz"},i=e=>e.replace(/\r\n?/g,"\n"),o={sdf:"SDF/MOL",xyz:"XYZ"},d=e=>{let{onFileLoaded:t,onError:l,variant:n="panel",className:d,children:c,disableClick:u,disableDrop:m}=e,h=(0,r.useRef)(null),[p,f]=(0,r.useState)(!1),x=(0,r.useCallback)(e=>{l&&l(e),console.warn(e)},[l]),b=(0,r.useCallback)(async e=>{let l=(e=>{var t;if(e.size>5242880)return{ok:!1,error:"File is larger than 5 MB"};let l=null==(t=e.name.split(".").pop())?void 0:t.toLowerCase();return l&&s[l]?{ok:!0,format:s[l]}:{ok:!1,error:"Unsupported file type"}})(e);if(!l.ok)return void x(l.error);try{var a;let r=await e.text(),n=i(r),o=null!=(a=((e,t)=>{var l,a;let r=null==(l=e.split(".").pop())?void 0:l.toLowerCase();if(r&&s[r])return s[r];let n=t.trimStart();return/^\d+\s*$/.test(null!=(a=n.split(/\n+/)[0])?a:"")?"xyz":n.includes("M  END")||n.includes("V2000")||n.includes("V3000")?"sdf":null})(e.name,n))?a:l.format;if(!o)return void x("Unable to detect file format. Only SDF/MOL and XYZ are supported.");t({text:n,format:o,file:e})}catch(e){x(e.message||"Failed to read file")}},[x,t]),g=(0,r.useCallback)(async e=>{if(!e||0===e.length)return;let[t]=Array.from(e);await b(t)},[b]),y=(0,r.useCallback)(async e=>{e.preventDefault(),f(!1),m||await g(e.dataTransfer.files)},[m,g]),v=(0,r.useCallback)(e=>{e.preventDefault(),m||f(!0)},[m]),w=(0,r.useCallback)(e=>{e.preventDefault(),m||f(!1)},[m]),j=(0,r.useCallback)(()=>{var e;null==(e=h.current)||e.click()},[]),N=(0,r.useCallback)(async e=>{await g(e.target.files),e.target&&(e.target.value="")},[g]);return"overlay"===n?(0,a.jsxs)("div",{onDrop:y,onDragOver:v,onDragLeave:w,onClick:u?void 0:j,className:"relative w-full ".concat(null!=d?d:""),role:"button",tabIndex:0,onKeyDown:e=>{u||"Enter"!==e.key&&" "!==e.key||j()},children:[c,(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border-2 border-dashed transition ".concat(p?"border-sky-400 bg-sky-50/70":"border-transparent")}),(0,a.jsx)("input",{ref:h,type:"file",accept:".sdf,.mol,.xyz",hidden:!0,onChange:N})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{onDrop:y,onDragOver:v,onDragLeave:w,className:"flex h-48 w-full flex-col items-center justify-center rounded-xl border-2 border-dashed transition-colors ".concat(p?"border-sky-400 bg-sky-50":"border-slate-300 bg-white"),children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:"Drop a molecule file here"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-slate-600",children:["Accepted formats: ",Object.values(o).join(", ")," • Max size ","5"," MB"]}),(0,a.jsx)("button",{type:"button",onClick:j,className:"mt-5 rounded-full border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600",children:"Browse files"})]}),(0,a.jsx)("input",{ref:h,type:"file",accept:".sdf,.mol,.xyz",hidden:!0,onChange:N})]})};d.displayName="UploadDropzone";var c=l(1023),u=l(5070),m=l(6847),h=l(2866),p=l(4171);let f=e=>!Number.isFinite(e)||e<=0?"":e<1024?"".concat(e.toFixed(0)," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),x=e=>{var t,n,s,i;let{source:o,disabled:d,compact:c=!1,showOpenAr:u=!0,showSizes:x=!0}=e,[b,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[w,j]=(0,r.useState)(null),[N,M]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1),S=(0,r.useRef)(null);(0,r.useEffect)(()=>(C(!0),(async()=>{try{customElements.get("model-viewer")||await Promise.all([l.e(375),l.e(457),l.e(131)]).then(l.bind(l,4131))}catch(e){}})(),()=>{C(!1)}),[]),(0,r.useEffect)(()=>{g(e=>(e&&URL.revokeObjectURL(e.url),null)),v(e=>(e&&URL.revokeObjectURL(e.url),null))},[o]),(0,r.useEffect)(()=>()=>{b&&URL.revokeObjectURL(b.url),y&&URL.revokeObjectURL(y.url)},[b,y]);let F=(0,r.useMemo)(()=>!!o&&!d,[o,d]),L=(0,r.useCallback)(async e=>{if(!o||d)return null;try{M(e),j(null);let t=(0,p.prepareSceneForExport)(o);if("glb"===e){if(b)return b;let e=await (0,m.exportGlb)(t),l={url:URL.createObjectURL(e),size:e.size};return g(l),l}{if(y)return y;let e=await (0,h.exportUsdz)(t),l={url:URL.createObjectURL(e),size:e.size};return v(l),l}}catch(e){return console.error(e),j(e.message||"Failed to prepare model"),null}finally{M(null)}},[d,b,o,y]),z=(0,r.useCallback)(async()=>{if(!o||d)return;let e="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent);try{var t;if(j(null),e){let e=await L("usdz"),t=null==e?void 0:e.url;if(!t)throw Error("USDZ not available for AR");let l=document.createElement("a");l.setAttribute("rel","ar"),l.href=t,document.body.append(l),l.click(),setTimeout(()=>l.remove(),0);return}let l=null!=b?b:await L("glb");if(!l)throw Error("GLB not available for AR");let a=S.current;if(!a)throw Error("AR viewer not ready");try{a.setAttribute("src",l.url),y&&a.setAttribute("ios-src",y.url)}catch(e){}if(void 0!==a.canActivateAR&&!1===a.canActivateAR)return void j("AR is not supported on this device.");null==(t=a.activateAR)||t.call(a)}catch(e){console.error(e),j(e.message||"Failed to open AR")}},[L,d,b,o,y]),A=(0,r.useCallback)(async e=>{let t=await L(e);if(!t)return;let l=document.createElement("a");l.href=t.url,l.download="glb"===e?"molstamp.glb":"molstamp.usdz",l.rel="noopener",document.body.append(l),l.click(),l.remove()},[L]);return(0,a.jsxs)("div",{className:"space-y-3 rounded-xl border border-slate-300 bg-white ".concat(c?"p-3":"p-4"," shadow-sm"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"".concat(c?"text-base":"text-lg"," font-semibold text-slate-900"),children:"AR Model"})}),u?(0,a.jsx)("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:z,disabled:!F||null!==N,children:"usdz"===N||"glb"===N?"Preparing…":"Open AR"}):null]}),(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,a.jsx)("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:()=>A("glb"),disabled:!F||null!==N,children:"Download GLB"}),(0,a.jsx)("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:()=>A("usdz"),disabled:!F||null!==N,children:"Download USDZ"})]}),x?(0,a.jsxs)("div",{className:"grid gap-2 text-xs text-slate-600 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"GLB"}),(0,a.jsx)("span",{children:b?f(b.size):"—"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"USDZ"}),(0,a.jsx)("span",{children:y?f(y.size):"—"})]})]}):null,k?(0,a.jsx)("model-viewer",{ref:S,style:{width:0,height:0,position:"absolute",opacity:0},src:null!=(t=null==b?void 0:b.url)?t:void 0,"ios-src":null!=(n=null==y?void 0:y.url)?n:void 0,ar:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,autoplay:!0},(null!=(s=null==b?void 0:b.url)?s:"")+(null!=(i=null==y?void 0:y.url)?i:"")):null,w?(0,a.jsx)("div",{className:"text-sm text-amber-700",children:w}):null]})};x.displayName="ArPanel";var b=l(6241),g=l(4486),y=l(1408),v=l(3687),w=l(7489),j=l(3909),N=l(2769);let M=e=>{let{shareUrl:t,encodedLength:l,title:n,onChangeTitle:s,omitBonds:i,onChangeOmitBonds:o,payloadBytes:d,precisionDrop:c,onChangePrecisionDrop:u,scaleExp:m,useDelta:h,onChangeUseDelta:p,encrypt:f,onChangeEncrypt:x,password:M,onChangePassword:k}=e,[C,S]=(0,r.useState)("L"),[F,L]=(0,r.useState)("square"),[z,A]=(0,r.useState)("none"),[E,R]=(0,r.useState)(null),U=(0,r.useRef)(null),[D,P]=(0,r.useState)(null),[B,I]=(0,r.useState)(null),[O,T]=(0,r.useState)(null),[q,Z]=(0,r.useState)(!1),[G,$]=(0,r.useState)(0),_=(0,r.useRef)(null),[H,V]=(0,r.useState)(!1),W=(0,r.useCallback)(e=>{let t=new Set([" ","-",..."0123456789",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ",..."abcdefghijklmnopqrstuvwxyz"]),l="";for(let a of e)if(t.has(a)?l+=a:/\s/.test(a)?l+=" ":l+="-",l.length>=63)break;return(l=l.replace(/\s{2,}/g," ").replace(/^-+/,"").replace(/-+$/,"").trim()).slice(0,63)},[]),[Y,Q]=(0,r.useState)(!1),[X,K]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!1;if(!t)return P(null),I(null),Q(!1),K(!1),()=>{e=!0};let a="#1f2937",r="#ffffff",n=e=>new Promise((t,l)=>{let a=new Image;a.onload=()=>t(a),a.onerror=l,a.src=e}),s=async()=>{if("none"===z)return null;if("upload"===z)return null!=E?E:null;if("brand"===z)try{let e=encodeURIComponent('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   width="210mm"\n   height="210mm"\n   viewBox="0 0 210 210"\n   version="1.1"\n   id="svg5"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <g id="layer1">\n    <g transform="matrix(0.36195336,0,0,0.37177477,-70.996564,-28.838917)" id="g848">\n      <path d="m 285.361,244.022 199.009,-114.8 202.666,117.009 0.085,229.747 -199.009,114.8 -202.666,-117.009 z" stroke="#2082c5" stroke-width="96.6667" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="#2082c5" fill-rule="evenodd" id="path824" />\n      <path d="m 352.154,282.585 134.841,-75.473 131.274,75.791 2.059,154.512 -134.841,75.473 -131.273,-75.791 z" stroke="#ffffff" stroke-width="26.3333" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="#ffffff" fill-rule="evenodd" id="path826" />\n      <path d="m 519,533.5 c 0,-52.743 42.757,-95.5 95.5,-95.5 52.743,0 95.5,42.757 95.5,95.5 0,52.743 -42.757,95.5 -95.5,95.5 -52.743,0 -95.5,-42.757 -95.5,-95.5 z" fill="#ffffff" fill-rule="evenodd" id="path828" />\n      <path d="m 574.753,563.4 -91.968,-120.269 33.539,-34.532 122.901,88.42 z" fill="#e28a50" fill-rule="evenodd" id="path830" />\n      <path d="m 539,533 c 0,-41.974 34.026,-76 76,-76 41.974,0 76,34.026 76,76 0,41.974 -34.026,76 -76,76 -41.974,0 -76,-34.026 -76,-76 z" fill="#c56220" fill-rule="evenodd" id="path832" />\n      <path d="m 355,491 c 0,-23.748 19.476,-43 43.5,-43 24.024,0 43.5,19.252 43.5,43 0,23.748 -19.476,43 -43.5,43 -24.024,0 -43.5,-19.252 -43.5,-43 z" fill="#ffffff" fill-rule="evenodd" id="path834" />\n      <path d="m 499.583,455.144 -89.664,51.661 -15.957,-23.49 81.066,-64.317 z" fill="#e28a50" fill-rule="evenodd" id="path836" />\n      <path d="m 370,492 c 0,-15.464 12.536,-28 28,-28 15.464,0 28,12.536 28,28 0,15.464 -12.536,28 -28,28 -15.464,0 -28,-12.536 -28,-28 z" fill="#c56220" fill-rule="evenodd" id="path838" />\n      <path d="m 472,282.5 c 0,-37.279 30.221,-67.5 67.5,-67.5 37.279,0 67.5,30.221 67.5,67.5 0,37.279 -30.221,67.5 -67.5,67.5 -37.279,0 -67.5,-30.221 -67.5,-67.5 z" fill="#ffffff" fill-rule="evenodd" id="path840" />\n      <path d="m 566.307,319.759 -34.985,97.46 -44.773,-12.027 18.56,-101.872 z" fill="#e28a50" fill-rule="evenodd" id="path842" />\n      <path d="m 486,284.5 c 0,-29.547 24.177,-53.5 54,-53.5 29.823,0 54,23.953 54,53.5 0,29.547 -24.177,53.5 -54,53.5 -29.823,0 -54,-23.953 -54,-53.5 z" fill="#c56220" fill-rule="evenodd" id="path844" />\n      <path d="m 454,429.5 c 0,-27.338 22.162,-49.5 49.5,-49.5 27.338,0 49.5,22.162 49.5,49.5 0,27.338 -22.162,49.5 -49.5,49.5 -27.338,0 -49.5,-22.162 -49.5,-49.5 z" fill="#c56220" fill-rule="evenodd" id="path846" />\n    </g>\n  </g>\n</svg>');return"data:image/svg+xml;charset=utf-8,".concat(e)}catch(e){}return null},i=(e,t)=>{if(!t)return"";let l=.22*e,a=l.toFixed(2),r=Math.max(1,.06*l),n="qrIconOutline";return"<defs>"+'<filter id="'.concat(n,'" x="-40%" y="-40%" width="180%" height="180%" color-interpolation-filters="sRGB">')+'<feMorphology operator="dilate" radius="'.concat(r.toFixed(2),'" in="SourceAlpha" result="dilated"/>')+'<feComposite in="dilated" in2="SourceAlpha" operator="out" result="ring"/><feFlood flood-color="#ffffff" flood-opacity="1" result="white"/><feComposite in="white" in2="ring" operator="in" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>'+'<g transform="translate('.concat((e/2).toFixed(2),", ").concat((e/2).toFixed(2),')">')+'<image href="'.concat(t,'" x="').concat((-(parseFloat(a)/2)).toFixed(2),'" y="').concat((-(parseFloat(a)/2)).toFixed(2),'" width="').concat(a,'" height="').concat(a,'" preserveAspectRatio="xMidYMid meet" filter="url(#').concat(n,')" />')+"</g>"},o=async(e,t,l)=>{if(!l)return;let a=.22*t,r=t/2,s=t/2;e.imageSmoothingEnabled=!0;try{let t=await n(l),i=t.width/t.height,o=a,d=a;i>1?d=a/i:o=a*i;let c=document.createElement("canvas");c.width=Math.ceil(o),c.height=Math.ceil(d);let u=c.getContext("2d");u.imageSmoothingEnabled=!0,u.drawImage(t,0,0,o,d),u.globalCompositeOperation="source-in",u.fillStyle="#ffffff",u.fillRect(0,0,c.width,c.height);let m=Math.ceil(Math.max(1,.06*a)),h=document.createElement("canvas");h.width=c.width+2*m,h.height=c.height+2*m;let p=h.getContext("2d");p.imageSmoothingEnabled=!0;for(let e=1;e<=m;e++)for(let t=0;t<48;t++){let l=t/48*Math.PI*2,a=Math.cos(l)*e,r=Math.sin(l)*e;p.drawImage(c,m+a,m+r)}p.globalCompositeOperation="destination-out",p.drawImage(c,m,m),p.globalCompositeOperation="source-over",e.drawImage(h,r-h.width/2,s-h.height/2),e.drawImage(t,r-o/2,s-d/2,o,d)}catch(e){}},c=async()=>{let e=await N.toString(t,{type:"svg",errorCorrectionLevel:C,margin:1,width:256,color:{dark:a,light:r}}),l=((e,t)=>{let l=e.match(/viewBox\s*=\s*"[^"]*\b0\s+0\s+(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)"/i);if(l){let e=parseFloat(l[1]),t=parseFloat(l[2]);if(!isNaN(e)&&!isNaN(t)&&e===t)return e}let a=e.match(/\bwidth\s*=\s*"(\d+(?:\.\d+)?)"/i),r=e.match(/\bheight\s*=\s*"(\d+(?:\.\d+)?)"/i);if(a&&r){let e=parseFloat(a[1]),t=parseFloat(r[1]);if(!isNaN(e)&&!isNaN(t)&&e===t)return e}return 256})(e,0),d=await s(),c=e.replace(/<\/svg>\s*$/,"".concat(i(l,d),"</svg>")),u=await N.toDataURL(t,{errorCorrectionLevel:C,margin:1,color:{dark:a,light:r},width:1024}),m=document.createElement("canvas");m.width=1024,m.height=1024;let h=m.getContext("2d");try{let e=await n(u);h.drawImage(e,0,0)}catch(e){}return await o(h,1024,d),{svg:c,png:m.toDataURL("image/png")}},u=async e=>{let l=N.create(t,{errorCorrectionLevel:C}),n=l.modules.size,d=l.modules.data,c=256/(n+2),u=1024/(n+2),m=[];m.push('<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(256,'" height="').concat(256,'" viewBox="0 0 ').concat(256," ").concat(256,'" shape-rendering="geometricPrecision" preserveAspectRatio="xMidYMid meet">')),m.push('<rect width="100%" height="100%" fill="'.concat(r,'"/>'));let h=(e,t)=>e<7&&t<7||e>=n-7&&t<7||e<7&&t>=n-7,p=.9*c,f=.9*u,x=.45*c,b=.45*u,g=.25*p,y=.25*f;for(let t=0;t<n;t++)for(let l=0;l<n;l++){if(h(l,t)||!d[t*n+l])continue;let r=(l+1+.5)*c,s=(t+1+.5)*c;if("round"===e)m.push('<circle cx="'.concat(r.toFixed(2),'" cy="').concat(s.toFixed(2),'" r="').concat(x.toFixed(2),'" fill="').concat(a,'"/>'));else if("diamond"===e){let e=(r-p/2).toFixed(2),t=(s-p/2).toFixed(2);m.push('<rect x="'.concat(e,'" y="').concat(t,'" width="').concat(p.toFixed(2),'" height="').concat(p.toFixed(2),'" fill="').concat(a,'" transform="rotate(45 ').concat(r.toFixed(2)," ").concat(s.toFixed(2),')"/>'))}else if("rounded"===e){let e=(r-p/2).toFixed(2),t=(s-p/2).toFixed(2);m.push('<rect x="'.concat(e,'" y="').concat(t,'" width="').concat(p.toFixed(2),'" height="').concat(p.toFixed(2),'" rx="').concat(g.toFixed(2),'" ry="').concat(g.toFixed(2),'" fill="').concat(a,'"/>'))}}let v=(e,t)=>{let l=(e+1)*c,n=(t+1)*c,s=7*c,i=5*c,o=3*c;m.push('<rect x="'.concat(l,'" y="').concat(n,'" width="').concat(s,'" height="').concat(s,'" fill="').concat(a,'"/>')),m.push('<rect x="'.concat(l+c,'" y="').concat(n+c,'" width="').concat(i,'" height="').concat(i,'" fill="').concat(r,'"/>')),m.push('<rect x="'.concat(l+2*c,'" y="').concat(n+2*c,'" width="').concat(o,'" height="').concat(o,'" fill="').concat(a,'"/>'))};v(0,0),v(n-7,0),v(0,n-7);let w=await s();m.push(i(256,w)),m.push("</svg>");let j=m.join(""),M=document.createElement("canvas");M.width=1024,M.height=1024;let k=M.getContext("2d");k.fillStyle=r,k.fillRect(0,0,1024,1024),k.fillStyle=a;let S=(e,t,l,a,r,n)=>{let s=Math.min(n,a/2,r/2);e.beginPath(),e.moveTo(t+s,l),e.lineTo(t+a-s,l),e.quadraticCurveTo(t+a,l,t+a,l+s),e.lineTo(t+a,l+r-s),e.quadraticCurveTo(t+a,l+r,t+a-s,l+r),e.lineTo(t+s,l+r),e.quadraticCurveTo(t,l+r,t,l+r-s),e.lineTo(t,l+s),e.quadraticCurveTo(t,l,t+s,l),e.closePath(),e.fill()};for(let t=0;t<n;t++)for(let l=0;l<n;l++){if(h(l,t)||!d[t*n+l])continue;let a=(l+1+.5)*u,r=(t+1+.5)*u;"round"===e?(k.beginPath(),k.arc(a,r,b,0,2*Math.PI),k.fill()):"diamond"===e?(k.save(),k.translate(a,r),k.rotate(Math.PI/4),k.fillRect(-f/2,-f/2,f,f),k.restore()):"rounded"===e&&S(k,a-f/2,r-f/2,f,f,y)}let F=(e,t)=>{let l=(e+1)*u,n=(t+1)*u;k.fillStyle=a,k.fillRect(l,n,7*u,7*u),k.fillStyle=r,k.fillRect(l+u,n+u,5*u,5*u),k.fillStyle=a,k.fillRect(l+2*u,n+2*u,3*u,3*u)};return F(0,0),F(n-7,0),F(0,n-7),await o(k,1024,w),{svg:j,png:M.toDataURL("image/png")}};return K(!0),("square"===F?c():u(F)).then(t=>{let{svg:l,png:a}=t;e||(P(l),I(a),T(null),Q(!0))}).catch(a=>{if(!e){let e=(null==a?void 0:a.message)||"Failed to render QR",r=t?new TextEncoder().encode(t).length:0,n=(()=>{if("number"==typeof l&&l>=0)return l;if(!t)return 0;let e=t.indexOf("#");return e>=0?t.length-(e+1):0})(),s=Math.max(0,r-n),i=e=>!e||e<=0?"0 KB":"".concat((e/1024).toFixed(1)," KB"),o="number"==typeof d?Math.max(0,n-d):null,c=["URL: ".concat(i(r)),"Fragment: ".concat(i(n))];"number"==typeof d&&(c.push("Payload: ".concat(i(d))),c.push("Base80 overhead: ".concat(i(null!=o?o:0)))),c.push("Base URL: ".concat(i(s)));let u=c.join(" • ");/code length overflow/i.test(e)?T("Payload exceeds QR capacity (".concat(u,"). Try Bond omission, increase Coordinate step (approx.) (e.g., drop bits 0→2→4→6→8), enable Use delta encoding, or lower Error correction.")):T("".concat(e," (").concat(u,")")),P(null),I(null),Q(!1)}}),()=>{e=!0}},[t,C,F,z,E,l,d]);let J=!!(t&&X&&Y&&!O),ee=(0,r.useMemo)(()=>{if(!D)return null;try{if(D.includes("shape-rendering="))return D.replace(/shape-rendering="[^"]*"/,'shape-rendering="geometricPrecision"');return D.replace(/<svg(\s|>)/,'<svg shape-rendering="geometricPrecision" preserveAspectRatio="xMidYMid meet" $1')}catch(e){return D}},[D]),et=(0,r.useCallback)(async()=>{if(!t)return;let e=()=>{$(e=>e+1),Z(!0),_.current&&window.clearTimeout(_.current),_.current=window.setTimeout(()=>Z(!1),1200)};try{if("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.writeText){await navigator.clipboard.writeText(t),e();return}if((e=>{try{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select();let l=document.execCommand("copy");return document.body.removeChild(t),l}catch(e){return!1}})(t))return void e();throw Error("Clipboard API is unavailable in this context")}catch(t){let e=(null==t?void 0:t.message)||"Failed to copy URL";T("".concat(e,". Your browser may not allow copying here. Please copy manually."))}},[t]),el=(0,r.useCallback)(()=>{if(!J||!B)return;let e=document.createElement("a");e.href=B,e.download="molstamp-qr.png",document.body.append(e),e.click(),e.remove()},[J,B]),ea=(0,r.useCallback)(()=>{if(!J||!D)return;let e=new Blob([D],{type:"image/svg+xml"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download="molstamp-qr.svg",document.body.append(l),l.click(),l.remove(),URL.revokeObjectURL(t)},[J,D]),[er,en]=(0,r.useState)(!1);return(0,a.jsxs)(g.P.div,{layout:!0,className:"space-y-3 rounded-xl border border-slate-300 bg-white p-4 shadow-sm max-w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"QR Sharing"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{type:"button",onClick:et,className:"rounded-md border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:!t,children:"Copy URL"}),(0,a.jsx)(y.N,{initial:!1,children:q?(0,a.jsx)(g.P.div,{className:"absolute right-0 -top-4 translate-y-[-100%] rounded-md border border-sky-200 bg-white/95 px-2 py-1 text-xs text-sky-700 shadow-sm ring-1 ring-sky-100 backdrop-blur",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.98},transition:{duration:.18,ease:"easeOut"},role:"status","aria-live":"polite",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-3.5 w-3.5"}),"Copied"]})},G):null})]})]}),(0,a.jsx)(g.P.div,{layout:!0,className:"flex items-center justify-center rounded-lg border border-slate-200 bg-white p-3 overflow-hidden max-w-full",children:(0,a.jsx)(y.N,{initial:!1,mode:"wait",children:J&&(ee||B)?ee?(0,a.jsx)(g.P.div,{className:"w-full max-w-full [&>svg]:w-full [&>svg]:h-auto [&>svg]:max-h-72",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.18,ease:"easeOut"},role:"img","aria-label":"QR code",dangerouslySetInnerHTML:{__html:ee}},"qr-svg"):(0,a.jsx)(g.P.img,{src:B,alt:"QR code",className:"h-auto max-h-64 w-full max-w-full object-contain",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.18,ease:"easeOut"}},"qr-png"):(0,a.jsx)(g.P.p,{className:"text-sm text-slate-500",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:"QR will appear after upload."},"placeholder")})}),O?(0,a.jsx)("div",{className:"rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:O}):null,(0,a.jsxs)("div",{className:"grid gap-3 grid-cols-2",children:[(0,a.jsx)("button",{type:"button",onClick:el,className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:!J||!B,children:"Download PNG"}),(0,a.jsx)("button",{type:"button",onClick:ea,className:"w-full rounded-md border border-slate-200 px-3 py-2 text-sm font-medium text-slate-700 transition hover:border-sky-300 hover:text-sky-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:!J||!D,children:"Download SVG"})]}),(0,a.jsxs)(g.P.div,{layout:!0,className:"rounded-lg border border-slate-200",children:[(0,a.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between  ".concat(er?"rounded-t-lg":"rounded-lg"," bg-slate-50 px-3 py-2 text-left text-sm font-medium text-slate-700"),onClick:()=>en(e=>!e),children:[(0,a.jsx)("span",{children:"Options"}),(0,a.jsx)("svg",{className:"h-4 w-4 transition-transform ".concat(er?"rotate-180":"rotate-0"),viewBox:"0 0 20 20","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.207l3.71-2.977a.75.75 0 1 1 .94 1.172l-4.2 3.366a.75.75 0 0 1-.94 0l-4.2-3.366a.75.75 0 0 1-.02-1.062z"})})]}),(0,a.jsx)("div",{className:"grid transition-all duration-300 ease-in-out ".concat(er?"grid-rows-[1fr]":"grid-rows-[0fr]"),children:(0,a.jsx)("div",{className:"min-h-0 ".concat(er?"overflow-visible":"overflow-hidden"),children:(0,a.jsx)("div",{className:"px-3",children:(0,a.jsxs)("div",{className:"py-3 space-y-4",children:["function"==typeof s?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Title"})}),(0,a.jsx)("input",{type:"text",className:"mt-1 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60 placeholder:text-slate-400",placeholder:"Optional",title:"Up to 63 chars; A–Z a–z 0–9 space -",value:null!=n?n:"",onChange:e=>null==s?void 0:s(W(e.target.value)),maxLength:63,disabled:!t})]}):null,(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Dot shape"})}),(0,a.jsx)(b.C,{className:"mt-1",value:F,onChange:e=>L(e),options:[{value:"square",label:"Square"},{value:"round",label:"Round"},{value:"diamond",label:"Diamond"},{value:"rounded",label:"Rounded square"}],disabled:!t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Center icon"})}),(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)(b.C,{value:z,onChange:e=>{if("upload"!==e&&E&&(R(null),U.current&&(U.current.value="")),A(e),"upload"===e){var t;U.current&&(U.current.value=""),null==(t=U.current)||t.click()}},options:[{value:"none",label:"None"},{value:"brand",label:"MolStamp"},{value:"upload",label:"Upload"}],disabled:!t}),(0,a.jsx)("input",{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(!l)return;let a=new FileReader;a.onload=()=>R(a.result),a.readAsDataURL(l)}}),"upload"===z&&E?(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"Preview:"}),(0,a.jsx)("img",{src:E,alt:"icon",width:32,height:32,className:"h-8 w-8 object-contain rounded"}),(0,a.jsx)("button",{type:"button",className:"rounded border border-slate-200 px-2 py-1 text-xs text-slate-600 hover:border-sky-300 hover:text-sky-600",onClick:()=>{R(null),U.current&&(U.current.value="")},children:"Clear"})]}):null]})]}),"boolean"==typeof f&&x?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Simple encryption"})}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"password",className:"w-full rounded-md border bg-white px-3 py-2 text-base text-slate-900 shadow-sm transition hover:border-sky-300 focus:outline-none focus:ring-2 focus:ring-sky-400 disabled:cursor-not-allowed disabled:opacity-60 placeholder:text-slate-400 ".concat(H?"border-rose-500 bg-rose-50":"border-slate-200"),placeholder:"Password",value:null!=M?M:"",onChange:e=>null==k?void 0:k(e.target.value),disabled:!t||!!f,"aria-invalid":H||void 0}),(0,a.jsxs)(g.P.button,{type:"button",role:"switch","aria-checked":f,"aria-label":f?"Encrypted":"Unencrypted",onClick:()=>{if(x){if(!f&&!((null!=M?M:"").trim().length>=4)){V(!0),setTimeout(()=>V(!1),1100);return}x(!f)}},disabled:!t,className:"relative h-[38px] w-20 rounded-md p-0.5 shadow-sm transition disabled:cursor-not-allowed disabled:opacity-60 ".concat(f?"bg-sky-50 border border-sky-300 hover:border-sky-400 ":"bg-white border border-slate-200 hover:border-sky-300 "),children:[(0,a.jsx)(g.P.div,{className:"absolute top-0.5 bottom-0.5 left-0.5 w-[calc(50%-2px)] rounded-[0.36rem] ".concat(f?"bg-sky-500":"bg-slate-500"),animate:H?{left:["0.125rem","0.9rem","0.2rem","0.75rem","0.3rem","0.6rem","0.125rem"]}:{left:f?"50%":"0.125rem"},transition:H?{duration:.35,ease:"easeInOut"}:{type:"spring",stiffness:300,damping:26}}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 left-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)(w.A,{className:"".concat(f?"text-slate-600":"text-white"," h-4 w-4")})}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 right-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)(j.A,{className:"".concat(f?"text-white":"text-slate-600"," h-4 w-4")})}),(0,a.jsx)("span",{className:"sr-only",children:f?"Encrypted":"Unencrypted"})]})]})]}):null,(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Error correction"})}),(0,a.jsx)(b.C,{className:"mt-1",value:C,onChange:e=>S(e),options:[{value:"L",label:"L (7%)"},{value:"M",label:"M (15%)"},{value:"Q",label:"Q (25%)"},{value:"H",label:"H (30%)"}],disabled:!t})]}),void 0!==c&&u?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Coordinate step (approx.)"})}),(0,a.jsx)(b.C,{className:"mt-1",value:String(c),onChange:e=>null==u?void 0:u(Number(e)),disabled:!t,options:(()=>{let e="number"==typeof m?m:0,t=t=>{let l=Math.pow(2,e+t)/1e3,a="".concat(l.toFixed(4).replace(/(\.\d*?[1-9])0+$/,"$1").replace(/\.0+$/,"")," \xc5");return"".concat(a," (").concat(l<.01?"High":l<.05?"Med":l<.2?"Low":"Very low",")")},l=[];for(let e=0;e<=8;e+=1)l.push({value:String(e),label:t(e)});return l})()})]}):null,"boolean"==typeof i&&o?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Bond data"})}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("button",{type:"button",role:"switch","aria-checked":i,"aria-label":i?"Auto-generate bonds":"Include bonds",onClick:()=>null==o?void 0:o(!i),disabled:!t,className:"relative h-[38px] w-full rounded-md p-0.5 shadow-sm transition focus:outline-none disabled:cursor-not-allowed disabled:opacity-60 ".concat(i?"bg-sky-50 border border-sky-300 hover:border-sky-400":"bg-white border border-slate-200 hover:border-sky-300"),children:[(0,a.jsx)(g.P.div,{className:"absolute top-0.5 bottom-0.5 left-0.5 w-[calc(50%-2px)] rounded-[0.36rem] ".concat(i?"bg-sky-500":"bg-slate-500"),animate:{left:i?"50%":"0.125rem"},transition:{type:"spring",stiffness:300,damping:26}}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 left-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)("span",{className:"".concat(i?"text-slate-600":"text-white"," text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis"),children:"Include"})}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 right-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)("span",{className:"".concat(i?"text-white":"text-slate-600"," text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis"),children:"Auto-generate"})}),(0,a.jsx)("span",{className:"sr-only",children:i?"Auto-generate bonds":"Include bonds"})]})})]}):null,"boolean"==typeof h&&p?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Atom indices"})}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("button",{type:"button",role:"switch","aria-checked":h,"aria-label":h?"Optimized":"As-is",onClick:()=>null==p?void 0:p(!h),disabled:!t,className:"relative h-[38px] w-full rounded-md p-0.5 shadow-sm transition focus:outline-none disabled:cursor-not-allowed disabled:opacity-60 ".concat(h?"bg-sky-50 border border-sky-300 hover:border-sky-400":"bg-white border border-slate-200 hover:border-sky-300"),children:[(0,a.jsx)(g.P.div,{className:"absolute top-0.5 bottom-0.5 left-0.5 w-[calc(50%-2px)] rounded-[0.36rem] ".concat(h?"bg-sky-500":"bg-slate-500"),animate:{left:h?"50%":"0.125rem"},transition:{type:"spring",stiffness:300,damping:26}}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 left-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)("span",{className:"".concat(h?"text-slate-600":"text-white"," text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis"),children:"As-is"})}),(0,a.jsx)("span",{className:"absolute top-0.5 bottom-0.5 right-0.5 z-10 grid w-[calc(50%-2px)] place-items-center",children:(0,a.jsx)("span",{className:"".concat(h?"text-white":"text-slate-600"," text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis"),children:"Optimized"})}),(0,a.jsx)("span",{className:"sr-only",children:h?"Optimized":"As-is"})]})})]}):null]})})})})]})]})};M.displayName="QrMaker";var k=l(9648);let C={1:3,2:2,3:1,5:-1,6:-2,7:-3},S=e=>2===e?2:3===e?3:1;var F=l(7871),L=l(1210),z=l(2993),A=l(9622),E=l(5704);let R=(()=>{try{let e="undefined"!=typeof document?document.querySelector('link[rel="icon"]'):null,t=((null==e?void 0:e.getAttribute("href"))||"").match(/^\/(.+?)\/icon\.(?:svg|png)(?:\?|$)/i);if(t&&t[1])return"/".concat(t[1])}catch(e){}try{let e=(window.location.pathname||"").match(/^\/(.+?)(?:\/|$)/);if(e&&"ms"===e[1])return"/ms"}catch(e){}return""})(),U=(()=>{let e=E.env.NEXT_PUBLIC_SHARE_BASE_URL;if(!e)return window.location.origin+R;try{let t=new URL(e);if(("/"===t.pathname||""===t.pathname)&&R)return t.pathname=R.replace(/\/$/,""),t.toString().replace(/\/$/,"");return e.replace(/\/$/,"")}catch(t){if(e.endsWith("/"))return e.replace(/\/$/,"")+R;return e+R}})();var D=l(3591),P=l(8285);let B=e=>Number(e.toFixed(4)),I=e=>Math.max(0,Math.ceil(Math.log2(Math.max(1,e)))),O=(()=>{let e=[" ","-"];for(let t=0;t<10;t++)e.push(String(t));for(let t=0;t<26;t++)e.push(String.fromCharCode(65+t));for(let t=0;t<26;t++)e.push(String.fromCharCode(97+t));return e})().reduce((e,t,l)=>(e[t]=l,e),{}),T=(e,t,l,a,r,n)=>{var s,i,o;let d=e.atoms,c=e.bonds,u=(e=>{if(0===e.length)return[];let t=e.reduce((e,t)=>({x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}),{x:0,y:0,z:0});return t.x/=e.length,t.y/=e.length,t.z/=e.length,e.map(e=>{let l=[e.symbol,B(e.x-t.x),B(e.y-t.y),B(e.z-t.z)];return"number"==typeof e.charge&&0!==e.charge&&l.push(e.charge),l})})(d),m=d.reduce((e,t)=>({x:e.x+t.x,y:e.y+t.y,z:e.z+t.z}),{x:0,y:0,z:0});d.length>0&&(m.x/=d.length,m.y/=d.length,m.z/=d.length);let h=d.map(e=>{let t=[e.symbol,e.x-m.x,e.y-m.y,e.z-m.z];return"number"==typeof e.charge&&0!==e.charge&&t.push(e.charge),t}),p=h.length,f=Array.from({length:p},()=>[]);for(let e of c)e.i>=0&&e.i<p&&e.j>=0&&e.j<p&&(f[e.i].push(e.j),f[e.j].push(e.i));let x=f.map(e=>e.length),b=Array(p).fill(!1),g=[];for(let e=0;e<p;e+=1){if(b[e])continue;let t=[],l=[e];for(b[e]=!0;l.length;){let e=l.shift();for(let a of(t.push(e),f[e]))b[a]||(b[a]=!0,l.push(a))}g.push(t)}let y=(e,t)=>{let l=[],a=[e];for(t[e]=!0;a.length;){let e=a.shift();for(let r of(l.push(e),f[e].slice().sort((e,t)=>x[t]-x[e])))t[r]||(t[r]=!0,a.push(r))}return l},v=Array(g.length).fill(!1),w=[],j={x:0,y:0,z:0},N=-1,M=-1,k=1/0;for(let e=0;e<g.length;e+=1)for(let t of g[e]){let l=h[t],a=Math.max(Math.abs(l[1]),Math.abs(l[2]),Math.abs(l[3]));a<k&&(k=a,N=e,M=t)}if(N>=0){let e=y(M,Array(p).fill(!1));w.push(...e),v[N]=!0;let t=h[e[e.length-1]];j={x:t[1],y:t[2],z:t[3]}}for(;v.some(e=>!e);){let e=-1,t=-1,l=1/0;for(let a=0;a<g.length;a+=1)if(!v[a])for(let r of g[a]){let n=h[r],s=n[1]-j.x,i=n[2]-j.y,o=n[3]-j.z,d=s*s+i*i+o*o;d<l&&(l=d,e=a,t=r)}let a=y(t,Array(p).fill(!1));w.push(...a),v[e]=!0;let r=h[a[a.length-1]];j={x:r[1],y:r[2],z:r[3]}}let C=Array(p);for(let e=0;e<p;e+=1)C[w[e]]=e;r?w.map(e=>u[e]):u.slice();let S=r?w.map(e=>h[e]):h.slice(),F=r?c.map(e=>{var t,l;return{i:null!=(t=C[e.i])?t:e.i,j:null!=(l=C[e.j])?l:e.j,order:e.order}}):c.map(e=>({i:e.i,j:e.j,order:e.order})),z=0;for(let e of S)z=Math.max(z,Math.abs(e[1]),Math.abs(e[2]),Math.abs(e[3]));let E=z/32.767,R=0;for(;R<3&&1<<R<E;)R+=1;let U=1<<R,P=[],T=new Map;for(let e of S){let t=(0,D.Z)(e[0]);if(!T.has(t)&&(T.set(t,P.length),P.push(t),127===P.length))break}let q=P.length||1,Z=Math.max(1,I(q)),G=Math.min(S.length,1023),$=Math.min(F.length,4095),_=l?0:$,H=Math.max(1,I(G)),V=null!=(s=({standard:0,metal:1,toon:2,glass:3})[t.material])?s:0,W=Math.max(0,Math.min(63,Math.round(t.atomScale/.02))),Y=Math.max(0,Math.min(63,Math.round(t.bondRadius/.02))),Q=null!=(i=({low:0,medium:1,high:2,ultra:3})[t.quality])?i:2,X=e=>Math.max(-32768,Math.min(32767,e)),K=1<<Math.max(0,Math.min(8,null!=a?a:0)),J=new Int32Array(G),ee=new Int32Array(G),et=new Int32Array(G),el=()=>{for(let e=0;e<G;e+=1){let[,t,l,a]=S[e],r=t/U*1e3,n=l/U*1e3,s=a/U*1e3,i=X(Math.round(r/K)*K),o=X(Math.round(n/K)*K),d=X(Math.round(s/K)*K);J[e]=i,ee[e]=o,et[e]=d}let e=0,t=0,l=0,a=0;for(let n=0;n<G;n+=1){let s=J[n],i=ee[n],o=et[n];r?(e=0===n?Math.max(e,Math.abs(s),Math.abs(i),Math.abs(o)):Math.max(e,Math.abs(s-t),Math.abs(i-l),Math.abs(o-a)),t=s,l=i,a=o):e=Math.max(e,Math.abs(s),Math.abs(i),Math.abs(o))}return e},ea=el(),er=ea<=0?1:Math.ceil(Math.log2(ea+1))+1;for(;er>16&&R<3;)R+=1,U=1<<R,er=(ea=el())<=0?1:Math.ceil(Math.log2(ea+1))+1;let en=Math.max(8,Math.min(16,er)),es=new A.F;es.writeUnsigned(G,10),es.writeUnsigned(_,12),es.writeUnsigned(R,2),es.writeUnsigned(en-8,4),es.writeUnsigned(V,2),es.writeUnsigned(W,6),es.writeUnsigned(Y,6),es.writeUnsigned(Q,2),es.writeUnsigned(+!!r,1),es.writeUnsigned(+!!l,1),es.writeUnsigned(q,7);for(let e=0;e<q;e+=1)es.writeUnsigned(P[e],7);let ei=(e=>{if(!e)return;let t=e.trim();if(!t)return;let l=[];for(let e of t)if(l.push(null!=O[e]?e:"-"),l.length>=63)break;return l.join("")})(null!=n?n:e.title);if(ei&&ei.length>0){es.writeUnsigned(1,1),es.writeUnsigned(ei.length,6);for(let e=0;e<ei.length;e++){let t=null!=(o=O[ei[e]])?o:O["-"];es.writeUnsigned(t,6)}}else es.writeUnsigned(0,1);let eo=0,ed=0,ec=0;for(let e=0;e<G;e+=1){let[t]=S[e],l=T.get((0,D.Z)(t));es.writeUnsigned(l,Z);let a=J[e],n=ee[e],s=et[e];r&&0!==e?(es.writeSigned(a-eo,en),es.writeSigned(n-ed,en),es.writeSigned(s-ec,en)):(es.writeSigned(a,en),es.writeSigned(n,en),es.writeSigned(s,en)),eo=a,ed=n,ec=s}for(let e=0;e<_;e+=1){let t=F[e],l=Math.max(0,Math.min(G-1,t.i)),a=Math.max(0,Math.min(G-1,t.j)),r=Math.max(1,Math.min(3,t.order)),n=1===r?1:2===r?2:3;es.writeUnsigned(l,H),es.writeUnsigned(a,H),es.writeUnsigned(n,2)}let eu=es.toUint8Array();return{innerCompressed:(0,L.Kc)(eu,{level:9}),payload:{v:2,atoms:r?w.map(e=>u[e]):u.slice(),bonds:F.map(e=>{var t;return[e.i,e.j,null!=(t=e.order)?t:1]}),style:{...t},meta:ei&&ei.length>0?{title:ei}:void 0},scaleExp:R}},q=async e=>{let{molecule:t,style:l,omitBonds:a=!1,precisionDrop:r,useDelta:n=!1,title:s,password:i}=e,{innerCompressed:o,payload:d,scaleExp:c}=T(t,l,a,r,n,s),u=(0,P.po)(16),m=(0,P.po)(12),h=await (0,P.XG)(i,u,1e5),p=await (0,P.G5)(h,m,o),f=new Uint8Array([77,83,17]),x=new Uint8Array(f.byteLength+u.byteLength+m.byteLength+p.byteLength);return x.set(f,0),x.set(u,f.byteLength+0),x.set(m,f.byteLength+u.byteLength),x.set(p,f.byteLength+u.byteLength+m.byteLength),{encoded:(0,z.V)(x),byteLength:x.byteLength,payload:d,scaleExp:c}},Z={material:"standard",atomScale:.28,bondRadius:.1,quality:"high"},G=e=>!Number.isFinite(e)||e<=0?"0 B":e<1024?"".concat(e.toFixed(0)," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(2)," MB"),$=()=>{var e,t,l;let[s,o]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(Z),[b,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[w,j]=(0,r.useState)(0),N=(0,r.useCallback)(()=>{o(null),h(null),f(Z),g(null),v(null),A(null),R(null),P(null),H(""),K(null),I(!1),$(!1),W(!1),Q(""),ee(0),j(e=>e+1)},[]),[L,A]=(0,r.useState)(null),[E,R]=(0,r.useState)(null),[D,P]=(0,r.useState)(null),[B,I]=(0,r.useState)(!1),[O,$]=(0,r.useState)(!1),[_,H]=(0,r.useState)(""),[V,W]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)(""),[X,K]=(0,r.useState)(null),[J,ee]=(0,r.useState)(0),[et,el]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=window.visualViewport;if(!e)return;let t=()=>{el(e.height/window.innerHeight<.85)};return e.addEventListener("resize",t),e.addEventListener("scroll",t),t(),()=>{e.removeEventListener("resize",t),e.removeEventListener("scroll",t)}},[]);let ea=(0,r.useCallback)(e=>{R(null),A(null),P(null),g(null),K(null);try{let t=((e,t)=>"sdf"===t?(e=>{var t;let l=i(e).split("$$$$")[0];if(!l)throw Error("Empty SDF payload");let a=l.split("\n"),r=(null==(t=a[0])?void 0:t.trim())||void 0,{atoms:n,bonds:s}=a.some(e=>e.includes("V3000"))?(e=>{let t=[],l=[],a=null;for(let r of e){let e=r.trim();if(!e.startsWith("M  V30"))continue;let n=e.substring(6).trim();if(n.startsWith("BEGIN ATOM")){a="atom";continue}if(n.startsWith("END ATOM")){a=null;continue}if(n.startsWith("BEGIN BOND")){a="bond";continue}if(n.startsWith("END BOND")){a=null;continue}if("atom"===a){let e,l=n.split(/\s+/);if(l.length<5)continue;let a=Number.parseInt(l[0],10)-1,r=l[1],s=Number.parseFloat(l[2]),i=Number.parseFloat(l[3]),o=Number.parseFloat(l[4]);for(let t of l.slice(5))if(t.startsWith("CHG=")||t.startsWith("CHARGE=")){let[,l]=t.split("=");e=Number.parseInt(null!=l?l:"0",10)}t[a]={symbol:r,x:s,y:i,z:o,...void 0!==e?{charge:e}:{}}}if("bond"===a){let e=n.split(/\s+/);if(e.length<4)continue;let t=Number.parseInt(e[1],10),a=Number.parseInt(e[2],10)-1,r=Number.parseInt(e[3],10)-1;l.push({i:a,j:r,order:S(t)})}}return{atoms:t.map((e,t)=>{if(!e)throw Error("Malformed SDF V3000: missing atom ".concat(t+1));return e}),bonds:l}})(a):(e=>{var t,l,a,r;let n=null==(t=e[3])?void 0:t.trim();if(!n)throw Error("Malformed SDF: missing counts line");let s=n.split(/\s+/).filter(Boolean),i=Number.parseInt(null!=(l=s[0])?l:"0",10),o=Number.parseInt(null!=(a=s[1])?a:"0",10);if(!Number.isFinite(i)||!Number.isFinite(o))throw Error("Malformed SDF: invalid atom/bond counts");let d=[];for(let t=0;t<i;t+=1){let l=e[4+t];if(!l)throw Error("Malformed SDF: incomplete atom block");let a=l.trim().split(/\s+/);if(a.length<4)throw Error("Malformed SDF atom line at index ".concat(t));let r=Number.parseFloat(a[0]),n=Number.parseFloat(a[1]),s=Number.parseFloat(a[2]),i=a[3],o=a[5]?Number.parseInt(a[5],10):0;if(!Number.isFinite(r)||!Number.isFinite(n)||!Number.isFinite(s))throw Error("Malformed SDF atom coordinates at index ".concat(t));let c={symbol:i,x:r,y:n,z:s};o&&C[o]&&(c.charge=C[o]),d.push(c)}let c=[],u=4+i;for(let t=0;t<o;t+=1){let l=e[u+t];if(!l)throw Error("Malformed SDF: incomplete bond block");let a=l.trim().split(/\s+/);if(a.length<3)throw Error("Malformed SDF bond line at index ".concat(t));let r=Number.parseInt(a[0],10)-1,n=Number.parseInt(a[1],10)-1,s=Number.parseInt(a[2],10);if(Number.isNaN(r)||Number.isNaN(n))throw Error("Malformed SDF bond indices at index ".concat(t));c.push({i:r,j:n,order:S(s)})}for(let t=u+o;t<e.length;t+=1){let l=e[t];if(l&&l.startsWith("M  CHG")){let e=l.trim().split(/\s+/),t=Number.parseInt(null!=(r=e[2])?r:"0",10);for(let l=0;l<t;l+=1){let t=Number.parseInt(e[3+2*l],10)-1,a=Number.parseInt(e[4+2*l],10);d[t]&&(d[t].charge=a)}}}return{atoms:d,bonds:c}})(a);if(!n.length)throw Error("Parsed SDF contains no atoms");return{atoms:n,bonds:s,title:r}})(e):(e=>{var t;let l=i(e).trim().split(/\n+/);if(l.length<2)throw Error("Malformed XYZ: insufficient lines");let a=Number.parseInt(l[0].trim(),10);if(!Number.isFinite(a)||a<=0)throw Error("Malformed XYZ: invalid atom count");let r=null==(t=l[1])?void 0:t.trim(),n=[];for(let e=0;e<a;e+=1){let t=l[2+e];if(!t)throw Error("Malformed XYZ: missing atom line");let a=t.trim().split(/\s+/);if(a.length<4)throw Error("Malformed XYZ: invalid atom line at index ".concat(e));let r=a[0],s=Number.parseFloat(a[1]),i=Number.parseFloat(a[2]),o=Number.parseFloat(a[3]);if(!Number.isFinite(s)||!Number.isFinite(i)||!Number.isFinite(o))throw Error("Malformed XYZ: invalid coordinates at index ".concat(e));n.push({symbol:r,x:s,y:i,z:o})}let s=(0,F.a)(n);return{title:r||void 0,atoms:n,bonds:s}})(e))(e.text,e.format);o(t),h(e.format),v({name:e.file.name,size:e.file.size}),H(""),"xyz"===e.format?I(!0):I(!1);let l=t.atoms.length>300;f({...Z,quality:l?"low":Z.quality}),l&&A("Loaded ".concat(t.atoms.length," atoms - switched to Low quality for performance. Adjust if your device can handle it."))}catch(e){console.error(e),o(null),h(null),v(null),R(e.message||"Failed to parse molecule")}},[]);(0,r.useEffect)(()=>{if(!s)return void P(null);let e=setTimeout(async()=>{try{let e=(()=>{if(!s||!X)return s;let e=X.clone(),t=new n.kn4().makeRotationFromQuaternion(e),l=s.atoms.map(e=>{let l=new n.Pq0(e.x,e.y,e.z).applyMatrix4(t);return{...e,x:l.x,y:l.y,z:l.z}});return{...s,atoms:l}})(),t=V&&Y.trim().length>=4;if(t&&!("undefined"!=typeof globalThis&&globalThis.crypto&&globalThis.crypto.subtle))throw Error("Encryption requires Web Crypto (HTTPS). Disable encryption or open this page over HTTPS.");let{encoded:l,byteLength:a,scaleExp:r}=t?await q({molecule:e,style:p,omitBonds:B,precisionDrop:J,useDelta:O,title:_,password:Y.trim()}):(e=>{let{molecule:t,style:l,omitBonds:a=!1,precisionDrop:r,useDelta:n=!1,title:s}=e,{innerCompressed:i,payload:o,scaleExp:d}=T(t,l,a,r,n,s),c=new Uint8Array([77,83,16]),u=new Uint8Array(c.byteLength+i.byteLength);return u.set(c,0),u.set(i,c.byteLength),{encoded:(0,z.V)(u),byteLength:u.byteLength,payload:o,scaleExp:d}})({molecule:e,style:p,omitBonds:B,precisionDrop:J,useDelta:O,title:_}),i=(e=>{let t=U.replace(/\/$/,"");return"".concat(t,"/qr#").concat(e)})(l);P({encoded:l,byteLength:a,url:i,scaleExp:r}),R(null)}catch(e){console.error(e),R(e.message||"Failed to generate QR payload"),P(null)}},600);return()=>clearTimeout(e)},[s,p,B,J,O,_,V,Y,X]);let er=(0,r.useMemo)(()=>{if(!s||!y)return k.FY;let e=[y.name,G(y.size),"".concat(s.atoms.length," atoms")];return m&&e.push(m.toUpperCase()),e.join(" | ")},[y,m,s]),en=(0,r.useMemo)(()=>{if(!s||!y)return null;let e=[y.name,G(y.size),"".concat(s.atoms.length," atoms")];return m&&e.push(m.toUpperCase()),e},[y,m,s]);return(0,a.jsxs)("main",{className:"mx-auto flex min-h-screen max-w-6xl flex-col gap-5 px-4 pb-10 pt-6 sm:px-6 lg:px-8",children:[(0,a.jsx)("header",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"bg-gradient-to-r from-sky-600 to-violet-600 bg-clip-text text-4xl font-extrabold text-transparent md:text-5xl",children:k.C3}),(0,a.jsx)("div",{className:"mt-2 min-h-6",children:en?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:en.map(e=>(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-700 ring-1 ring-slate-200",children:e},e))}):(0,a.jsxs)("p",{className:"text-sm leading-6 text-slate-600",children:[er," ",(0,a.jsxs)("span",{children:["For 2D drawings, use "," ",(0,a.jsx)("a",{href:k.pn,target:"_blank",rel:"noreferrer",className:"text-sky-600 hover:text-sky-700 underline underline-offset-2",children:k.xW}),"."]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{type:"button",onClick:N,disabled:!s,className:"inline-flex items-center justify-center gap-1 rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-700 shadow-sm transition hover:border-slate-300 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"h-4 w-4",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v6h6M20 20v-6h-6"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 10a8 8 0 0 0-14-4M4 14a8 8 0 0 0 14 4"})]}),"Reset"]}),(0,a.jsx)("a",{href:k.hn,target:"_blank",rel:"noreferrer","aria-label":"Open GitHub repository",className:"inline-flex items-center justify-center rounded-full border border-slate-200 bg-white p-2 text-slate-700 shadow-sm transition hover:border-slate-300 hover:bg-slate-50",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.486 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.091.682-.217.682-.482 0-.237-.009-.866-.013-1.7-2.782.605-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.463-1.11-1.463-.908-.62.069-.607.069-.607 1.004.07 1.532 1.032 1.532 1.032.893 1.53 2.341 1.088 2.91.833.091-.647.35-1.088.636-1.339-2.221-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.748-1.026 2.748-1.026.546 1.378.202 2.397.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.337 4.695-4.566 4.944.359.31.679.919.679 1.852 0 1.336-.012 2.414-.012 2.742 0 .267.18.577.688.479A10.02 10.02 0 0 0 22 12.017C22 6.486 17.523 2 12 2z"})})})]})]})}),(0,a.jsxs)("div",{className:"grid items-start gap-4 lg:grid-cols-[minmax(0,1fr)_340px]",children:[(0,a.jsxs)("div",{className:"space-y-4 min-w-0",children:[(0,a.jsx)(d,{variant:"overlay",onFileLoaded:ea,onError:R,className:"rounded-xl",disableClick:!!s,disableDrop:!1,children:(0,a.jsx)(c.j,{molecule:s,style:p,onGroupReady:g,showRotateControl:!0,onOrientationChange:e=>K(e),className:et?"h-[50dvh] min-h-[340px]":"h-[50lvh] min-h-[340px]"})}),(0,a.jsx)(u.X,{value:p,onChange:f,disabled:!s}),L?(0,a.jsxs)("div",{role:"status","aria-live":"polite",className:"flex items-start gap-2 rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-800",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:"mt-0.5 h-4 w-4 flex-none text-amber-600",fill:"currentColor","aria-hidden":!0,children:(0,a.jsx)("path",{d:"M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm0 14a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5Zm-1-8h2v6h-2V8Z"})}),(0,a.jsx)("span",{children:L})]}):null,E?(0,a.jsxs)("div",{role:"alert","aria-live":"assertive",className:"flex items-start gap-2 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-800",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:"mt-0.5 h-4 w-4 flex-none text-rose-600",fill:"currentColor","aria-hidden":!0,children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm1 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM11 7h2v6h-2V7Z"})}),(0,a.jsx)("span",{children:E})]}):null]}),(0,a.jsxs)("div",{className:"space-y-4 lg:sticky lg:top-6 min-w-0",children:[(0,a.jsx)(x,{source:b,disabled:!s,showOpenAr:!0,showSizes:!1}),(0,a.jsx)(M,{shareUrl:null!=(e=null==D?void 0:D.url)?e:null,encodedLength:null!=(t=null==D?void 0:D.encoded.length)?t:null,payloadBytes:null!=(l=null==D?void 0:D.byteLength)?l:null,scaleExp:null==D?void 0:D.scaleExp,title:_,onChangeTitle:H,omitBonds:B,onChangeOmitBonds:I,precisionDrop:J,onChangePrecisionDrop:ee,useDelta:O,onChangeUseDelta:$,encrypt:V,onChangeEncrypt:W,password:Y,onChangePassword:Q},w)]})]})]})}},4171:(e,t,l)=>{"use strict";l.r(t),l.d(t,{prepareSceneForExport:()=>s});var a=l(5339);let r=new a.kn4,n=new a.Q1f,s=e=>{let t=new a.Z58,l=e.clone(!0);(e=>{let t=[];e.traverse(e=>{e.isInstancedMesh&&e.parent&&t.push({parent:e.parent,original:e,replacement:(e=>{let t=new a.YJl;t.name=e.name||"instanced";let l=e.material;for(let u=0;u<e.count;u+=1){var s,i,o,d,c;e.getMatrixAt(u,r),e.instanceColor?e.getColorAt(u,n):!Array.isArray(l)&&"color"in l?n.copy(l.color):n.setHex(0xffffff);let m=e.geometry.clone(),h={color:n.getHex()},p=Array.isArray(l)?l[0]:l;p&&("number"==typeof p.metalness&&(h.metalness=p.metalness),"number"==typeof p.roughness&&(h.roughness=p.roughness),"number"==typeof p.opacity&&(h.opacity=p.opacity),"boolean"==typeof p.transparent&&(h.transparent=p.transparent),(p.isMeshLambertMaterial||p.isMeshToonMaterial)&&(h.metalness=null!=(i=h.metalness)?i:0,h.roughness=null!=(o=h.roughness)?o:.85),p.isMeshPhysicalMaterial&&(h.metalness=null!=(d=h.metalness)?d:0,h.roughness=null!=(c=h.roughness)?c:.35));let f=new a._4j({...h,vertexColors:!!(null==(s=m.attributes)?void 0:s.color)}),x=new a.eaF(m,f);x.applyMatrix4(r),t.add(x)}return t})(e)})}),t.forEach(e=>{let{parent:t,original:l,replacement:a}=e;t.remove(l),a.position.copy(l.position),a.rotation.copy(l.rotation),a.scale.copy(l.scale),t.add(a)})})(l),l.traverse(e=>{if(!e.isMesh)return;let t=e.material,l=e=>{var t,l,r,n,s,i,o;let d={};return e.color&&(d.color=null!=(r=null==(t=(l=e.color).getHex)?void 0:t.call(l))?r:e.color),"number"==typeof e.metalness&&(d.metalness=e.metalness),"number"==typeof e.roughness&&(d.roughness=e.roughness),"number"==typeof e.opacity&&(d.opacity=e.opacity),"boolean"==typeof e.transparent&&(d.transparent=e.transparent),(e.isMeshLambertMaterial||e.isMeshToonMaterial)&&(d.metalness=null!=(n=d.metalness)?n:0,d.roughness=null!=(s=d.roughness)?s:.85),e.isMeshPhysicalMaterial&&(d.metalness=null!=(i=d.metalness)?i:0,d.roughness=null!=(o=d.roughness)?o:.35),new a._4j(d)};Array.isArray(t)?e.material=t.map(e=>e.isMeshStandardMaterial?e:l(e)):t.isMeshStandardMaterial||(e.material=l(t))}),l.scale.setScalar(.01),l.updateMatrixWorld(!0),t.add(new a.$p8(0xffffff,.8));let s=new a.ZyN(0xffffff,.6);return s.position.set(5,10,7),t.add(s),t.add(l),t}},6847:(e,t,l)=>{"use strict";l.r(t),l.d(t,{exportGlb:()=>a});let a=async e=>{let{GLTFExporter:t}=await l.e(457).then(l.bind(l,9457)),a=new t;return new Promise((t,l)=>{a.parse(e,e=>{if(e instanceof ArrayBuffer)return void t(new File([e],"molstamp.glb",{type:"model/gltf-binary"}));t(new File(["string"==typeof e?e:JSON.stringify(e)],"molstamp.gltf",{type:"application/json"}))},l,{binary:!0,onlyVisible:!0})})}}},e=>{e.O(0,[831,367,413,33,355,863,926,441,255,358],()=>e(e.s=1086)),_N_E=e.O()}]);